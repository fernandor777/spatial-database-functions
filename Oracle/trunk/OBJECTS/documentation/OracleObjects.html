<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><link rel="shortcut icon" href="http://www.spatialdbadvisor.com/images/243t.png"/>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./OracleObjects.css" type="text/css" />
<title>./documentation/OracleObjects</title>
<!-- Source: ./src/ -->
<!-- Generated with ROBODoc Version 4.99.36 (Mar 13 2008) -->
</head>
<body>
<div id="logo">
<a name="robo_top_of_doc">SPDBA Object Types and Methods Documentation</a>
</div> <!-- logo -->
<h3>TABLE OF CONTENTS</h3>
<ul>
<li>1. <a href="#robo0">PACKAGE/COGO</a></li>
<ul>
<li>1.1. <a href="#robo5">COGO/ArcTan2</a></li>
<li>1.2. <a href="#robo6">COGO/CardinalDirection</a></li>
<li>1.3. <a href="#robo7">COGO/DD2DMS</a></li>
<li>1.4. <a href="#robo8">COGO/DD2TIME</a></li>
<li>1.5. <a href="#robo9">COGO/DMS2DD</a></li>
<li>1.6. <a href="#robo10">COGO/PI</a></li>
<li>1.7. <a href="#robo11">COGO/QuadrantBearing</a></li>
<li>1.8. <a href="#robo12">COGO/ST_Degrees</a></li>
<li>1.9. <a href="#robo13">COGO/ST_Normalize</a></li>
<li>1.10. <a href="#robo14">COGO/ST_Radians</a></li>
</ul>
<li>2. <a href="#robo1">PACKAGE/DEBUG</a></li>
<li>3. <a href="#robo2">PACKAGE/PRINT</a></li>
<li>4. <a href="#robo3">PACKAGE/ST_LRS</a></li>
<li>5. <a href="#robo4">PACKAGE/TOOLS</a></li>
<ul>
<li>5.1. <a href="#robo351">TOOLS/Generate_Series</a></li>
<li>5.2. <a href="#robo352">TOOLS/ST_DB_Version</a></li>
<li>5.3. <a href="#robo353">TOOLS/ST_GetSridType</a></li>
<li>5.4. <a href="#robo354">TOOLS/ST_isLocator</a></li>
<li>5.5. <a href="#robo355">TOOLS/TokenAggregator</a></li>
<li>5.6. <a href="#robo356">TOOLS/Tokenizer</a></li>
</ul>
<li>6. <a href="#robo15">OBJECT TYPE ARRAY/T_BEARING_DISTANCES</a></li>
<li>7. <a href="#robo16">OBJECT TYPE ARRAY/T_ELEMINFOSET</a></li>
<li>8. <a href="#robo17">OBJECT TYPE ARRAY/T_GEOMETRIES</a></li>
<li>9. <a href="#robo18">OBJECT TYPE ARRAY/T_GRIDS</a></li>
<li>10. <a href="#robo19">OBJECT TYPE ARRAY/T_INTVALUES</a></li>
<li>11. <a href="#robo20">OBJECT TYPE ARRAY/T_SEGMENTS</a></li>
<li>12. <a href="#robo21">OBJECT TYPE ARRAY/T_TOKENS</a></li>
<li>13. <a href="#robo22">OBJECT TYPE/T_BEARING_DISTANCE</a></li>
<ul>
<li>13.1. <a href="#robo35">T_BEARING_DISTANCE/ATTRIBUTES(T_BEARING_DISTANCE)</a></li>
<li>13.2. <a href="#robo36">T_BEARING_DISTANCE/CONSTRUCTORS(T_BEARING_DISTANCE)</a></li>
</ul>
<li>14. <a href="#robo23">OBJECT TYPE/T_ELEMINFO</a></li>
<ul>
<li>14.1. <a href="#robo37">T_ELEMINFO/ATTRIBUTES(T_ELEMINFO)</a></li>
</ul>
<li>15. <a href="#robo24">OBJECT TYPE/T_GEOMETRY</a></li>
<ul>
<li>15.1. <a href="#robo38">T_GEOMETRY/ATTRIBUTES(T_GEOMETRY)</a></li>
<li>15.2. <a href="#robo39">T_GEOMETRY/CONSTRUCTOR(EWKT)</a></li>
<li>15.3. <a href="#robo40">T_GEOMETRY/CONSTRUCTOR(MDSYS.SDO_GEOMETRY_ARRAY)</a></li>
<li>15.4. <a href="#robo41">T_GEOMETRY/CONSTRUCTORS(STANDARD)</a></li>
<li>15.5. <a href="#robo42">T_GEOMETRY/OrderBy</a></li>
<li>15.6. <a href="#robo43">T_GEOMETRY/ST_Add_SEGMENT</a></li>
<li>15.7. <a href="#robo44">T_GEOMETRY/ST_Affine</a></li>
<li>15.8. <a href="#robo45">T_GEOMETRY/ST_Append</a></li>
<li>15.9. <a href="#robo46">T_GEOMETRY/ST_Area</a></li>
<li>15.10. <a href="#robo47">T_GEOMETRY/ST_AsEWKT</a></li>
<li>15.11. <a href="#robo48">T_GEOMETRY/ST_AsGeometryRow</a></li>
<li>15.12. <a href="#robo49">T_GEOMETRY/ST_AsText</a></li>
<li>15.13. <a href="#robo50">T_GEOMETRY/ST_AsTText</a></li>
<li>15.14. <a href="#robo51">T_GEOMETRY/ST_AsWKB</a></li>
<li>15.15. <a href="#robo52">T_GEOMETRY/ST_AsWKT</a></li>
<li>15.16. <a href="#robo53">T_GEOMETRY/ST_Boundary</a></li>
<li>15.17. <a href="#robo54">T_GEOMETRY/ST_Buffer</a></li>
<li>15.18. <a href="#robo55">T_GEOMETRY/ST_Centroid_A</a></li>
<li>15.19. <a href="#robo56">T_GEOMETRY/ST_Centroid_L</a></li>
<li>15.20. <a href="#robo57">T_GEOMETRY/ST_Centroid_P</a></li>
<li>15.21. <a href="#robo58">T_GEOMETRY/ST_Cogo2Line</a></li>
<li>15.22. <a href="#robo59">T_GEOMETRY/ST_Cogo2Polygon</a></li>
<li>15.23. <a href="#robo60">T_GEOMETRY/ST_Compress</a></li>
<li>15.24. <a href="#robo61">T_GEOMETRY/ST_Concat_Line</a></li>
<li>15.25. <a href="#robo62">T_GEOMETRY/ST_CoordDimension</a></li>
<li>15.26. <a href="#robo63">T_GEOMETRY/ST_Decompress</a></li>
<li>15.27. <a href="#robo64">T_GEOMETRY/ST_DeleteVertex</a></li>
<li>15.28. <a href="#robo65">T_GEOMETRY/ST_Densify</a></li>
<li>15.29. <a href="#robo66">T_GEOMETRY/ST_Difference</a></li>
<li>15.30. <a href="#robo67">T_GEOMETRY/ST_Dimension</a></li>
<li>15.31. <a href="#robo68">T_GEOMETRY/ST_DimInfo2Rectangle</a></li>
<li>15.32. <a href="#robo69">T_GEOMETRY/ST_Dims</a></li>
<li>15.33. <a href="#robo70">T_GEOMETRY/ST_Distance</a></li>
<li>15.34. <a href="#robo71">T_GEOMETRY/ST_Dump</a></li>
<li>15.35. <a href="#robo72">T_GEOMETRY/ST_Elem_Info_Equal</a></li>
<li>15.36. <a href="#robo73">T_GEOMETRY/ST_ElementTypeAt</a></li>
<li>15.37. <a href="#robo74">T_GEOMETRY/ST_ElemInfo</a></li>
<li>15.38. <a href="#robo75">T_GEOMETRY/ST_EndPoint</a></li>
<li>15.39. <a href="#robo76">T_GEOMETRY/ST_EndSegment</a></li>
<li>15.40. <a href="#robo77">T_GEOMETRY/ST_EndVertex</a></li>
<li>15.41. <a href="#robo78">T_GEOMETRY/ST_Envelope</a></li>
<li>15.42. <a href="#robo79">T_GEOMETRY/ST_Equals</a></li>
<li>15.43. <a href="#robo80">T_GEOMETRY/ST_Extend</a></li>
<li>15.44. <a href="#robo81">T_GEOMETRY/ST_ExteriorRing</a></li>
<li>15.45. <a href="#robo82">T_GEOMETRY/ST_Extract</a></li>
<li>15.46. <a href="#robo83">T_GEOMETRY/ST_Extract(p_geomType)</a></li>
<li>15.47. <a href="#robo84">T_GEOMETRY/ST_ExtractRings</a></li>
<li>15.48. <a href="#robo85">T_GEOMETRY/ST_FilterRings</a></li>
<li>15.49. <a href="#robo86">T_GEOMETRY/ST_FixOrdinates</a></li>
<li>15.50. <a href="#robo87">T_GEOMETRY/ST_Flip_Segments</a></li>
<li>15.51. <a href="#robo88">T_GEOMETRY/ST_FromEWKT</a></li>
<li>15.52. <a href="#robo89">T_GEOMETRY/ST_FromText</a></li>
<li>15.53. <a href="#robo90">T_GEOMETRY/ST_Geometry2DimInfo</a></li>
<li>15.54. <a href="#robo91">T_GEOMETRY/ST_GeometryType</a></li>
<li>15.55. <a href="#robo92">T_GEOMETRY/ST_GType</a></li>
<li>15.56. <a href="#robo93">T_GEOMETRY/ST_hasCircularArcs</a></li>
<li>15.57. <a href="#robo94">T_GEOMETRY/ST_HasDimension</a></li>
<li>15.58. <a href="#robo95">T_GEOMETRY/ST_hasM</a></li>
<li>15.59. <a href="#robo96">T_GEOMETRY/ST_hasRectangles</a></li>
<li>15.60. <a href="#robo97">T_GEOMETRY/ST_HasZ</a></li>
<li>15.61. <a href="#robo98">T_GEOMETRY/ST_inCircularArc</a></li>
<li>15.62. <a href="#robo99">T_GEOMETRY/ST_InsertVertex</a></li>
<li>15.63. <a href="#robo100">T_GEOMETRY/ST_Intersection</a></li>
<li>15.64. <a href="#robo101">T_GEOMETRY/ST_isClosed</a></li>
<li>15.65. <a href="#robo102">T_GEOMETRY/ST_isEmpty</a></li>
<li>15.66. <a href="#robo103">T_GEOMETRY/ST_isOrientedPoint</a></li>
<li>15.67. <a href="#robo104">T_GEOMETRY/ST_isSimple</a></li>
<li>15.68. <a href="#robo105">T_GEOMETRY/ST_isValid</a></li>
<li>15.69. <a href="#robo106">T_GEOMETRY/ST_isValidContext</a></li>
<li>15.70. <a href="#robo107">T_GEOMETRY/ST_Length</a></li>
<li>15.71. <a href="#robo108">T_GEOMETRY/ST_Line2Cogo</a></li>
<li>15.72. <a href="#robo109">T_GEOMETRY/ST_LineShift</a></li>
<li>15.73. <a href="#robo110">T_GEOMETRY/ST_LRS_Add_Measure</a></li>
<li>15.74. <a href="#robo111">T_GEOMETRY/ST_LRS_Concatenate</a></li>
<li>15.75. <a href="#robo112">T_GEOMETRY/ST_LRS_Dim</a></li>
<li>15.76. <a href="#robo113">T_GEOMETRY/ST_LRS_End_Measure</a></li>
<li>15.77. <a href="#robo114">T_GEOMETRY/ST_LRS_Find_Measure</a></li>
<li>15.78. <a href="#robo115">T_GEOMETRY/ST_LRS_Find_MeasureN</a></li>
<li>15.79. <a href="#robo116">T_GEOMETRY/ST_LRS_Find_Offset</a></li>
<li>15.80. <a href="#robo117">T_GEOMETRY/ST_LRS_Get_Measure</a></li>
<li>15.81. <a href="#robo118">T_GEOMETRY/ST_LRS_Intersection</a></li>
<li>15.82. <a href="#robo119">T_GEOMETRY/ST_LRS_Is_Measure_Decreasing</a></li>
<li>15.83. <a href="#robo120">T_GEOMETRY/ST_LRS_Is_Measure_Increasing</a></li>
<li>15.84. <a href="#robo121">T_GEOMETRY/ST_LRS_Is_Shape_Pt_Measure</a></li>
<li>15.85. <a href="#robo122">T_GEOMETRY/ST_LRS_isMeasured</a></li>
<li>15.86. <a href="#robo123">T_GEOMETRY/ST_LRS_Locate_Along</a></li>
<li>15.87. <a href="#robo124">T_GEOMETRY/ST_LRS_Locate_Between</a></li>
<li>15.88. <a href="#robo125">T_GEOMETRY/ST_LRS_Locate_Measure</a></li>
<li>15.89. <a href="#robo126">T_GEOMETRY/ST_LRS_Locate_Measures</a></li>
<li>15.90. <a href="#robo127">T_GEOMETRY/ST_LRS_Locate_Point</a></li>
<li>15.91. <a href="#robo128">T_GEOMETRY/ST_LRS_Measure_Range</a></li>
<li>15.92. <a href="#robo129">T_GEOMETRY/ST_LRS_Measure_To_Percentage</a></li>
<li>15.93. <a href="#robo130">T_GEOMETRY/ST_LRS_Percentage_To_Measure</a></li>
<li>15.94. <a href="#robo131">T_GEOMETRY/ST_LRS_Project_Point</a></li>
<li>15.95. <a href="#robo132">T_GEOMETRY/ST_LRS_Reset_Measure</a></li>
<li>15.96. <a href="#robo133">T_GEOMETRY/ST_LRS_Reverse_Measure</a></li>
<li>15.97. <a href="#robo134">T_GEOMETRY/ST_LRS_Scale_Measures</a></li>
<li>15.98. <a href="#robo135">T_GEOMETRY/ST_LRS_Start_Measure</a></li>
<li>15.99. <a href="#robo136">T_GEOMETRY/ST_LRS_Update_Measures</a></li>
<li>15.100. <a href="#robo137">T_GEOMETRY/ST_LRS_Valid_Geometry</a></li>
<li>15.101. <a href="#robo138">T_GEOMETRY/ST_LRS_Valid_Measure</a></li>
<li>15.102. <a href="#robo139">T_GEOMETRY/ST_LRS_Valid_Point</a></li>
<li>15.103. <a href="#robo140">T_GEOMETRY/ST_LRS_Valid_Segment</a></li>
<li>15.104. <a href="#robo141">T_GEOMETRY/ST_MBR</a></li>
<li>15.105. <a href="#robo142">T_GEOMETRY/ST_Multi</a></li>
<li>15.106. <a href="#robo143">T_GEOMETRY/ST_Multi_Centroid</a></li>
<li>15.107. <a href="#robo144">T_GEOMETRY/ST_NumElementInfo</a></li>
<li>15.108. <a href="#robo145">T_GEOMETRY/ST_NumElements</a></li>
<li>15.109. <a href="#robo146">T_GEOMETRY/ST_NumGeometries</a></li>
<li>15.110. <a href="#robo147">T_GEOMETRY/ST_NumInteriorRing</a></li>
<li>15.111. <a href="#robo148">T_GEOMETRY/ST_NumPoints</a></li>
<li>15.112. <a href="#robo149">T_GEOMETRY/ST_NumRectangles</a></li>
<li>15.113. <a href="#robo150">T_GEOMETRY/ST_NumRings</a></li>
<li>15.114. <a href="#robo151">T_GEOMETRY/ST_NumSegments</a></li>
<li>15.115. <a href="#robo152">T_GEOMETRY/ST_NumSubElements</a></li>
<li>15.116. <a href="#robo153">T_GEOMETRY/ST_NumVertices</a></li>
<li>15.117. <a href="#robo154">T_GEOMETRY/ST_OneSidedBuffer</a></li>
<li>15.118. <a href="#robo155">T_GEOMETRY/ST_Ord2SdoPoint</a></li>
<li>15.119. <a href="#robo156">T_GEOMETRY/ST_Ordinates_Equal</a></li>
<li>15.120. <a href="#robo157">T_GEOMETRY/ST_Parallel</a></li>
<li>15.121. <a href="#robo158">T_GEOMETRY/ST_PointN</a></li>
<li>15.122. <a href="#robo159">T_GEOMETRY/ST_Polygon2Line</a></li>
<li>15.123. <a href="#robo160">T_GEOMETRY/ST_Polygon2Rectangle</a></li>
<li>15.124. <a href="#robo161">T_GEOMETRY/ST_Rectangle</a></li>
<li>15.125. <a href="#robo162">T_GEOMETRY/ST_Rectangle2Polygon</a></li>
<li>15.126. <a href="#robo163">T_GEOMETRY/ST_Reduce</a></li>
<li>15.127. <a href="#robo164">T_GEOMETRY/ST_Reflect(p_reflect_geom p_reflect_plane)</a></li>
<li>15.128. <a href="#robo165">T_GEOMETRY/ST_Relate</a></li>
<li>15.129. <a href="#robo166">T_GEOMETRY/ST_Release</a></li>
<li>15.130. <a href="#robo167">T_GEOMETRY/ST_RemoveCollinearPoints</a></li>
<li>15.131. <a href="#robo168">T_GEOMETRY/ST_RemoveDuplicateVertices</a></li>
<li>15.132. <a href="#robo169">T_GEOMETRY/ST_RemoveInnerRings</a></li>
<li>15.133. <a href="#robo170">T_GEOMETRY/ST_Reverse_Geometry</a></li>
<li>15.134. <a href="#robo171">T_GEOMETRY/ST_Reverse_Linestring</a></li>
<li>15.135. <a href="#robo172">T_GEOMETRY/ST_Rotate(p_angle p_dir p_rotate_point p_line1)</a></li>
<li>15.136. <a href="#robo173">T_GEOMETRY/ST_Rotate(p_angle p_rotate_point)</a></li>
<li>15.137. <a href="#robo174">T_GEOMETRY/ST_Rotate(p_angle p_rx p_rx)</a></li>
<li>15.138. <a href="#robo175">T_GEOMETRY/ST_Rotate(p_angle)</a></li>
<li>15.139. <a href="#robo176">T_GEOMETRY/ST_RotTransScale(p_reflect_geom p_reflect_plane)</a></li>
<li>15.140. <a href="#robo177">T_GEOMETRY/ST_Round</a></li>
<li>15.141. <a href="#robo178">T_GEOMETRY/ST_Scale(p_sx p_sy p_sz p_scale_point)</a></li>
<li>15.142. <a href="#robo179">T_GEOMETRY/ST_SDO_GType</a></li>
<li>15.143. <a href="#robo180">T_GEOMETRY/ST_Sdo_Point_Equal</a></li>
<li>15.144. <a href="#robo181">T_GEOMETRY/ST_SdoPoint2Ord</a></li>
<li>15.145. <a href="#robo182">T_GEOMETRY/ST_Segmentize</a></li>
<li>15.146. <a href="#robo183">T_GEOMETRY/ST_SegmentN</a></li>
<li>15.147. <a href="#robo184">T_GEOMETRY/ST_SetPoint</a></li>
<li>15.148. <a href="#robo185">T_GEOMETRY/ST_SetPrecision</a></li>
<li>15.149. <a href="#robo186">T_GEOMETRY/ST_SetProjection</a></li>
<li>15.150. <a href="#robo187">T_GEOMETRY/ST_SetSdoGtype</a></li>
<li>15.151. <a href="#robo188">T_GEOMETRY/ST_SetSRID</a></li>
<li>15.152. <a href="#robo189">T_GEOMETRY/ST_SetTolerance</a></li>
<li>15.153. <a href="#robo190">T_GEOMETRY/ST_SmoothTile</a></li>
<li>15.154. <a href="#robo191">T_GEOMETRY/ST_Snap</a></li>
<li>15.155. <a href="#robo192">T_GEOMETRY/ST_SnapN</a></li>
<li>15.156. <a href="#robo193">T_GEOMETRY/ST_Split(p_measure p_unit)</a></li>
<li>15.157. <a href="#robo194">T_GEOMETRY/ST_Split(p_point p_unit)</a></li>
<li>15.158. <a href="#robo195">T_GEOMETRY/ST_Split(p_vertex p_unit)</a></li>
<li>15.159. <a href="#robo196">T_GEOMETRY/ST_Split_Segments(p_point p_unit p_pairs)</a></li>
<li>15.160. <a href="#robo197">T_GEOMETRY/ST_Split_Segments(p_vertex p_unit p_pairs)</a></li>
<li>15.161. <a href="#robo198">T_GEOMETRY/ST_SquareBuffer</a></li>
<li>15.162. <a href="#robo199">T_GEOMETRY/ST_SRID</a></li>
<li>15.163. <a href="#robo200">T_GEOMETRY/ST_StartPoint</a></li>
<li>15.164. <a href="#robo201">T_GEOMETRY/ST_StartSegment</a></li>
<li>15.165. <a href="#robo202">T_GEOMETRY/ST_StartVertex</a></li>
<li>15.166. <a href="#robo203">T_GEOMETRY/ST_SwapOrdinates</a></li>
<li>15.167. <a href="#robo204">T_GEOMETRY/ST_Tile</a></li>
<li>15.168. <a href="#robo205">T_GEOMETRY/ST_To2D</a></li>
<li>15.169. <a href="#robo206">T_GEOMETRY/ST_To3D(p_default_z)</a></li>
<li>15.170. <a href="#robo207">T_GEOMETRY/ST_To3D(p_start_z p_end_z p_unit)</a></li>
<li>15.171. <a href="#robo208">T_GEOMETRY/ST_To3D(p_zOrdToKeep)</a></li>
<li>15.172. <a href="#robo209">T_GEOMETRY/ST_toMultiPoint</a></li>
<li>15.173. <a href="#robo210">T_GEOMETRY/ST_Translate(p_tx p_ty p_tz)</a></li>
<li>15.174. <a href="#robo211">T_GEOMETRY/ST_TravellingSalesman</a></li>
<li>15.175. <a href="#robo212">T_GEOMETRY/ST_UpdateVertex( p_old_vertex p_new_vertex )</a></li>
<li>15.176. <a href="#robo213">T_GEOMETRY/ST_UpdateVertex(p_vertex)</a></li>
<li>15.177. <a href="#robo214">T_GEOMETRY/ST_Validate</a></li>
<li>15.178. <a href="#robo215">T_GEOMETRY/ST_VertexN</a></li>
<li>15.179. <a href="#robo216">T_GEOMETRY/ST_Vertices</a></li>
<li>15.180. <a href="#robo217">T_GEOMETRY/ST_Which_Side</a></li>
</ul>
<li>16. <a href="#robo25">OBJECT TYPE/T_GEOMETRY_ROW</a></li>
<ul>
<li>16.1. <a href="#robo218">T_GEOMETRY_ROW/ATTRIBUTES(T_GEOMETRY_ROW)</a></li>
</ul>
<li>17. <a href="#robo26">OBJECT TYPE/T_GRID</a></li>
<ul>
<li>17.1. <a href="#robo219">T_GRID/ATTRIBUTES(T_GRID)</a></li>
</ul>
<li>18. <a href="#robo27">OBJECT TYPE/T_INTVALUE</a></li>
<ul>
<li>18.1. <a href="#robo220">T_INTVALUE/ATTRIBUTES(T_INTVALUE)</a></li>
</ul>
<li>19. <a href="#robo28">OBJECT TYPE/T_MBR</a></li>
<ul>
<li>19.1. <a href="#robo221">T_MBR/ATTRIBUTES(T_MBR)</a></li>
<li>19.2. <a href="#robo222">T_MBR/CONSTRUCTORS(T_MBR)</a></li>
<li>19.3. <a href="#robo223">T_MBR/Inspectors(T_MBR)</a></li>
<li>19.4. <a href="#robo224">T_MBR/Modifiers(T_MBR)</a></li>
<li>19.5. <a href="#robo225">T_MBR/Sorting(T_MBR)</a></li>
<li>19.6. <a href="#robo226">T_MBR/Testers(T_MBR)</a></li>
</ul>
<li>20. <a href="#robo29">OBJECT TYPE/T_PrecisionModel</a></li>
<li>21. <a href="#robo30">OBJECT TYPE/T_SEGMENT</a></li>
<ul>
<li>21.1. <a href="#robo227">T_SEGMENT/ATTRIBUTES</a></li>
<li>21.2. <a href="#robo228">T_SEGMENT/ATTRIBUTES(T_SEGMENT)</a></li>
<li>21.3. <a href="#robo229">T_SEGMENT/CONSTRUCTORS(T_SEGMENT)</a></li>
<li>21.4. <a href="#robo230">T_SEGMENT/OrderBy</a></li>
<li>21.5. <a href="#robo231">T_SEGMENT/ST_AddCurveBetweenSegments</a></li>
<li>21.6. <a href="#robo232">T_SEGMENT/ST_Angle</a></li>
<li>21.7. <a href="#robo233">T_SEGMENT/ST_AsText</a></li>
<li>21.8. <a href="#robo234">T_SEGMENT/ST_AsWKT</a></li>
<li>21.9. <a href="#robo235">T_SEGMENT/ST_Bearing</a></li>
<li>21.10. <a href="#robo236">T_SEGMENT/ST_CheckZ</a></li>
<li>21.11. <a href="#robo237">T_SEGMENT/ST_Closest(p_geometry p_unit)</a></li>
<li>21.12. <a href="#robo238">T_SEGMENT/ST_ComputeDeflectionAngle</a></li>
<li>21.13. <a href="#robo239">T_SEGMENT/ST_ComputeTangentLine</a></li>
<li>21.14. <a href="#robo240">T_SEGMENT/ST_ComputeTangentPoint</a></li>
<li>21.15. <a href="#robo241">T_SEGMENT/ST_Densify</a></li>
<li>21.16. <a href="#robo242">T_SEGMENT/ST_Dims</a></li>
<li>21.17. <a href="#robo243">T_SEGMENT/ST_Distance(p_segment p_unit)</a></li>
<li>21.18. <a href="#robo244">T_SEGMENT/ST_Distance(p_vertex p_unit)</a></li>
<li>21.19. <a href="#robo245">T_SEGMENT/ST_Equals</a></li>
<li>21.20. <a href="#robo246">T_SEGMENT/ST_FindCircle</a></li>
<li>21.21. <a href="#robo247">T_SEGMENT/ST_GetProjected</a></li>
<li>21.22. <a href="#robo248">T_SEGMENT/ST_hasM</a></li>
<li>21.23. <a href="#robo249">T_SEGMENT/ST_hasZ</a></li>
<li>21.24. <a href="#robo250">T_SEGMENT/ST_Intersect</a></li>
<li>21.25. <a href="#robo251">T_SEGMENT/ST_Intersect2CircularArcs</a></li>
<li>21.26. <a href="#robo252">T_SEGMENT/ST_IntersectCircularArc</a></li>
<li>21.27. <a href="#robo253">T_SEGMENT/ST_IntersectDescription</a></li>
<li>21.28. <a href="#robo254">T_SEGMENT/ST_IntersectDetail</a></li>
<li>21.29. <a href="#robo255">T_SEGMENT/ST_isCircularArc</a></li>
<li>21.30. <a href="#robo256">T_SEGMENT/ST_isCollinear</a></li>
<li>21.31. <a href="#robo257">T_SEGMENT/ST_isEmpty</a></li>
<li>21.32. <a href="#robo258">T_SEGMENT/ST_isHorizontal</a></li>
<li>21.33. <a href="#robo259">T_SEGMENT/ST_isPointOnSegment</a></li>
<li>21.34. <a href="#robo260">T_SEGMENT/ST_isReversed</a></li>
<li>21.35. <a href="#robo261">T_SEGMENT/ST_isVertical</a></li>
<li>21.36. <a href="#robo262">T_SEGMENT/ST_Length</a></li>
<li>21.37. <a href="#robo263">T_SEGMENT/ST_LineSubstring</a></li>
<li>21.38. <a href="#robo264">T_SEGMENT/ST_LRS_Add_Measure</a></li>
<li>21.39. <a href="#robo265">T_SEGMENT/ST_LRS_Compute_Measure</a></li>
<li>21.40. <a href="#robo266">T_SEGMENT/ST_LRS_Dim</a></li>
<li>21.41. <a href="#robo267">T_SEGMENT/ST_LRS_isMeasured</a></li>
<li>21.42. <a href="#robo268">T_SEGMENT/ST_LRS_Measure_Length</a></li>
<li>21.43. <a href="#robo269">T_SEGMENT/ST_MaxX</a></li>
<li>21.44. <a href="#robo270">T_SEGMENT/ST_MaxY</a></li>
<li>21.45. <a href="#robo271">T_SEGMENT/ST_MBR</a></li>
<li>21.46. <a href="#robo272">T_SEGMENT/ST_Merge</a></li>
<li>21.47. <a href="#robo273">T_SEGMENT/ST_MidPoint</a></li>
<li>21.48. <a href="#robo274">T_SEGMENT/ST_MinX</a></li>
<li>21.49. <a href="#robo275">T_SEGMENT/ST_MinY</a></li>
<li>21.50. <a href="#robo276">T_SEGMENT/ST_OffsetBetween</a></li>
<li>21.51. <a href="#robo277">T_SEGMENT/ST_OffsetPoint</a></li>
<li>21.52. <a href="#robo278">T_SEGMENT/ST_Parallel</a></li>
<li>21.53. <a href="#robo279">T_SEGMENT/ST_PointAlong</a></li>
<li>21.54. <a href="#robo280">T_SEGMENT/ST_PointAlongOffset</a></li>
<li>21.55. <a href="#robo281">T_SEGMENT/ST_ProjectPoint</a></li>
<li>21.56. <a href="#robo282">T_SEGMENT/ST_Reverse</a></li>
<li>21.57. <a href="#robo283">T_SEGMENT/ST_Round</a></li>
<li>21.58. <a href="#robo284">T_SEGMENT/ST_Round(x y z m)</a></li>
<li>21.59. <a href="#robo285">T_SEGMENT/ST_SdoGeometry</a></li>
<li>21.60. <a href="#robo286">T_SEGMENT/ST_Self</a></li>
<li>21.61. <a href="#robo287">T_SEGMENT/ST_SetCoordinates(vertex vertex vertex)</a></li>
<li>21.62. <a href="#robo288">T_SEGMENT/ST_SetCoordinates(vertex vertex)</a></li>
<li>21.63. <a href="#robo289">T_SEGMENT/ST_SetPrecisionModel</a></li>
<li>21.64. <a href="#robo290">T_SEGMENT/ST_SRID</a></li>
<li>21.65. <a href="#robo291">T_SEGMENT/ST_To2D</a></li>
<li>21.66. <a href="#robo292">T_SEGMENT/ST_To3D</a></li>
<li>21.67. <a href="#robo293">T_SEGMENT/ST_UpdateCoordinate(p_vertex)</a></li>
<li>21.68. <a href="#robo294">T_SEGMENT/STPointToCircularArc</a></li>
<li>21.69. <a href="#robo295">T_SEGMENT/STPointToLineString</a></li>
</ul>
<li>22. <a href="#robo31">OBJECT TYPE/T_TOKEN</a></li>
<ul>
<li>22.1. <a href="#robo296">T_TOKEN/ATTRIBUTES(T_TOKEN)</a></li>
</ul>
<li>23. <a href="#robo32">OBJECT TYPE/T_VECTOR3D</a></li>
<ul>
<li>23.1. <a href="#robo297">T_VECTOR3D/AddV</a></li>
<li>23.2. <a href="#robo298">T_VECTOR3D/Angle</a></li>
<li>23.3. <a href="#robo299">T_VECTOR3D/AsSdoGeometry</a></li>
<li>23.4. <a href="#robo300">T_VECTOR3D/AsText</a></li>
<li>23.5. <a href="#robo301">T_VECTOR3D/ATTRIBUTES(T_VECTOR3D)</a></li>
<li>23.6. <a href="#robo302">T_VECTOR3D/CONSTRUCTORS(T_VECTOR3D)</a></li>
<li>23.7. <a href="#robo303">T_VECTOR3D/Cross</a></li>
<li>23.8. <a href="#robo304">T_VECTOR3D/Distance(t_vector3d)</a></li>
<li>23.9. <a href="#robo305">T_VECTOR3D/Distance(t_vertex)</a></li>
<li>23.10. <a href="#robo306">T_VECTOR3D/DistanceSquared(T_Vector3D)</a></li>
<li>23.11. <a href="#robo307">T_VECTOR3D/DistanceSquared(t_vertex)</a></li>
<li>23.12. <a href="#robo308">T_VECTOR3D/Divide</a></li>
<li>23.13. <a href="#robo309">T_VECTOR3D/Dot</a></li>
<li>23.14. <a href="#robo310">T_VECTOR3D/Equals</a></li>
<li>23.15. <a href="#robo311">T_VECTOR3D/Magnitude</a></li>
<li>23.16. <a href="#robo312">T_VECTOR3D/MagnitudeSquared</a></li>
<li>23.17. <a href="#robo313">T_VECTOR3D/Multiply</a></li>
<li>23.18. <a href="#robo314">T_VECTOR3D/Negate</a></li>
<li>23.19. <a href="#robo315">T_VECTOR3D/Normalize</a></li>
<li>23.20. <a href="#robo316">T_VECTOR3D/Normalize(t_vector3d)</a></li>
<li>23.21. <a href="#robo317">T_VECTOR3D/ProjectOnLine(t_segment)</a></li>
<li>23.22. <a href="#robo318">T_VECTOR3D/ProjectOnLine(t_vector t_vector)</a></li>
<li>23.23. <a href="#robo319">T_VECTOR3D/Subtract</a></li>
<li>23.24. <a href="#robo320">T_VECTOR3D/Zero</a></li>
</ul>
<li>24. <a href="#robo33">OBJECT TYPE/T_VERTEX</a></li>
<ul>
<li>24.1. <a href="#robo321">T_VERTEX/ATTRIBUTES(T_VERTEX)</a></li>
<li>24.2. <a href="#robo322">T_VERTEX/CONSTRUCTORS(T_VERTEX)</a></li>
<li>24.3. <a href="#robo323">T_VERTEX/INSPECTORS(T_VERTEX)</a></li>
<li>24.4. <a href="#robo324">T_VERTEX/OrderBy</a></li>
<li>24.5. <a href="#robo325">T_VERTEX/ST_AsCoordString</a></li>
<li>24.6. <a href="#robo326">T_VERTEX/ST_AsText</a></li>
<li>24.7. <a href="#robo327">T_VERTEX/ST_Bearing</a></li>
<li>24.8. <a href="#robo328">T_VERTEX/ST_Dims</a></li>
<li>24.9. <a href="#robo329">T_VERTEX/ST_Distance</a></li>
<li>24.10. <a href="#robo330">T_VERTEX/ST_Equals</a></li>
<li>24.11. <a href="#robo331">T_VERTEX/ST_FromBearingAndDistance</a></li>
<li>24.12. <a href="#robo332">T_VERTEX/ST_HasM</a></li>
<li>24.13. <a href="#robo333">T_VERTEX/ST_hasZ</a></li>
<li>24.14. <a href="#robo334">T_VERTEX/ST_isEmpty</a></li>
<li>24.15. <a href="#robo335">T_VERTEX/ST_Lrs_Dim</a></li>
<li>24.16. <a href="#robo336">T_VERTEX/ST_LRS_Set_Measure</a></li>
<li>24.17. <a href="#robo337">T_VERTEX/ST_Round</a></li>
<li>24.18. <a href="#robo338">T_VERTEX/ST_SdoGeometry</a></li>
<li>24.19. <a href="#robo339">T_VERTEX/ST_SdoPointType</a></li>
<li>24.20. <a href="#robo340">T_VERTEX/ST_Self</a></li>
<li>24.21. <a href="#robo341">T_VERTEX/ST_SetCoordinate</a></li>
<li>24.22. <a href="#robo342">T_VERTEX/ST_SubtendedAngle</a></li>
<li>24.23. <a href="#robo343">T_VERTEX/ST_To2D</a></li>
<li>24.24. <a href="#robo344">T_VERTEX/ST_To3D</a></li>
<li>24.25. <a href="#robo345">T_VERTEX/ST_VertexType</a></li>
<li>24.26. <a href="#robo346">T_VERTEX/ST_WithinTolerance</a></li>
</ul>
<li>25. <a href="#robo34">OBJECT TYPE/T_VERTEXLIST</a></li>
<ul>
<li>25.1. <a href="#robo347">T_VERTEXLIST/addOrdinates</a></li>
<li>25.2. <a href="#robo348">T_VERTEXLIST/addVertices</a></li>
<li>25.3. <a href="#robo349">T_VERTEXLIST/ATTRIBUTES(T_VERTEXLIST)</a></li>
<li>25.4. <a href="#robo350">T_VERTEXLIST/CONSTRUCTORS(T_VERTEXE)</a></li>
</ul>
</ul>
<a name="robo0"></a>
<a name="PACKAGE2fCOGO"></a>
<h1>1.  PACKAGE/COGO [ Modules ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Modules ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>COGO</strong> - A package that publishes some common <strong>COGO</strong> functions used by other object types.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    A package that publishes some common <strong>COGO</strong> functions used by other object types.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo5"></a>
<a name="COGO2fArcTan2"></a>
<h2>1.1.  COGO/ArcTan2 [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">COGO</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ArcTan2</strong> -- Returns the angle in Radians with tangent opp/hyp. The returned value is between <a href="#robo10">PI</a> and -<a href="#robo10">PI</a>
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>ArcTan2</strong>( dOpp in number,
                      dAdj in number)
      Return Number deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns the angle in Radians with tangent opp/hyp. The returned value is between <a href="#robo10">PI</a> and -<a href="#robo10">PI</a>.
</pre>
<p class="item_name">INPUTS</p>
<pre>    dOpp : NUMBER : Length of the vector perpendicular to two vectors (cross product)
    dAdj : NUMBER : Length of the calculated from the dot product of two vectors
</pre>
<p class="item_name">RESULT</p>
<pre>    number : The angle in Radians with tangent opp/hyp
</pre>
<p class="item_name">NOTES</p>
<pre>    Assumes planar projection eg UTM.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    SELECT <a href="#robo0">COGO</a>.<strong>ArcTan2</strong>(14,15) as atan2
      FROM dual;

    ATAN2
    ------------
    0.7509290624
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo6"></a>
<a name="COGO2fCardinalDirection"></a>
<h2>1.2.  COGO/CardinalDirection [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">COGO</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>CardinalDirection</strong> -- Returns Compass point string equivalent of decimal degree numeric value.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>CardinalDirection</strong>(p_bearing      in number,
                               p_abbreviation in integer default 1)
      Return varchar2 Deterministic;
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_bearing       (Number) -- Decimal degrees.
    p_abbreviation (integer) -- Whether to return full text North (0) or abbreviation N (1), South West(0) or SW(1).
</pre>
<p class="item_name">RESULT</p>
<pre>    Compass Point (varchar2) -- Compass point string for supplied bearing.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function converts a numeric decimal degree value into its textual Compass Point equivalent.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select <a href="#robo0">COGO</a>.<strong>CardinalDirection</strong>(15.8515065952945,t.IntValue) as <strong>CardinalDirection</strong> 
      from table(tools.generate_series(0,1,1)) t;

    CARDINALDIRECTION
    -----------------
    NNE
    North-NorthEast

    -- All Compass Points
    select <a href="#robo0">COGO</a>.<a href="#robo7">DD2DMS</a>(avg(t.IntValue))         as bearing,
           <a href="#robo0">COGO</a>.<strong>CardinalDirection</strong>(t.IntValue,0) as <strong>CardinalDirection</strong>,
           <a href="#robo0">COGO</a>.<strong>CardinalDirection</strong>(t.IntValue,1) as CardinalDirectionFull
      from table(tools.generate_series(1,360,1)) t
    group by <a href="#robo0">COGO</a>.<strong>CardinalDirection</strong>(t.IntValue,0),
             <a href="#robo0">COGO</a>.<strong>CardinalDirection</strong>(t.IntValue,1);

    BEARING        CARDINALDIRECTION CARDINALDIRECTIONFULL
    -------------- ----------------- ----------------
    135°0'0"       SE                SouthEast
    187°49'33.913" N                 North
    90°0'0"        E                 East
    112°30'0"      ESE               East-SouthEast
    180°0'0"       S                 South
    315°0'0"       NW                NorthWest
    67°30'0"       ENE               East-NorthEast
    337°30'0"      NNW               North-NorthWest
    270°0'0"       W                 West
    157°30'0"      SSE               South-SouthEast
    202°30'0"      SSW               South-SouthWest
    292°30'0"      WNW               West-NorthWest
    225°0'0"       SW                SouthWest
    247°30'0"      WSW               West-SouthWest
    22°30'0"       NNE               North-NorthEast
    45°0'0"        NE                NorthEast
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo7"></a>
<a name="COGO2fDD2DMS"></a>
<h2>1.3.  COGO/DD2DMS [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">COGO</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>DD2DMS</strong> -- Returns string equivalent of decimal degree numeric value.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>DD2DMS</strong>(
                dDecDeg in Number,
                pDegree in NChar default '°',
                pMinute in NChar default '''',
                pSecond in NChar default '"' 
             )
      Return varchar2 Deterministic;
</pre>
<p class="item_name">INPUTS</p>
<pre>    dDecDeg (Number) - Decimal degrees.
    pDegree (NChar)  - Superscript degree value identifier eg °
    pMinute (NChar)  - Superscript minute value identifier eg '
    pSecond (NChar)  - Superscript second value identifier eg " 
</pre>
<p class="item_name">RESULT</p>
<pre>    Decimal Degrees (NUMBER) - eg 22.16972222.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function converts a numeric decimal degree value into its textual whole-circle bearing equivalent.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select <a href="#robo0">COGO</a>.<strong>DD2DMS</strong>(15.8515065952945,'^','''','"') as dms 
      from dual;

    DMS
    ------------
    15^51'5.424"
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo8"></a>
<a name="COGO2fDD2TIME"></a>
<h2>1.4.  COGO/DD2TIME [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">COGO</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>DD2TIME</strong> -- Supplied with a whole-circle bearing, this function returns its equivalent ClockFace Direction eg 45 =&gt; 1hr 30min.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>DD2TIME</strong>(p_dDecDeg in Number,
                     p_24_hour in integer default 0)
      Return varchar2 Deterministic;
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_dDecDeg (Number) -- Decimal degrees.
    p_24_hour (integer) -- 12 hour (0) readout or 24 (1)
</pre>
<p class="item_name">RESULT</p>
<pre>    Time as string (varchar2) -- ClockFace time as direction 45 degrees is same as 1Hr 30min
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function converts a whole circular bearing in decimal degrees to its equivalent ClockFace Direction eg 45 =&gt; 1hr 30min.
    Can return clockface directions as 12-14 hour references or 0-12 references.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select <a href="#robo0">COGO</a>.<strong>DD2TIME</strong>(t.IntValue,t12.IntValue) as clockface 
      from table(<a href="#robo4">TOOLS</a>.generate_series(0,360,45)) t,
           table(<a href="#robo4">TOOLS</a>.generate_series(0,1,1)) t12
     order by t12.IntValue, t.intValue;
    
    CLOCKFACE
    ----------
    0Hr 0min
    1Hr 30min
    3Hr 0min
    4Hr 30min
    6Hr 0min
    7Hr 30min
    9Hr 0min
    10Hr 30min
    12Hr 0min
    12Hr 0min
    13Hr 30min
    15Hr 0min
    16Hr 30min
    18Hr 0min
    19Hr 30min
    21Hr 0min
    22Hr 30min
    24Hr 0min
    
    18 rows selected 
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - September 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo9"></a>
<a name="COGO2fDMS2DD"></a>
<h2>1.5.  COGO/DMS2DD [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">COGO</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>DMS2DD</strong> -- Returns decimal degree value from string input.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>DMS2DD</strong>(strDegMinSec varchar2) 
      Return Number Deterministic;
</pre>
<p class="item_name">INPUTS</p>
<pre>    strDegMinSec (varchar2) - <a href="#robo298">Angle</a> in DMS format (quandrantal, whole circle or Cardinal bearing), with/without separators
</pre>
<p class="item_name">RESULT</p>
<pre>    Decimal Degrees (NUMBER) - eg 22.16972222.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function converts a textual representation of a degree value to its decimal equivalent.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select <a href="#robo0">COGO</a>.<strong>DMS2DD</strong>('15°51''5.424"') as dd 
      from DUAL;

    DD
    -----------------------------------------
    15.85150666666666666666666666666666666667

    select <a href="#robo0">COGO</a>.<strong>DMS2DD</strong>('22^10''11"') as dd
      from DUAL;

    DD
    -----------
    22.16972222 
 
    select <a href="#robo0">COGO</a>.<strong>DMS2DD</strong>('N22.1697E') as dd
     from DUAL;
 
    DD
    -----------
    22.16972222 

    select <a href="#robo0">COGO</a>.<strong>DMS2DD</strong>('S52E') as dd 
      from dual;

    DD
    --
    52
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo10"></a>
<a name="COGO2fPI"></a>
<h2>1.6.  COGO/PI [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">COGO</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>PI</strong> -- Returns constant <strong>PI</strong> value.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>PI</strong>
      Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function exposes static constant <strong>PI</strong>.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    SELECT <a href="#robo0">COGO</a>.<strong>PI</strong>()
      FROM DUAL;

                                  <a href="#robo0">COGO</a>.<strong>PI</strong>()
    ---------------------------------------
    3.1415926535897932384626433832795028842
</pre>
<p class="item_name">RESULT</p>
<pre>    <strong>PI</strong> (NUMBER) - 3.1415926535897932384626433832795028842
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo11"></a>
<a name="COGO2fQuadrantBearing"></a>
<h2>1.7.  COGO/QuadrantBearing [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">COGO</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>QuadrantBearing</strong> -- Returns Quadrant Bearing string equivalent of decimal degree numeric value eg N34.5°E
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>QuadrantBearing</strong>(p_bearing in number,
                             p_Degree  in NChar default '°')
      Return varchar2 Deterministic;
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_bearing (Number) -- Decimal degrees.
    p_degree  (NChar)  -- Degree Symbol Superscript.
</pre>
<p class="item_name">RESULT</p>
<pre>    Quadrant Bearing (varchar2) -- Quadrant bearing eg N34.5°E
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function converts a numeric decimal degree value into its textual Quadrant bearing equivalent.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select <a href="#robo0">COGO</a>.<strong>QuadrantBearing</strong>(15.8515065952945,'^') as quadrantBearing 
      from dual;

    QUADRANTBEARING
    ---------------
          N15.852^E
    
    select <a href="#robo0">COGO</a>.<a href="#robo7">DD2DMS</a>(t.IntValue)          as bearing,
           <a href="#robo0">COGO</a>.<strong>QuadrantBearing</strong>(t.IntValue) as <strong>QuadrantBearing</strong>
      from table(tools.generate_series(0,315,45)) t
     order by t.IntValue asc;
    
    BEARING    QUADRANTBEARING
    ---------- ---------------
    0°0'0"     N
    45°0'0"    N45°E
    90°0'0"    E
    135°0'0"   S45°E
    180°0'0"   S
    225°0'0"   S45°W
    270°0'0"   W
    315°0'0"   N45°W 
    
     8 rows selected 
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo12"></a>
<a name="COGO2fST5fDegrees"></a>
<h2>1.8.  COGO/ST_Degrees [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">COGO</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Degrees</strong> -- Converts input radians to whole circle bearing (0 North).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>ST_Degrees</strong>(p_radians   in number, 
                        p_normalize in integer default 1) 
      Return Number deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function converts supplied radians value to whole circle bearing clockwise from 0 as North.
    Also normalises bearing to 0..360 if requested.
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_radians    (Number) - <a href="#robo298">Angle</a> in radians (clockwise from north)
    p_normalize (Integer) - Normalises bearing to range 0..360 (defaul)
</pre>
<p class="item_name">RESULT</p>
<pre>    degrees (NUMBER) - 0 to 360 degrees
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    SELECT Round(<a href="#robo0">COGO</a>.<strong>ST_Degrees</strong>(0.789491),4) as degrees
      FROM dual;

       DEGREES
    ----------
       45.2345
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo13"></a>
<a name="COGO2fST5fNormalize"></a>
<h2>1.9.  COGO/ST_Normalize [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">COGO</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Normalize</strong> -- Converts input degree value to whole circle bearing between 0..360.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>ST_Normalize</strong>(p_degrees in number)
      Return Number deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function converts supplied degree value to whole circle bearing clockwise between 0..360.
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_degrees (Number) - <a href="#robo298">Angle</a> in degrees.
</pre>
<p class="item_name">RESULT</p>
<pre>    degrees (Number) - 0 to 360 degrees
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    SELECT <a href="#robo0">COGO</a>.<strong>ST_Normalize</strong>(400) as degrees
      FROM dual;

    DEGREES
    -------
         40
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2008-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo14"></a>
<a name="COGO2fST5fRadians"></a>
<h2>1.10.  COGO/ST_Radians [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">COGO</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Radians</strong> -- Converts input whole circle bearing (0 North) to radians.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>ST_Radians</strong>(p_radians in number)
      Return Number deterministic
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_degrees (NUMBER) - <a href="#robo298">Angle</a> in degrees,  clockwise from North.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function converts supplied decimal degree value to radians.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    SELECT Round(<a href="#robo0">COGO</a>.<strong>ST_Radians</strong>(45.2345),6) as radians
      FROM dual;

       RADIANS
    ----------
       .789491
</pre>
<p class="item_name">RESULT</p>
<pre>    radians (NUMBER) - 0 to 2 x <a href="#robo10">PI</a> radians.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo1"></a>
<a name="PACKAGE2fDEBUG"></a>
<h1>2.  PACKAGE/DEBUG [ Modules ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Modules ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>DEBUG</strong> - Functions that can be used to create string versions of complex types for output during debugging eg dbms_output.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    A package that publishes some functions that can be used to create string versions of complext types for output during debugging eg dbms_output.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  Procedure PrintPoint<span class="sign">(</span> p_point    in mdsys<span class="sign">.</span>sdo_point_type<span class="sign">,</span>
                        p_round    in number default 3<span class="sign">,</span>
                        p_prefix   in varchar2 default null<span class="sign">,</span>
                        p_linefeed in boolean default false<span class="sign">)</span><span class="sign">;</span>

  Procedure PrintPoint<span class="sign">(</span> p_point    in mdsys<span class="sign">.</span>vertex_type<span class="sign">,</span>
                        p_round    in number default 3<span class="sign">,</span>
                        p_prefix   in varchar2 default null<span class="sign">,</span>
                        p_linefeed in boolean default false<span class="sign">)</span><span class="sign">;</span>

  Procedure PrintPoint<span class="sign">(</span> p_point    in <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                        p_round    in number default 3<span class="sign">,</span>
                        p_prefix   in varchar2 default null<span class="sign">,</span>
                        p_linefeed in boolean default false<span class="sign">)</span><span class="sign">;</span>

  Procedure PrintGeom<span class="sign">(</span>  p_geom        in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                        p_round       in number default 3<span class="sign">,</span>
                        p_linefeed    in boolean default false<span class="sign">,</span>
                        p_suffix_text in varchar2 default null<span class="sign">)</span><span class="sign">;</span>

  Procedure PrintGeom<span class="sign">(</span>  p_geom        in <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Geometry<span class="sign">,</span>
                        p_round       in number default 3<span class="sign">,</span>
                        p_linefeed    in boolean default false<span class="sign">,</span>
                        p_suffix_text in varchar2 default null<span class="sign">)</span><span class="sign">;</span>

  Function PrintGeom<span class="sign">(</span>   p_geom     in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                        p_round    in number default 3<span class="sign">,</span>
                        p_linefeed in integer default 0<span class="sign">,</span>
                        p_prefix   in varchar2 default null<span class="sign">,</span>
                        p_relative in integer default 0<span class="sign">)</span>
    Return clob deterministic<span class="sign">;</span>

  Procedure PrintElemInfo<span class="sign">(</span> p_elem_info in mdsys<span class="sign">.</span>sdo_elem_info_array<span class="sign">,</span>
                           p_linefeed  in Boolean default false<span class="sign">)</span><span class="sign">;</span>

  Procedure PrintOrdinates<span class="sign">(</span>p_ordinates in mdsys<span class="sign">.</span>sdo_ordinate_array<span class="sign">,</span>
                           p_coordDim  in pls_integer default 2<span class="sign">,</span>
                           p_round     in pls_integer default 3<span class="sign">,</span>
                           p_linefeed  in Boolean default false<span class="sign">)</span><span class="sign">;</span>
</pre>
<a name="robo2"></a>
<a name="PACKAGE2fPRINT"></a>
<h1>3.  PACKAGE/PRINT [ Modules ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Modules ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>PRINT</strong> - Functions that can be used to create string versions of complex types for output during debugging eg dbms_output.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    A package that publishes some functions that can be used to create string versions of complex types for output during debugging eg dbms_output.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  Function sdo_point_type<span class="sign">(</span> p_point in mdsys<span class="sign">.</span>sdo_point_type<span class="sign">,</span>
                           p_round in number default 3<span class="sign">)</span>
    Return varchar2 deterministic<span class="sign">;</span>

  Function Vertex_Type<span class="sign">(</span>p_point in mdsys<span class="sign">.</span>vertex_type<span class="sign">,</span>
                       p_round in number default 3<span class="sign">)</span>
    Return varchar2 deterministic<span class="sign">;</span>

  Function sdo_elem_info<span class="sign">(</span> p_elem_info in mdsys<span class="sign">.</span>sdo_elem_info_array <span class="sign">)</span>
    return varchar2 deterministic<span class="sign">;</span>

  Function sdo_ordinates<span class="sign">(</span>p_ordinates in mdsys<span class="sign">.</span>sdo_ordinate_array<span class="sign">,</span>
                         p_coordDim  in pls_integer default 2<span class="sign">,</span>
                         p_round     in pls_integer default 3<span class="sign">)</span>
    Return clob deterministic<span class="sign">;</span>

  Function sdo_geometry<span class="sign">(</span>p_geom  in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                        p_round in number default 3<span class="sign">)</span>
    Return clob deterministic<span class="sign">;</span>
</pre>
<a name="robo3"></a>
<a name="PACKAGE2fST5fLRS"></a>
<h1>4.  PACKAGE/ST_LRS [ Modules ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Modules ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS</strong> - A package that publishes an SDO_LRS view of the <a href="#robo24">T_GEOMETRY</a> object's <strong>ST_LRS</strong>* functions.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    A package that publishes an SDO_LRS view of the <a href="#robo24">T_GEOMETRY</a> object's <strong>ST_LRS</strong>* functions.
    This is an example of what could be done to help Locator users use my LRS code and be in a position
    to migrate with minimal effort to Oracle Spatial's Enterprise SDO_LRS code.
    If this package is extended, please supply the changed package to me via simon@spatialdbadvisor.com
</pre>
<p class="item_name">TODO</p>
<pre>    CONNECTED_GEOM_SEGMENTS
    GET_NEXT_SHAPE_PT
    GET_NEXT_SHAPE_PT_MEASURE
    GET_PREV_SHAPE_PT
    GET_PREV_SHAPE_PT_MEASURE
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">   FUNCTION FIND_LRS_DIM_POS<span class="sign">(</span>lrs_geometry IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                             tolerance    in number default 0<span class="sign">.</span>005<span class="sign">)</span>
     RETURN INTEGER DETERMINISTIC<span class="sign">;</span>

   FUNCTION FIND_LRS_DIM_POS<span class="sign">(</span>table_name  IN VARCHAR2<span class="sign">,</span>
                             column_name IN VARCHAR2<span class="sign">)</span>
     RETURN INTEGER DETERMINISTIC<span class="sign">;</span>

   FUNCTION GEOM_SEGMENT_END_MEASURE<span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
     RETURN NUMBER DETERMINISTIC<span class="sign">;</span>

   FUNCTION GEOM_SEGMENT_START_MEASURE<span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
     RETURN NUMBER DETERMINISTIC<span class="sign">;</span>

  <span class="comment">/**
   * Description
   *  Returns the measure range of a geometric segment, that is, the difference between the start measure and end measure.
   **/</span>
   FUNCTION MEASURE_RANGE<span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                          dim_array   IN mdsys<span class="sign">.</span>sdo_dim_ARRAY DEFAULT NULL<span class="sign">)</span>
     RETURN NUMBER DETERMINISTIC<span class="sign">;</span>

   FUNCTION GEOM_SEGMENT_START_PT<span class="sign">(</span>geom_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry Deterministic<span class="sign">;</span>

   FUNCTION GEOM_SEGMENT_END_PT<span class="sign">(</span>geom_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry Deterministic<span class="sign">;</span>

   Function IS_SHAPE_PT_MEASURE<span class="sign">(</span>geom_segment in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                measure      in number<span class="sign">)</span>
     RETURN VARCHAR2 Deterministic<span class="sign">;</span>

   Function SET_PT_MEASURE<span class="sign">(</span>lrs_segment in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                           point       IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                           measure     IN NUMBER<span class="sign">,</span>
                           tolerance   in number default 0<span class="sign">.</span>005<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry Deterministic<span class="sign">;</span>

   FUNCTION GET_MEASURE<span class="sign">(</span>point IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
    RETURN NUMBER DETERMINISTIC<span class="sign">;</span>

   FUNCTION IS_MEASURE_INCREASING <span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
    RETURN VARCHAR2 DETERMINISTIC<span class="sign">;</span>

   FUNCTION IS_MEASURE_DECREASING <span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
    RETURN VARCHAR2 DETERMINISTIC<span class="sign">;</span>

   <span class="comment">/**
    * The start and end measures of geom_segment must be defined (cannot be null),
    * and any measures assigned must be in an ascending or descending order along the segment direction.
   **/</span>
   FUNCTION IS_GEOM_SEGMENT_DEFINED<span class="sign">(</span>geom_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                    dim_array    IN mdsys<span class="sign">.</span>sdo_dim_ARRAY DEFAULT NULL<span class="sign">)</span>
     RETURN VARCHAR2 DETERMINISTIC<span class="sign">;</span>

   FUNCTION MEASURE_TO_PERCENTAGE<span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                  measure     IN NUMBER<span class="sign">)</span>
    RETURN NUMBER DETERMINISTIC<span class="sign">;</span>

   FUNCTION PERCENTAGE_TO_MEASURE<span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                  percentage  IN NUMBER<span class="sign">)</span>
    RETURN NUMBER DETERMINISTIC<span class="sign">;</span>

   Function GEOM_SEGMENT_LENGTH<span class="sign">(</span>geom_segment in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                unit         in varchar2 default null<span class="sign">)</span>
     RETURN NUMBER Deterministic<span class="sign">;</span>

   FUNCTION SPLIT_GEOM_SEGMENT<span class="sign">(</span>geom_segment  IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                               split_measure IN NUMBER<span class="sign">,</span>
                               tolerance     IN NUMBER DEFAULT 0<span class="sign">.</span>005<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry_array pipelined<span class="sign">;</span>

   PROCEDURE SPLIT_GEOM_SEGMENT<span class="sign">(</span>geom_segment   IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                split_measure  IN NUMBER<span class="sign">,</span>
                                segment_1      IN OUT NOCOPY mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                segment_2      IN OUT NOCOPY mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                tolerance      IN NUMBER DEFAULT 0<span class="sign">.</span>005<span class="sign">)</span><span class="sign">;</span>

   FUNCTION CONCATENATE_GEOM_SEGMENTS<span class="sign">(</span>geom_segment_1 IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                      geom_segment_2 IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                      tolerance      IN NUMBER DEFAULT 0<span class="sign">.</span>005<span class="sign">,</span>
                                      unit           IN varchar2 default null<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION CLIP_GEOM_SEGMENT<span class="sign">(</span>GEOM_SEGMENT  IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                              START_MEASURE IN NUMBER<span class="sign">,</span>
                              END_MEASURE   IN NUMBER<span class="sign">,</span>
                              TOLERANCE     IN NUMBER   DEFAULT 0<span class="sign">.</span>005<span class="sign">,</span>
                              UNIT          IN VARCHAR2 DEFAULT NULL<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION LOCATE_PT<span class="sign">(</span>GEOM_SEGMENT IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                      MEASURE      IN NUMBER<span class="sign">,</span>
                      OFFSET       IN NUMBER<span class="sign">,</span>
                      TOLERANCE    IN NUMBER   DEFAULT 0<span class="sign">.</span>005<span class="sign">,</span>
                      UNIT         IN VARCHAR2 DEFAULT NULL<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION FIND_OFFSET <span class="sign">(</span>GEOM_SEGMENT IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                         POINT        IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                         TOLERANCE    IN NUMBER   DEFAULT 0<span class="sign">.</span>005<span class="sign">,</span>
                         UNIT         IN VARCHAR2 DEFAULT NULL<span class="sign">)</span>
    RETURN NUMBER DETERMINISTIC<span class="sign">;</span>

   FUNCTION FIND_MEASURE<span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                         POINT       IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                         TOLERANCE   IN NUMBER   DEFAULT 0<span class="sign">.</span>005<span class="sign">,</span>
                         UNIT        IN VARCHAR2 DEFAULT NULL<span class="sign">)</span>
    RETURN NUMBER DETERMINISTIC<span class="sign">;</span>

   FUNCTION PROJECT_PT <span class="sign">(</span>GEOM_SEGMENT IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                        POINT        IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                        TOLERANCE    IN NUMBER DEFAULT 0<span class="sign">.</span>005<span class="sign">,</span>
                        UNIT         IN VARCHAR2 DEFAULT NULL<span class="sign">)</span>
    RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION LRS_INTERSECTION<span class="sign">(</span>GEOM_1    IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                             GEOM_2    IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                             TOLERANCE IN NUMBER DEFAULT 0<span class="sign">.</span>005<span class="sign">)</span>
    RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION REVERSE_MEASURE <span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION REVERSE_GEOMETRY <span class="sign">(</span>geom_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   <span class="comment">/* Populates the measures of all shape points based on the start and end measures of a geometric segment, overriding any previously assigned measures between the start point and end point.*/</span>
   Function REDEFINE_GEOM_SEGMENT<span class="sign">(</span>geom_segment  IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                  start_measure IN NUMBER<span class="sign">,</span>
                                  end_measure   IN NUMBER<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   Procedure REDEFINE_GEOM_SEGMENT<span class="sign">(</span>geom_segment  IN OUT NOCOPY mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                   start_measure IN NUMBER<span class="sign">,</span>
                                   end_measure   IN NUMBER<span class="sign">)</span><span class="sign">;</span>

   PROCEDURE RESET_MEASURE<span class="sign">(</span>lrs_segment in OUT NOCOPY mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span><span class="sign">;</span>

   FUNCTION RESET_MEASURE<span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION TRANSLATE_MEASURE<span class="sign">(</span>geom_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                              translate_m  IN NUMBER<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION CONVERT_TO_STD_GEOM<span class="sign">(</span>lrs_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION CONVERT_TO_LRS_GEOM<span class="sign">(</span>standard_geom IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                start_measure IN NUMBER DEFAULT NULL<span class="sign">,</span>
                                end_measure   IN NUMBER DEFAULT NULL<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION SCALE_GEOM_SEGMENT<span class="sign">(</span>lrs_segment   IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                               start_measure IN NUMBER<span class="sign">,</span>
                               end_measure   IN NUMBER<span class="sign">,</span>
                               shift_measure IN NUMBER<span class="sign">,</span>
                               tolerance     IN NUMBER DEFAULT 0<span class="sign">.</span>005 <span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   FUNCTION DYNAMIC_SEGMENT<span class="sign">(</span>GEOM_SEGMENT  IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                            START_MEASURE IN NUMBER<span class="sign">,</span>
                            END_MEASURE   IN NUMBER<span class="sign">,</span>
                            TOLERANCE     IN NUMBER   DEFAULT 0<span class="sign">.</span>005<span class="sign">,</span>
                            UNIT          IN VARCHAR2 DEFAULT NULL<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry DETERMINISTIC<span class="sign">;</span>

   Function OFFSET_GEOM_SEGMENT<span class="sign">(</span>geom_segment  IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                start_measure IN NUMBER<span class="sign">,</span>
                                end_measure   IN NUMBER<span class="sign">,</span>
                                offset        IN NUMBER DEFAULT 0<span class="sign">,</span>
                                tolerance     IN NUMBER DEFAULT 0<span class="sign">.</span>005<span class="sign">,</span>
                                unit          IN VARCHAR2 default null<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry Deterministic<span class="sign">;</span>

   Function VALID_GEOM_SEGMENT<span class="sign">(</span>geom_segment IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                               dim_array    IN mdsys<span class="sign">.</span>sdo_dim_ARRAY default null<span class="sign">)</span>
     RETURN VARCHAR2 Deterministic<span class="sign">;</span>

   Function VALID_LRS_PT<span class="sign">(</span>point     IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                         dim_array IN mdsys<span class="sign">.</span>sdo_dim_ARRAY DEFAULT NULL<span class="sign">)</span>
     RETURN VARCHAR2 Deterministic<span class="sign">;</span>

   Function VALID_MEASURE<span class="sign">(</span>geom_segment in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                          measure      in number<span class="sign">)</span>
     RETURN VARCHAR2 Deterministic<span class="sign">;</span>

   Function VALIDATE_LRS_GEOMETRY<span class="sign">(</span>geom_segment in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                  dim_array    in mdsys<span class="sign">.</span>sdo_dim_ARRAY default null<span class="sign">)</span>
     RETURN VARCHAR2 Deterministic<span class="sign">;</span>

   Function ROUND_COORDINATES<span class="sign">(</span>geom_segment   in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                              p_dec_places_x in integer default null<span class="sign">,</span>
                              p_dec_places_y in integer default null<span class="sign">,</span>
                              p_dec_places_z in integer default null<span class="sign">,</span>
                              p_dec_places_m in integer default null<span class="sign">)</span>
     RETURN mdsys<span class="sign">.</span>sdo_geometry Deterministic<span class="sign">;</span>
</pre>
<a name="robo4"></a>
<a name="PACKAGE2fTOOLS"></a>
<h1>5.  PACKAGE/TOOLS [ Modules ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Modules ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>TOOLS</strong> - A collection of common functions used by other packages and object types.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    A package that publishes a collection of common functions used by other packages and object types.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo351"></a>
<a name="TOOLS2fGenerate5fSeries"></a>
<h2>5.1.  TOOLS/Generate_Series [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo4">TOOLS</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Generate_Series</strong> -- Function that generates a series of numbers mimicking PostGIS's function with the same name
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function generate_series(p_start pls_integer,
                             p_end   pls_integer,
                             p_step  pls_integer
             )
      Return &amp;&amp;INSTALL_SCHEMA..T_IntValues Pipelined;
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null) as line
        from dual
    )
    select t.IntValue as point_id,
           v.x,
           v.y
      from data a,
           table(tools.generate_series(1,sdo_util.GetNumVertices(a.line),1)) t,
           table(sdo_util.getvertices(a.line)) v
     where v.id =t.intValue;

      POINT_ID          X          Y
    ---------- ---------- ----------
             1          0          0
             2         10          0
             3         10          5
             4         10         10
             5          5         10
             6          5          5

     6 rows selected
</pre>
<p class="item_name">INPUTS</p>
<pre>   p_start (Integer) - Starting value
   p_end   (Integer) - Ending value.
   p_step  (Integer) - The step value of the increment between start and end
 RETURN
   Array of Integers (T_IntValues)
</pre>
<p class="item_name">AUTHOR</p>
<pre>     Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>     Simon Greener - Jan 2008 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>     (c) 2008-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo352"></a>
<a name="TOOLS2fST5fDB5fVersion"></a>
<h2>5.2.  TOOLS/ST_DB_Version [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo4">TOOLS</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_DB_Version</strong> -- Returns Database Version and sub version.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Static Function <strong>ST_DB_Version</strong>
             Return Number Determinisitc
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function return database version which is useful when handling Oracle functions that only appear in certain versions
</pre>
<p class="item_name">RESULT</p>
<pre>    Database Version (NUMBER) - eg 11.2 Database(12.1)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select <a href="#robo24">T_GEOMETRY</a>.<strong>ST_DB_Version</strong>() as database_version
      from DUAL;

    DATABASE_VERSION
    ----------------
    11.2
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - May 2016 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2012-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo353"></a>
<a name="TOOLS2fST5fGetSridType"></a>
<h2>5.3.  TOOLS/ST_GetSridType [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo4">TOOLS</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_GetSridType</strong> - Determines ref sys kind of provided p_srid
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>ST_GetSridType</strong>(p_srid IN Integer)
      Return VarChar2 Deterministic;
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given a null p_srid this function returns PLANAR.
    The the p_srid is not null the function checks the Mdsys.Sdo_Coord_Ref_System table's coord_ref_sys_kind column, mapping its values as follows:
      COMPOUND     ==&gt; PLANAR,
      ENGINEERING  ==&gt; PLANAR,
      GEOGENTRIC   ==&gt; GEOGRAPHIC,
      GEOGRAPHIC2D ==&gt; GEOGRAPHIC,
      GEOGRAPHIC3D ==&gt; GEOGRAPHIC,
      PROJECTED    ==&gt; PLANAR,
      VERTICAL     ==&gt; GEOGRAPHIC,
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_srid (integer) - Returns PLANAR or GEOGRAPHIC
  NOTE
    Used mainly in determinining type of arithmetic to be used when calculating distances etc
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select distinct f.sridType
      from (select Tools.<strong>ST_GetSridType</strong>(a.srid) as SridType
              from cs_srs a
             order by DBMS_RANDOM.VALUE
           ) f
     where rownum &lt; 100;

    SRIDTYPE
    ----------
    PLANAR
    GEOGRAPHIC
</pre>
<p class="item_name">AUTHOR</p>
<pre>     Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>     Simon Greener - Jan 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>     (c) 2008-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo354"></a>
<a name="TOOLS2fST5fisLocator"></a>
<h2>5.4.  TOOLS/ST_isLocator [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo4">TOOLS</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isLocator</strong> -- Makes best effort to osee if database is a locator databases.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>ST_isLocator</strong>
      Return INTEGER Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    A method that attempts to determine if the host database is a Locator database or has Spatial objects.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 1 Is Locator else 0 (Spatial)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select <a href="#robo24">T_GEOMETRY</a>.<strong>ST_isLocator</strong>() as isLocator
      from dual;

    ISLOCATOR
    ---------
    0
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2016 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2012-2017 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo355"></a>
<a name="TOOLS2fTokenAggregator"></a>
<h2>5.5.  TOOLS/TokenAggregator [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo4">TOOLS</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>TokenAggregator</strong> - A string aggregator.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>TokenAggregator</strong>(p_tokenSet  IN &amp;&amp;INSTALL_SCHEMA..T_Tokens,
                             p_delimiter IN VarChar2 DEFAULT ',')
      Return VarChar2 Deterministic;
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Takes a set of strings an aggregates/appends them using supplied separator
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_tokenSet  (T_Tokens) - The strings to be aggregated.
    p_separator (varchar2) - The character that is placed between each token string.
  NOTE
    Requires t_Tokens Object Type to exist.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select t.ID, T.TOKEN, T.sEPARATOR
        from table(<a href="#robo4">TOOLS</a>.<a href="#robo356">Tokenizer</a>('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',',()')) t
    )
    select <a href="#robo4">TOOLS</a>.<strong>TokenAggregator</strong>(tokens,',') AS result
      from (select CAST(COLLECT(codesys.T_Token(l.id,l.token,l.separator)) AS T_Tokens) as tokens
              from data l
          ) f;
</pre>
<p class="item_name">RESULT</p>
<pre>    ----------------------------------------
    LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)
</pre>
<p class="item_name">AUTHOR</p>
<pre>     Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>     Simon Greener - Jan 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>     (c) 2008-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo356"></a>
<a name="TOOLS2fTokenizer"></a>
<h2>5.6.  TOOLS/Tokenizer [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo4">TOOLS</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Tokenizer</strong> - Splits any string into tokens and separators.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>Tokenizer</strong> (
                  p_string     varchar2,
               OR p_string     varchar2, 
                  p_separators varchar2 default ' '
             )
      Return T_Tokens Pipelined

     Where T_Tokens is array of T_Token:
       id        integer,
       token     varchar2(30000),
       separator varchar2(30000)
     )
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied a string and a list of separators this function returns resultant tokens as a table collection.
    Function returns both the token and the separator.
    Returned table collection contains a unique identifier to ensure tokens and separators are always correctly ordered.
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_string     (varchar 30000) - Any non-null string.
    p_separators (varchar 30000) - List of separators eg '(),'
</pre>
<p class="item_name">RESULT</p>
<pre>    Table (Array) of <a href="#robo31">T_TOKEN</a>:
      id        (integer)       - Unique identifier for each row starting with first token/separator found.
      token     (varchar 30000) - Token between separators
      separator (varchar 30000) - Separator between tokens.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t.id, t.token, t.separator
      from table(<a href="#robo4">TOOLS</a>.<strong>Tokenizer</strong>('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',',()')) t

    ID TOKEN      SEPARATOR
    -- ---------- ---------
     1 LINESTRING         (
     2 0 0                ,
     3 10 0               ,
     4 10 5               ,
     5 10 10              ,
     6 5 10               ,
     7 5 5                )

     7 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2008 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2008-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo15"></a>
<a name="OBJECT20TYPE20ARRAY2fT5fBEARING5fDISTANCES"></a>
<h1>6.  OBJECT TYPE ARRAY/T_BEARING_DISTANCES [ Structures ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Structures ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_BEARING_DISTANCES</strong> - Array of <a href="#robo22">T_BEARING_DISTANCE</a> Objects.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An array of <a href="#robo22">T_BEARING_DISTANCE</a> objects used to fully describe a single polygon ring or linestring object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">CREATE OR REPLACE TYPE <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><strong>T_BEARING_DISTANCES</strong>
           AS TABLE OF <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo22">T_BEARING_DISTANCE</a><span class="sign">;</span>
</pre>
<a name="robo16"></a>
<a name="OBJECT20TYPE20ARRAY2fT5fELEMINFOSET"></a>
<h1>7.  OBJECT TYPE ARRAY/T_ELEMINFOSET [ Structures ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Structures ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_ELEMINFOSET</strong> -- A type representing an array (collection) of <a href="#robo23">T_ELEMINFO</a> objects.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An array of <a href="#robo23">T_ELEMINFO</a> objects that represent an ordered set of sdo_elem_info triplets.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2012-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">CREATE OR REPLACE TYPE <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_ElemInfoSet 
           IS TABLE OF <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_ElemInfo<span class="sign">;</span>
</pre>
<a name="robo17"></a>
<a name="OBJECT20TYPE20ARRAY2fT5fGEOMETRIES"></a>
<h1>8.  OBJECT TYPE ARRAY/T_GEOMETRIES [ Structures ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Structures ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_GEOMETRIES</strong> -- Array (collection) of <a href="#robo25">T_GEOMETRY_ROW</a> Objects.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An array if <a href="#robo25">T_GEOMETRY_ROW</a> objects used in PIPELINED Functions.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
    Simon Greener - Jan 2013 - Port from GEOM Package for &amp;&amp;INSTALL_SCHEMA..
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">CREATE OR REPLACE TYPE <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><strong>T_GEOMETRIES</strong>
           AS TABLE OF <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo25">T_GEOMETRY_ROW</a><span class="sign">;</span>
</pre>
<a name="robo18"></a>
<a name="OBJECT20TYPE20ARRAY2fT5fGRIDS"></a>
<h1>9.  OBJECT TYPE ARRAY/T_GRIDS [ Structures ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Structures ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_GRIDS</strong> -- An array (collection/table) of T_GRIDs.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An array of <a href="#robo26">T_GRID</a> objects that represents an array of optimized rectangles 
    representing a grid, matrix or "raster".
    Used mainly by PIPELINED <a href="#robo24">T_GEOMETRY</a> methods.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
    Simon Greener - Jan 2013 - Port from GEOM Package
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">CREATE OR REPLACE TYPE <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Grids 
           IS TABLE OF <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Grid<span class="sign">;</span>
</pre>
<a name="robo19"></a>
<a name="OBJECT20TYPE20ARRAY2fT5fINTVALUES"></a>
<h1>10.  OBJECT TYPE ARRAY/T_INTVALUES [ Structures ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Structures ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_INTVALUES</strong> -- Object type representing a collection (array) of <a href="#robo27">T_INTVALUE</a> objects.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An array of <a href="#robo27">T_INTVALUE</a> objects that represent an ordered set of tokens and separators extracted from a string by the <a href="#robo356">Tokenizer</a> function.
    Used by PIPELINED <a href="#robo356">Tokenizer</a> function.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2012-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">CREATE OR REPLACE TYPE <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><strong>T_INTVALUES</strong>
           IS TABLE OF <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo27">T_INTVALUE</a><span class="sign">;</span>
</pre>
<a name="robo20"></a>
<a name="OBJECT20TYPE20ARRAY2fT5fSEGMENTS"></a>
<h1>11.  OBJECT TYPE ARRAY/T_SEGMENTS [ Structures ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Structures ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_SEGMENTS</strong> -- An array (collection/table) of <a href="#robo30">T_SEGMENT</a> type.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An array of <a href="#robo30">T_SEGMENT</a> that a PIPELINED function can use to return <a href="#robo30">T_SEGMENT</a> objects.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">CREATE OR REPLACE TYPE <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><strong>T_SEGMENTS</strong>
           AS TABLE OF <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo30">T_SEGMENT</a>
</pre>
<a name="robo21"></a>
<a name="OBJECT20TYPE20ARRAY2fT5fTOKENS"></a>
<h1>12.  OBJECT TYPE ARRAY/T_TOKENS [ Structures ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Structures ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_TOKENS</strong> -- Object type representing a collection (array) of <a href="#robo31">T_TOKEN</a> objects.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An array of <a href="#robo31">T_TOKEN</a> objects that represent an ordered set of tokens and separators extracted from a string by the <a href="#robo356">Tokenizer</a> function.
    Used by PIPELINED <a href="#robo356">Tokenizer</a> function.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2012-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">CREATE OR REPLACE TYPE <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><strong>T_TOKENS</strong>
           IS TABLE OF <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo31">T_TOKEN</a><span class="sign">;</span>
</pre>
<a name="robo22"></a>
<a name="OBJECT20TYPE2fT5fBEARING5fDISTANCE"></a>
<h1>13.  OBJECT TYPE/T_BEARING_DISTANCE [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_BEARING_DISTANCE</strong> - Object Type representing a single bearing and distance <a href="#robo0">COGO</a> instruction.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that represents a set of bearing/distance instructions for building the sides of a polygon, or the segments of a linestring.
</pre>
<p class="item_name">NOTES</p>
<pre>    No methods are declared on this type.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo35"></a>
<a name="T5fBEARING5fDISTANCE2fATTRIBUTES28T5fBEARING5fDISTANCE29"></a>
<h2>13.1.  T_BEARING_DISTANCE/ATTRIBUTES(T_BEARING_DISTANCE) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo22">T_BEARING_DISTANCE</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    sDegMinSec varchar2(255) -- Textual description of a bearing eg 180^10'5.2" (cf Google).
                                See also function <a href="#robo0">COGO</a>.<a href="#robo9">DMS2DD</a>.
    nBearing   number,       -- A numeric bearing eg 180.092784
    distance   number,       -- Length of line along line defined by bearing.
    Z          number,       -- Z ordinate of point at end of bearing/distance (line cogo function only)
</pre>
<p class="item_name">NOTES</p>
<pre>    Normally only one or the other of the sDegMinSec or nBearing attributes are defined.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  Bearing  number<span class="sign">,</span>
  Distance number<span class="sign">,</span>
  Z        number<span class="sign">,</span>
</pre>
<a name="robo36"></a>
<a name="T5fBEARING5fDISTANCE2fCONSTRUCTORS28T5fBEARING5fDISTANCE29"></a>
<h2>13.2.  T_BEARING_DISTANCE/CONSTRUCTORS(T_BEARING_DISTANCE) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo22">T_BEARING_DISTANCE</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    A collection of <a href="#robo22">T_BEARING_DISTANCE</a> Constructors.
  INPUT
    p_sDegMinSec varchar2 -- Textual description of a bearing eg 180^10'5.2" (cf Google).
                             Converted to internal bearing attribute via call to <a href="#robo0">COGO</a>.DMS2DEG.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  Constructor Function <a href="#robo22">T_BEARING_DISTANCE</a> <span class="sign">(</span> p_sDegMinSec in varchar2<span class="sign">,</span>
                                            p_distance   in number <span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>
                
  Constructor Function <a href="#robo22">T_BEARING_DISTANCE</a> <span class="sign">(</span> p_bearing  in number<span class="sign">,</span>
                                            p_distance in number <span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo22">T_BEARING_DISTANCE</a> <span class="sign">(</span> p_sDegMinSec in varchar2<span class="sign">,</span>
                                            p_distance   in number<span class="sign">,</span>
                                            p_z          in number <span class="sign">)</span>
                Return Self As Result
</pre>
<a name="robo23"></a>
<a name="OBJECT20TYPE2fT5fELEMINFO"></a>
<h1>14.  OBJECT TYPE/T_ELEMINFO [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_ELEMINFO</strong> -- Object type representing single mdsys.sdo_elem_info triplet.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that represents an sdo_elem_info_array "triplet" as a single object.
</pre>
<p class="item_name">NOTES</p>
<pre>    No methods are declared on this type.
</pre>
<p class="item_name">TODO</p>
<pre>    Methods on an <strong>T_ELEMINFO</strong> may be added in future.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo37"></a>
<a name="T5fELEMINFO2fATTRIBUTES28T5fELEMINFO29"></a>
<h2>14.1.  T_ELEMINFO/ATTRIBUTES(T_ELEMINFO) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo23">T_ELEMINFO</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    offset         -- Offset value from Element_Info triplet
    etype          -- eType value from Element_Info triplet, describes geometry element.
    interpretation -- Interpretation value from Element_Info triplet eg 1 is vertex-connected; 3 is optimized rectangle; etc.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">   offset           NUMBER<span class="sign">,</span>
   etype            NUMBER<span class="sign">,</span>
   interpretation   NUMBER
</pre>
<a name="robo24"></a>
<a name="OBJECT20TYPE2fT5fGEOMETRY"></a>
<h1>15.  OBJECT TYPE/T_GEOMETRY [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_GEOMETRY</strong> Object Type
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that represents a single SDO_GEOMETRY geometry object.
    Includes Methods on that type.
</pre>
<p class="item_name">WARNINGS</p>
<pre>    This type should only be used for programming and should not be stored in the database.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
    Simon Greener - Jan 2013 - Port from GEOM Package for &amp;&amp;INSTALL_SCHEMA..
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo38"></a>
<a name="T5fGEOMETRY2fATTRIBUTES28T5fGEOMETRY29"></a>
<h2>15.1.  T_GEOMETRY/ATTRIBUTES(T_GEOMETRY) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    geom       -- mdsys.sdo_geometry Object
    tolerance  -- Standard SDO_TOLERANCE value.
                  Since we need the geometry's tolerance for some operations eg sdo_area etc
                  let's add it to the type rather than have to supply it all the time to member functions
    dPrecision -- Number of Significant Decimal Digits of precision. (PRECISION is an Oracle name)
                  Some operations require the comparison of two ordinates. For geodetic data this is
                  not the same as an Oracle tolerance. We allow a user to supply this value for all data
                  but if set to null it will assume a value based on the tolerance.
    projected  -- Whether mdsys.sdo_geometry ordinates are Geodetic (0), Projected (1), or NULL (not defined).
                  When creating and using bearing and distances one needs to know if the geometry
                  is projected or not. While one could do this by dynamic query to the database
                  each time it is needed, an additional property helps us to record this once.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  geom       mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
  tolerance  number<span class="sign">,</span>
  dPrecision integer<span class="sign">,</span>
  projected  integer<span class="sign">,</span>
</pre>
<a name="robo39"></a>
<a name="T5fGEOMETRY2fCONSTRUCTOR28EWKT29"></a>
<h2>15.2.  T_GEOMETRY/CONSTRUCTOR(EWKT) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo24">T_GEOMETRY</a>(EWKT CLOB)-- Constructor that creates an sdo_geometry object from the passed in EWKT.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Constructor Function <a href="#robo24">T_GEOMETRY</a>(p_ewkt IN CLOB)
                Return Self As Result,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The p_ewkt parameter can be a 2D or greater WKT object.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_ewkt (CLOB) -- Any non-null WKT or EWKT object
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    See <a href="#robo88">ST_FromEWKT</a>().
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - September 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo40"></a>
<a name="T5fGEOMETRY2fCONSTRUCTOR28MDSYS2eSDO5fGEOMETRY5fARRAY29"></a>
<h2>15.3.  T_GEOMETRY/CONSTRUCTOR(MDSYS.SDO_GEOMETRY_ARRAY) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo24">T_GEOMETRY</a>(sdo_geometry_array) -- Constructor that creates a GeometryCollection from an array of sdo_geometry objects.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Constructor Function <a href="#robo24">T_GEOMETRY</a>(p_geoms IN mdsys.sdo_geometry_array)
                Return Self As Result,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The p_geoms geometry array parameter should contain at least one element.
    The sdo_geometry objects within the array should have the same dimension, if not the lowest is chosen (cf <a href="#robo205">ST_To2D</a> etc).
    All p_geoms objects should be in the same SRID.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geoms (mdsys.sdo_geometry_array) -- Any non-null, geometry array
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
                select sdo_geometry('POINT(1 2)',null) as tgeom From Dual 
      UNION ALL select sdo_geometry(2001,NULL,SDO_POINT_TYPE(3,4,null),null,null) as tgeom From Dual 
      UNION ALL select sdo_geometry('LINESTRING(5 1,10 1,10 5,10 10,5 10,5 5)',null) as tgeom From Dual 
      UNION ALL select sdo_geometry(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,10,0,10,5,10,10,5,10,5,5)) as tgeom From Dual 
      UNION ALL select sdo_geometry('MULTILINESTRING((-1 -1, 0 -1),(0 0,10 0,10 5,10 10,5 10,5 5))',null) as tgeom From Dual 
      UNION ALL select sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',null) as tgeom From Dual 
      UNION ALL select sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),((100 100,200 100,200 200,100 200,100 100)))',null) as tgeom From Dual
   )
   select t_geometry(
            cast(collect(a.tgeom) as mdsys.sdo_geometry_array)
          ).geom as gArray 
     from data a;

    GARRAYGEOM
    -----------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2004,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,1,1, 3,1,1, 5,2,1, 17,2,1, 29,2,1, 33,2,1, 45,1003,1, 55,2003,1, 65,1003,1, 75,2003,1, 85,2003,1, 95,1003,1),
                 SDO_ORDINATE_ARRAY(1,2, 3,4, 5,1, 10,1, 10,5, 10,10, 5,10, 5,5, 0,0, 10,0, 10,5, 10,10, 5,10, 5,5, -1,-1, 0,-1, 
                                    0,0, 10,0, 10,5, 10,10, 5,10, 5,5, 
                                    0,0, 20,0, 20,20, 0,20, 0,0, 
                                    10,10, 10,11, 11,11, 11,10, 10,10, 
                                    0,0, 20,0, 20,20, 0,20, 0,0, 
                                    10,10, 10,11, 11,11, 11,10, 10,10, 
                                    5,5, 5,7, 7,7, 7,5, 5,5, 
                                    100,100, 200,100, 200,200, 100,200, 100,100))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - September 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo41"></a>
<a name="T5fGEOMETRY2fCONSTRUCTORS28STANDARD29"></a>
<h2>15.4.  T_GEOMETRY/CONSTRUCTORS(STANDARD) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    A collection of "standard" <a href="#robo24">T_GEOMETRY</a> Constructors.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  Constructor Function <a href="#robo24">T_GEOMETRY</a><span class="sign">(</span>SELF        IN OUT NOCOPY <a href="#robo24">T_GEOMETRY</a><span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo24">T_GEOMETRY</a><span class="sign">(</span>SELF        IN OUT NOCOPY <a href="#robo24">T_GEOMETRY</a><span class="sign">,</span>
                                  p_geom      IN mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo24">T_GEOMETRY</a><span class="sign">(</span>SELF        IN OUT NOCOPY <a href="#robo24">T_GEOMETRY</a><span class="sign">,</span>
                                  p_geom      in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                  p_tolerance in number<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo24">T_GEOMETRY</a><span class="sign">(</span>SELF        IN OUT NOCOPY <a href="#robo24">T_GEOMETRY</a><span class="sign">,</span>
                                  p_geom      in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                  p_tolerance in number<span class="sign">,</span>
                                  p_dPrecision in integer<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo24">T_GEOMETRY</a><span class="sign">(</span>SELF        IN OUT NOCOPY <a href="#robo24">T_GEOMETRY</a><span class="sign">,</span>
                                  p_geom      in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                  p_tolerance in number<span class="sign">,</span>
                                  p_dPrecision in integer<span class="sign">,</span>
                                  p_projected in varchar2<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo24">T_GEOMETRY</a><span class="sign">(</span>SELF        IN OUT NOCOPY <a href="#robo24">T_GEOMETRY</a><span class="sign">,</span>
                                  p_vertex    in mdsys<span class="sign">.</span>vertex_type<span class="sign">,</span>
                                  p_srid      in integer<span class="sign">,</span>
                                  p_tolerance in number default 0<span class="sign">.</span>005<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo24">T_GEOMETRY</a><span class="sign">(</span>SELF        IN OUT NOCOPY <a href="#robo24">T_GEOMETRY</a><span class="sign">,</span>
                                  p_segment   in <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo30">T_SEGMENT</a><span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>
</pre>
<a name="robo42"></a>
<a name="T5fGEOMETRY2fOrderBy"></a>
<h2>15.5.  T_GEOMETRY/OrderBy [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>OrderBy</strong> -- Implements ordering function that can be used to sort a collection of <a href="#robo24">T_GEOMETRY</a> objects.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Order Member Function <strong>OrderBy</strong>(p_compare_geom in &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a>)
          Return Number deterministic
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_compare_geom (<a href="#robo24">T_GEOMETRY</a>) - Order pair
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This order by function allows a collection of <a href="#robo24">T_GEOMETRY</a> objects to be sorted.
    For example in the ORDER BY clause of a select statement. Comparison uses all ordinates: X, Y, Z and W.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With geometries as (
      select t_geometry(sdo_geometry(2001,null,
                                     sdo_point_type(dbms_random.value(0,level),
                                                    dbms_random.value(0,level),
                                                    null),
                                    null,null),
                        0.005,
                        3,
                        1) as tgeom
        from dual
      connect by level &lt; 10
    )
    select a.tgeom.st_astext(2) as sGeom
      from geometries a
     order by a.tgeom;

    SGEOM
    ------------------------------------------------------------------------------------------
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(0.39,0.87,NULL),NULL,NULL);TOLERANCE(.05)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(0.71,0.04,NULL),NULL,NULL);TOLERANCE(.05)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(1.68,1.03,NULL),NULL,NULL);TOLERANCE(.05)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(1.72,1.45,NULL),NULL,NULL);TOLERANCE(.05)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(2.68,1.99,NULL),NULL,NULL);TOLERANCE(.05)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(3.12,1.14,NULL),NULL,NULL);TOLERANCE(.05)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(3.38,0.71,NULL),NULL,NULL);TOLERANCE(.05)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(4.75,4.46,NULL),NULL,NULL);TOLERANCE(.05)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(5.49,6.87,NULL),NULL,NULL);TOLERANCE(.05)

     9 rows selected
</pre>
<p class="item_name">RESULT</p>
<pre>    order value (Number) - -1 less than; 0 equal; 1 greater than
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo43"></a>
<a name="T5fGEOMETRY2fST5fAdd5fSEGMENT"></a>
<h2>15.6.  T_GEOMETRY/ST_Add_SEGMENT [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Add_SEGMENT</strong> -- Adds a segment to an existing geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Add_SEGMENT</strong>     (p_SEGMENT in &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>)
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Adds a segment to an existing geometry.
    If last vertex of existing geometry equals first vertex of segment the point is not repeated.
    Supports segments that define a circular arc.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_SEGMENT (<a href="#robo30">T_SEGMENT</a>) - Valid segment. Supports 2 vertex or 3 vertex circular arc segments.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) - Modified geometry
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo44"></a>
<a name="T5fGEOMETRY2fST5fAffine"></a>
<h2>15.7.  T_GEOMETRY/ST_Affine [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Affine</strong> -- Applies a 3d affine transformation to the geometry to do things like translate, rotate, scale in one step.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Affine</strong> (
       p_a    in number,
       p_b    in number,
       p_c    in number,
       p_d    in number,
       p_e    in number,
       p_f    in number,
       p_g    in number,
       p_h    in number,
       p_i    in number,
       p_xoff in number,
       p_yoff in number,
       p_zoff in number)
       Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Applies a 3d affine transformation to the geometry to do things like translate, rotate, scale in one step.
    To apply a 2D affine transformation only supply a, b, d, e, xoff, yoff
    The vertices are transformed as follows:
       x' = a*x + b*y + c*z + xoff
       y' = d*x + e*y + f*z + yoff
       z' = g*x + h*y + i*z + zoff
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    a, b, c, d, e, f, g, h, i, xoff, yoff, zoff (all number s)
    Represent the transformation matrix
    -----------------
    | a  b  c  xoff |
    | d  e  f  yoff |
    | g  h  i  zoff |
    | 0  0  0     1 |
    -----------------
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- Transformed geometry
</pre>
<p class="item_name">EXAMPLE</p>
<pre>  SELECT t_geometry(sdo_geometry(3001,null,sdo_point_type(1,2,3),null,null),0.05,1,1)
          .<strong>ST_Affine</strong>(p_a=&gt;COS(<a href="#robo0">COGO</a>.pi()),
                     p_b=&gt;0.0-SIN(<a href="#robo0">COGO</a>.pi()),
                     p_c=&gt;0.0,
                     p_d=&gt;SIN(<a href="#robo0">COGO</a>.pi()),
                     p_e=&gt;COS(<a href="#robo0">COGO</a>.pi()),
                     p_f=&gt;0.0,
                     p_g=&gt;0.0,
                     p_h=&gt;0.0,
                     p_i=&gt;1.0,
                     p_xoff=&gt;0.0,
                     p_yoff=&gt;0.0,
                     p_zoff=&gt;0.0).geom As affine_geom
     FROM dual;

  AFFINE_GEOM
  --------------------------------------------------------------
  SDO_GEOMETRY(3001,NULL,SDO_POINT_TYPE(-1.0,-2.0,3.0),NULL,NULL)

  --Rotate a 3d line 180 degrees in both the x and z axis
  SELECT f.the_geom
          .<strong>ST_Affine</strong>(cos(<a href="#robo0">COGO</a>.<a href="#robo10">PI</a>()), -sin(<a href="#robo0">COGO</a>.<a href="#robo10">PI</a>()), 0, sin(<a href="#robo0">COGO</a>.<a href="#robo10">PI</a>()), cos(<a href="#robo0">COGO</a>.<a href="#robo10">PI</a>()), -sin(<a href="#robo0">COGO</a>.<a href="#robo10">PI</a>()), 0, sin(<a href="#robo0">COGO</a>.<a href="#robo10">PI</a>()), cos(<a href="#robo0">COGO</a>.<a href="#robo10">PI</a>()), 0, 0, 0).geom as affine_geom
     FROM (select T_Geometry(sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(1,2,3,1,4,3)),0.005,2,1) As the_geom
            from dual
         ) f;

  AFFINE_GEOM
  -----------
  SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(-1.0,-2.0,-3.0, -1.0,-4.0,-3.0))

  -- Rotate a 3d line 180 degrees about the z axis.
  select t_geometry(sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(1,2,3, 1,4,3)),0.05,1,1)
          .<strong>ST_Affine</strong>(p_a=&gt;COS(<a href="#robo0">COGO</a>.pi()),
                     p_b=&gt;0.0-SIN(<a href="#robo0">COGO</a>.pi()),
                     p_c=&gt;0.0,
                     p_d=&gt;SIN(<a href="#robo0">COGO</a>.pi()),
                     p_e=&gt;COS(<a href="#robo0">COGO</a>.pi()),
                     p_f=&gt;0.0,
                     p_g=&gt;0.0,
                     p_h=&gt;0.0,
                     p_i=&gt;1.0,
                     p_xoff=&gt;0.0,
                     p_yoff=&gt;0.0,
                     p_zoff=&gt;0.0).geom
            As affine_geom
     from dual;

  AFFINE_GEOM
  --------------------------------------------------------------------------------------------------------
  SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(-1.0,-2.0,3.0, -1.0,-4.0,3.0))
  REQUIRES
    SYS.UTL_NLA Package
    SYS.UTL_NLA_ARRAY_DBL Type
    SYS.UTL_NLA_ARRAY_INT Type
</pre>
<p class="item_name">NOTES</p>
<pre>    Cartesian arithmetic only
    Not for Oracle XE. Only 10g and above.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Feb 2009 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo45"></a>
<a name="T5fGEOMETRY2fST5fAppend"></a>
<h2>15.8.  T_GEOMETRY/ST_Append [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Append</strong> -- Appends sdo_geometry to underlying sdo_geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Append</strong> ()
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Determinstic
</pre>
<p class="item_name">RESULT</p>
<pre>    MultiGeometry (<a href="#robo24">T_GEOMETRY</a>) -- If not already a multi geometry, returns multi-geometry object with 1 geometry;
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Appends p_geom sdo_geometry value to underlying SELF.geom sdo_geometry.
    Can be used to append points to points, points to lines, lines to lines, lines to polygons etc.
    Detects if two adjacent vertices are within tolerance distance and merges if they are.
    For linestrings, p_concatenate mode of 0 appends without checking for duplicate end points and returns a multilinestring.
    If p_concatentate is 1 and an end/start point equality relationship is detected, only one coordinate is stored, and a single linestring returned.
    It is not implemented using SDO_UTIL.APPEND.
</pre>
<p class="item_name">NOTES</p>
<pre>    Oracle's SDO_UTIL.APPEND supports 2 and 3D geometies but SDO_UTIL.CONCAT_LINES only supports 2D data.
    Also, if underlying linestring geometry is measured, SDO_LRS.CONCATENATE_GEOM_SEGMENTS must be called.
    This function implements all these Oracle functions under one "umbrella".
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      select t_geometry(SDO_GEOMETRY(3001,NULL,SDO_POINT_TYPE(157503.148,6568556.703,50.647),null,null)) as tPoint from dual
    )
    select 'Point+Point'      as test, a.tPoint.<strong>ST_Append</strong>(SDO_GEOMETRY(3001,null,NULL,SDO_ELEM_INFO_ARRAY(1,1,1),SDO_ORDINATE_ARRAY(158506.165,6568585.072,26.556))).geom as geom
      from data a union all
    select 'Point+SdoPoint'   as test, a.tPoint.<strong>ST_Append</strong>(SDO_GEOMETRY(3001,null,SDO_POINT_TYPE(158506.165,6568585.072,26.556),null,null)).geom as geom
      from data a union all
    select 'Point+MultiPoint' as test, a.tPoint.<strong>ST_Append</strong>(SDO_GEOMETRY(3005,null,NULL,SDO_ELEM_INFO_ARRAY(1,1,2),SDO_ORDINATE_ARRAY(157500.896,6568571.813,38.453, 158506.165,6568585.072,26.556))).geom as geom
      from data a;

    TEST             GEOM
    ---------------- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------
    Point+Point      SDO_GEOMETRY(3005,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1,2),SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647,158506.165,6568585.072,26.556))
    Point+SdoPoint   SDO_GEOMETRY(3005,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1,2),SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647,158506.165,6568585.072,26.556))
    Point+MultiPoint SDO_GEOMETRY(3005,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1,3),SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647,157500.896,6568571.813,38.453,158506.165,6568585.072,26.556))

    select 'Two 3002 Lines with common point =&gt; 3002/3006' as test,
           case when t.IntValue = 0 then 'Append' else 'Concatenate' end as testMode,
           t_geometry(SDO_GEOMETRY(3002,null,NULL,
                               SDO_ELEM_INFO_ARRAY(1,2,1),
                               SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647,157512.499,6568585.998,15.573)))
                .<strong>ST_Append</strong>(SDO_GEOMETRY(3002,null,NULL,
                               SDO_ELEM_INFO_ARRAY(1,2,1),
                               SDO_ORDINATE_ARRAY(                              157512.499,6568585.998,15.573,157519.107,6568582.067,2.382)),
                           t.IntValue).geom as geom
      from dual a,
           table(tools.generate_series(0,1,1)) t
    union all
    select 'Two 2002 Lines with common point =&gt; 2002/2006' as test,
           case when t.IntValue = 0 then 'Append' else 'Concatenate' end as testMode,
           t_geometry(SDO_GEOMETRY(2002,null,NULL,
                               SDO_ELEM_INFO_ARRAY(1,2,1),
                               SDO_ORDINATE_ARRAY(157503.148,6568556.703,157512.499,6568585.998)))
                .<strong>ST_Append</strong>(SDO_GEOMETRY(2002,null,NULL,
                               SDO_ELEM_INFO_ARRAY(1,2,1),
                               SDO_ORDINATE_ARRAY(                       157512.499,6568585.998,157519.107,6568582.067)),
                           t.IntValue).geom
      from dual a,
           table(<a href="#robo4">TOOLS</a>.generate_series(0,1,1)) t
    union all
    select 'Two 3002 with no common point =&gt; 3006' as test,
           'Append' as test_mode,
           t_geometry(SDO_GEOMETRY(3002,null,NULL,
                               SDO_ELEM_INFO_ARRAY(1,2,1),
                               SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647,157512.499,6568585.998,15.573)))
                .<strong>ST_Append</strong>(SDO_GEOMETRY(3002,null,NULL,
                               SDO_ELEM_INFO_ARRAY(1,2,1),
                               SDO_ORDINATE_ARRAY(157520.228,6568574.745,1.46,157512.15,6568564.565,28.219)),0).geom
      from dual
    union all
    select 'Two 2002 with no common point =&gt; 2006' as test,
           'Append' as test_mode,
           t_geometry(SDO_GEOMETRY(2002,null,NULL,
                               SDO_ELEM_INFO_ARRAY(1,2,1),
                               SDO_ORDINATE_ARRAY(157503.148,6568556.703,157512.499,6568585.998)))
                .<strong>ST_Append</strong>(SDO_GEOMETRY(2002,null,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                               SDO_ORDINATE_ARRAY(157520.228,6568574.745,157512.15,6568564.565)),0).geom
      from dual;

    TEST                                          TESTMODE    GEOM
    --------------------------------------------- ----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    Two 3002 Lines with common point =&gt; 3002/3006 Append      SDO_GEOMETRY(3006,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1,7,2,1),SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647,157512.499,6568585.998,15.573,157512.499,6568585.998,15.573,157519.107,6568582.067,2.382))
    Two 3002 Lines with common point =&gt; 3002/3006 Concatenate SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647,157512.499,6568585.998,15.573,157519.107,6568582.067,2.382))
    Two 2002 Lines with common point =&gt; 2002/2006 Append      SDO_GEOMETRY(2006,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1,5,2,1),SDO_ORDINATE_ARRAY(157503.148,6568556.703,157512.499,6568585.998,157512.499,6568585.998,157519.107,6568582.067))
    Two 2002 Lines with common point =&gt; 2002/2006 Concatenate SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(157503.148,6568556.703,157512.499,6568585.998,157519.107,6568582.067))
    Two 3002 with no common point =&gt; 3006         Append      SDO_GEOMETRY(3006,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1,7,2,1),SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647,157512.499,6568585.998,15.573,157520.228,6568574.745,1.46,157512.15,6568564.565,28.219))
    Two 2002 with no common point =&gt; 2006         Append      SDO_GEOMETRY(2006,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1,5,2,1),SDO_ORDINATE_ARRAY(157503.148,6568556.703,157512.499,6568585.998,157520.228,6568574.745,157512.15,6568564.565))

     6 rows selected

    select case when t.IntValue = 0
                then 'Append Linestring 2002 and Point 2001 =&gt; 2004'
                else 'Concat Linestring 2002 and Point 2001 =&gt; 2002'
            end as test,
           t_geometry(SDO_GEOMETRY(2002,null,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(157503.148,6568556.703, 157512.499,6568585.998)))
                .<strong>ST_Append</strong>(SDO_GEOMETRY(2001,null,NULL,SDO_ELEM_INFO_ARRAY(1,1,1),SDO_ORDINATE_ARRAY(157512.499,6568585.998)),
                           t.IntValue).geom as geom
      from table(<a href="#robo4">TOOLS</a>.generate_series(0,1,1)) t
     Union all
    select case when t.IntValue = 0
                then 'Append Linestring 3002 and Point 3001 =&gt; 3004'
                else 'Concat Linestring 3002 and Point 3001 =&gt; 3002'
            end as test,
           t_geometry(SDO_GEOMETRY(3002,null,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647, 157512.499,6568585.998,15.573)))
                .<strong>ST_Append</strong>(SDO_GEOMETRY(3001,null,NULL,SDO_ELEM_INFO_ARRAY(1,1,1),SDO_ORDINATE_ARRAY(                               157512.499,6568585.998,15.573)),
                           t.IntValue).geom as geom
      from table(<a href="#robo4">TOOLS</a>.generate_series(0,1,1)) t;

    TEST                                          GEOM
    --------------------------------------------- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    Append Linestring 3002 and Point 3001 =&gt; 3004 SDO_GEOMETRY(3004,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1, 1,1,1),SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647,157512.499,6568585.998,15.573,157512.499,6568585.998,15.573))
    Concat Linestring 3002 and Point 3001 =&gt; 3002 SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),       SDO_ORDINATE_ARRAY(157503.148,6568556.703,50.647,157512.499,6568585.998,15.573))
    Append Linestring 2002 and Point 2001 =&gt; 2004 SDO_GEOMETRY(2004,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1,1,1,1), SDO_ORDINATE_ARRAY(157503.148,6568556.703,157512.499,6568585.998,157512.499,6568585.998))
    Concat Linestring 2002 and Point 2001 =&gt; 2002 SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),       SDO_ORDINATE_ARRAY(157503.148,6568556.703,157512.499,6568585.998))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June 2016 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo46"></a>
<a name="T5fGEOMETRY2fST5fArea"></a>
<h2>15.9.  T_GEOMETRY/ST_Area [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Area</strong> -- Returns area of underlying polygon sdo_geometry
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Area</strong> (
                       p_unit  in varchar2 default NULL,
                       p_round in integer  default 0 )
                    )
             Return Number Deterministic
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_unit (varchar2) - Oracle Unit of Measure eg unit=M.
    p_round (integer) - Whether to round result using PRECISION of <a href="#robo24">T_GEOMETRY</a>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes the area of underlying sdo_geometry polygon.
    Result is expressed in the units of the SDO_SRID, or in p_units where supplied.
    Result is rounded to SELF.PRECISION if p_round is true (1), otherwise false(0) no rounding.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual union all
      select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',28356),0.0005,3,1) as tgeom From Dual
    )
    select a.tgeom.<strong>ST_Area</strong>(case when a.tGeom.ST_Srid() = 28356 then 'unit=SQ_KM' else null end,0) as area_km,
           a.tgeom.<strong>ST_Area</strong>(case when a.tGeom.ST_Srid() = 28356 then 'unit=SQ_KM' else null end,1) as round_area_km
      from data a;

        AREA_KM ROUND_AREA_KM
    ----------- -------------
    78.30229882        78.302
       0.000399             0
</pre>
<p class="item_name">RESULT</p>
<pre>    area (Number) -- Area in SRID unit of measure or in supplied units (p_unit) possibly rounded to SELF.Precision
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo47"></a>
<a name="T5fGEOMETRY2fST5fAsEWKT"></a>
<h2>15.10.  T_GEOMETRY/ST_AsEWKT [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AsEWKT</strong> -- Exports 3/4D mdsys.sdo_geometry object to an Extended Well Known Text (WKT) format.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AsEWKT</strong>(p_format_model in varchar2 default 'TM9')
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If underlying geometry is 2D, <a href="#robo52">ST_AsWKT</a>() is called.
    If 3/4D this function creates an Extended WKT format result.
    This function allows the formatting of the ordinates in the EWKT string to be user defined.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_format_model (varchar2) -- Oracle Number Format Model (see documentation)
                                 default 'TM9')
</pre>
<p class="item_name">RESULT</p>
<pre>    WKT (CLOB) -- Extended Well Known Text.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
     select t_geometry(sdo_geometry(3001,NULL,sdo_point_type(100,100,-37.38),NULL,NULL),0.005,2,1) as geom
       from dual union all
     select t_geometry(sdo_geometry(4001,NULL,NULL,
                                    sdo_elem_info_array(1,1,1),
                                    sdo_ordinate_array(100,100,-37.38,345.24)),0.005,2,1) as geom
       from dual union all
     select t_geometry(sdo_geometry(2002,28355,NULL,
                                    sdo_elem_info_array(1,2,2),
                                    sdo_ordinate_array(252230.478,5526918.373, 252400.08,5526918.373,252230.478,5527000.0)),0.0005,3,1) as geom
       from dual union all
     select t_geometry(sdo_geometry(2002,28355,NULL,
                                    sdo_elem_info_array(1,2,2),
                                    sdo_ordinate_array(252230.4743434348,5526918.37343433, 252400.034348,5526918.33434333473,252230.4434343378,5527000.433445660)),0.0005,3,1) as geom
       from dual union all
     select t_geometry(SDO_GEOMETRY(3302,28355,NULL,
                                    sdo_elem_info_array(1,2,2),
                                    sdo_ordinate_array(252230.478,5526918.373,0.0, 252400.08,5526918.373,417.4, 252230.478,5527000.0,506.88)),0.0005,3,1) as geom
       from dual union all
     select t_geometry(sdo_geometry(2002,NULL,NULL,
                                    sdo_elem_info_array(1,2,1),
                                    sdo_ordinate_array(100,100,900,900.0)),0.005,2,1) as geom
       from dual union all
     select t_geometry(sdo_geometry(3002,NULL,NULL,
                                    sdo_elem_info_array(1,2,1),
                                    sdo_ordinate_array(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as geom
       from dual union all
     select t_geometry(sdo_geometry(3302,NULL,NULL,
                                    sdo_elem_info_array(1,2,1),
                                    sdo_ordinate_array(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as geom
       from dual union all
     select t_geometry(sdo_geometry(4402,4283,null,
                                    sdo_elem_info_array(1,2,1),
                                    sdo_ordinate_array(147.5,-42.5,849.9,102.0, 147.6,-42.5,1923.0,2100.0)),0.005,2,0) as geom
      from dual union all
     Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3003,NULL,NULL,
                                    sdo_elem_info_array(1,1003,1),
                                    sdo_ordinate_array(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,2,1) as geom
       From Dual
    )
    select a.geom.geom.sdo_gtype as gtype,
           a.geom.<strong>ST_AsEWKT</strong>() as ewkt
      from data a;

    GTYPE EWKT
    ----- -----------------------------------------------------------------------------------------------------------------------
     3001 POINTZ (100 100 -37.38)
     4001 POINTZM (100 100 -37.38 345.24)
     2002 CIRCULARSTRING (252230.478 5526918.373, 252400.08 5526918.373, 252230.478 5527000.0)
     2002 CIRCULARSTRING (252230.4743434348 5526918.37343433, 252400.034348 5526918.334343335, 252230.4434343378 5527000.43344566)
     3302 SRID=28355;CIRCULARSTRINGM (252230.478 5526918.373 0,252400.08 5526918.373 417.4,252230.478 5527000 506.88)
     2002 LINESTRING (100.0 100.0, 900.0 900.0)
     3002 LINESTRINGZ (0 0 1,10 0 2,10 5 3,10 10 4,5 10 5,5 5 6)
     3302 LINESTRINGM (0 0 1,10 0 2,10 5 3,10 10 4,5 10 5,5 5 6)
     4402 SRID=4283;LINESTRINGZM (147.5 -42.5 849.9 102,147.6 -42.5 1923 2100)
     3003 POLYGONZ ((0 0 1,10 0 2,10 5 3,10 10 4,5 10 5,5 5 6))

     9 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo48"></a>
<a name="T5fGEOMETRY2fST5fAsGeometryRow"></a>
<h2>15.11.  T_GEOMETRY/ST_AsGeometryRow [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AsGeometryRow</strong> -- Simply returned <a href="#robo24">T_GEOMETRY</a> as an T_GEOMETRYROW object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AsGeometryRow</strong> (p_gid in integer default ),
             Return &amp;&amp;INSTALL_SCHEMA..T_GEOMETRYROW Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    <a href="#robo17">T_GEOMETRIES</a> is defined as a table of T_GEOMETRYROW.
    Functions like <a href="#robo71">ST_Dump</a> break up an sdo_geometry and returns them as T_GEOMETRYROW objects within a <a href="#robo17">T_GEOMETRIES</a> object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select &amp;&amp;INSTALL_SCHEMA..T_Geometry(SDO_GEOMETRY(2005, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1, 1), SDO_ORDINATE_ARRAY(10.719, 8.644)),0.005,3,1)
                           .<strong>ST_AsGeometryRow</strong>() as geom 
      from dual;
    
    GEOM
    -------------------------------------------------------------------------------------------------------------------------------
    <a href="#robo25">T_GEOMETRY_ROW</a>(1, SDO_GEOMETRY(2005, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1, 1), SDO_ORDINATE_ARRAY(10.719, 8.644)), 0.005, 3, 1)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jul 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo49"></a>
<a name="T5fGEOMETRY2fST5fAsText"></a>
<h2>15.12.  T_GEOMETRY/ST_AsText [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AsText</strong> -- Exports mdsys.sdo_geometry object to its Well Known Text (WKT) representation by executing, and returning, result of mdsys.sdo_geometry method get_wkt().
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AsText</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is a wrapper over the mdsys.sdo_geometry method SELF.GEOM.GET_WKT().
    Returns Well Known Text (WKT) representation of underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">RESULT</p>
<pre>    WKT (CLOB) -- eg Well Known Text encoding of mdsys.sdo_geometry object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select 'CircularString (1)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,2),sdo_ordinate_array (10,15,15,20,20,15)) as geom from dual union all
      select 'CircularString (2)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,2),sdo_ordinate_array (10,35,15,40,20,35,25,30,30,35)) as geom from dual union all
      select 'CircularString (Closed)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,2),sdo_ordinate_array (15,65,10,68,15,70,20,68,15,65)) as geom from dual union all
      select 'CompoundCurve (1)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,4,3,1,2,1,3,2,2,7,2,1),sdo_ordinate_array (10,45,20,45,23,48,20,51,10,51)) as geom from dual union all
      select 'CompoundCurve (2)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,4,2,1,2,1,7,2,2),sdo_ordinate_array (10,78,10,75,20,75,20,78,15,80,10,78)) as geom from dual union all
      select 'CurvePolygon (Circle Exterior Ring)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1003,4),sdo_ordinate_array (15,140,20,150,40,140)) as geom from dual union all
      select 'CurvePolygon (CircularArc Exterior Ring)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1003,2),sdo_ordinate_array (15,115,20,118,15,120,10,118,15,115)) as geom from dual union all
      select 'CurvePolygon (Compound Exterior Ring)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1005,2,1,2,1,7,2,2),sdo_ordinate_array (10,128,10,125,20,125,20,128,15,130,10,128)) as geom from dual union all
      select 'GeometryCollection (1)' as test,sdo_geometry (2004,null,null,sdo_elem_info_array (1,1,1,3,2,1,7,1003,1),sdo_ordinate_array (10,5,10,10,20,10,10,105,15,105,20,110,10,110,10,105)) as geom from dual union all
      select 'GeometryCollection (2)' as test,sdo_geometry(2004,NULL,NULL,sdo_elem_info_array(1,1003,3,5,1,1,9,2,1),sdo_ordinate_array(0,0,100,100,50,50,0,0,100,100.0)) as geom from dual union all
      select 'LineString (1)' as test,sdo_geometry(2002,NULL,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(100,100,900,900.0)) as geom from dual union all
      select 'LineString (2)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,1),sdo_ordinate_array (10,25,20,30,25,25,30,30)) as geom from dual union all
      select 'LineString (3)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,1),sdo_ordinate_array (10,10,20,10)) as geom from dual union all
      select 'LineString (Closed)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,1),sdo_ordinate_array (10,55,15,55,20,60,10,60,10,55)) as geom from dual union all
      select 'LineString (Self-Crossing)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,1),sdo_ordinate_array (10,85,20,90,20,85,10,90,10,85)) as geom from dual union all
      select 'MultiCurve (1)' as test,sdo_geometry (2006,null,null,sdo_elem_info_array (1,2,2,7,2,2),sdo_ordinate_array (50,35,55,40,60,35,65,35,70,30,75,35)) as geom from dual union all
      select 'MultiCurve (Touching)' as test,sdo_geometry (2006,null,null,sdo_elem_info_array (1,2,2,7,2,2),sdo_ordinate_array (50,65,50,70,55,68,55,68,60,65,60,70)) as geom from dual union all
      select 'MultiLine (Closed)' as test,sdo_geometry (2006,null,null,sdo_elem_info_array (1,2,1,9,2,1),sdo_ordinate_array (50,55,50,60,55,58,50,55,56,58,60,55,60,60,56,58)) as geom from dual union all
      select 'MultiLine (Crossing)' as test,sdo_geometry (2006,null,null,sdo_elem_info_array (1,2,1,5,2,1),sdo_ordinate_array (50,22,60,22,55,20,55,25)) as geom from dual union all
      select 'MultiLine (Stoked)' as test,sdo_geometry (2006,null,null,sdo_elem_info_array (1,2,1,5,2,1),sdo_ordinate_array (50,15,55,15,60,15,65,15)) as geom from dual union all
      select 'MultiPoint (2)' as test,sdo_geometry(2005,NULL,NULL,sdo_elem_info_array(1,1,2),sdo_ordinate_array(100,100,900,900.0)) as geom from dual union all
      select 'MultiPoint (3)' as test,sdo_geometry (2005,null,null,sdo_elem_info_array (1,1,1,3,1,1,5,1,1),sdo_ordinate_array (65,5,70,7,75,5)) as geom from dual union all
      select 'MultiPoint (4)' as test,sdo_geometry (2005,null,null,sdo_elem_info_array (1,1,3),sdo_ordinate_array (50,5,55,7,60,5)) as geom from dual union all
      select 'MultiPolygon (Disjoint)' as test,sdo_geometry (2007,null,null,sdo_elem_info_array (1,1003,1,11,1003,3),sdo_ordinate_array (50,105,55,105,60,110,50,110,50,105,62,108,65,112)) as geom from dual union all
      select 'MultiPolygon (Rectangles)' as test,sdo_geometry(2007,NULL,NULL,sdo_elem_info_array(1,1003,3,5,1003,3),sdo_ordinate_array(1500,100,1900,500,1900,500,2300,900.0)) as geom from dual union all
      select 'Point (Ordinate Encoding)' as test,sdo_geometry (2001,null,null,sdo_elem_info_array (1,1,1),sdo_ordinate_array (10,5)) as geom from dual union all
      select 'Point (SDO_POINT encoding)' as test,sdo_geometry(2001,NULL,sdo_point_type(900,900,NULL),NULL,NULL) as geom from dual union all
      select 'Polygon (No Holes)' as test,sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3),sdo_ordinate_array(100,100,500,500.0)) as geom from dual union all
      select 'Polygon (Stroked Exterior Ring)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1003,1),sdo_ordinate_array (10,105,15,105,20,110,10,110,10,105)) as geom from dual union all
      select 'Polygon (With Point and a Hole)' as test,sdo_geometry(2003,NULL,MDSYS.SDO_POINT_TYPE(1000,1000,NULL),sdo_elem_info_array(1,1003,3,5,2003,3),sdo_ordinate_array(500,500,1500,1500,600,750,900,1050.0)) as geom from dual union all
      select 'Polygon (With Void)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1003,3,5,2003,3),sdo_ordinate_array (50,135,60,140,51,136,59,139)) as geom from dual union all
      select 'Rectangle (Exterior Ring)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1003,3),sdo_ordinate_array (10,135,20,140)) as geom from dual union all
      select 'Rectangle (With Rectangular Hole)' as test,sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3,5,2003,3),sdo_ordinate_array(0,0,200,200,75,25,125,75.0)) as geom from dual
    )
    select a.test,
           <a href="#robo24">T_GEOMETRY</a>(a.geom,0.0005,3,1)
             .<a href="#robo162">ST_Rectangle2Polygon</a>()
             .<strong>ST_AsText</strong>() as geom
      from data a
     order by 1;

    TEST                                     GEOM
    ---------------------------------------- -----------------------------------------------------------------------------------------------------------------------------
    CircularString (1)                       CIRCULARSTRING (10 15, 15 20, 20 15.0)
    CircularString (2)                       CIRCULARSTRING (10 35, 15 40, 20 35, 25 30, 30 35.0)
    CircularString (Closed)                  CIRCULARSTRING (15 65, 10 68, 15 70, 20 68, 15 65.0)
    CompoundCurve (1)                        COMPOUNDCURVE ((10 45, 20 45.0), CIRCULARSTRING (20 45, 23 48, 20 51.0), (20 51, 10 51.0))
    CompoundCurve (2)                        COMPOUNDCURVE ((10 78, 10 75, 20 75, 20 78.0), CIRCULARSTRING (20 78, 15 80, 10 78.0))
    CurvePolygon (Circle Exterior Ring)      CURVEPOLYGON ((15 140, 27.5 127.5, 40 140, 27.5 152.5, 15 140.0))
    CurvePolygon (CircularArc Exterior Ring) CURVEPOLYGON (CIRCULARSTRING (15 115, 20 118, 15 120, 10 118, 15 115.0))
    CurvePolygon (Compound Exterior Ring)    CURVEPOLYGON (COMPOUNDCURVE ((10 128, 10 125, 20 125, 20 128.0), CIRCULARSTRING (20 128, 15 130, 10 128.0)))
    GeometryCollection (1)                   GEOMETRYCOLLECTION (POINT (10 5.0), LINESTRING (10 10, 20 10.0), POLYGON ((10 105, 15 105, 20 110, 10 110, 10 105.0)))
    GeometryCollection (2)                   GEOMETRYCOLLECTION (POLYGON ((0 0, 100 0, 100 100, 0 100, 0 0.0)), POINT (50 50.0), LINESTRING (100 100.0))
    LineString (1)                           LINESTRING (100 100, 900 900.0)
    LineString (2)                           LINESTRING (10 25, 20 30, 25 25, 30 30.0)
    LineString (3)                           LINESTRING (10 10, 20 10.0)
    LineString (Closed)                      LINESTRING (10 55, 15 55, 20 60, 10 60, 10 55.0)
    LineString (Self-Crossing)               LINESTRING (10 85, 20 90, 20 85, 10 90, 10 85.0)
    MultiCurve (1)                           MULTICURVE (CIRCULARSTRING (50 35, 55 40, 60 35.0), CIRCULARSTRING (65 35, 70 30, 75 35.0))
    MultiCurve (Touching)                    MULTICURVE (CIRCULARSTRING (50 65, 50 70, 55 68.0), CIRCULARSTRING (55 68, 60 65, 60 70.0))
    MultiLine (Closed)                       MULTILINESTRING ((50 55, 50 60, 55 58, 50 55.0), (56 58, 60 55, 60 60, 56 58.0))
    MultiLine (Crossing)                     MULTILINESTRING ((50 22, 60 22.0), (55 20, 55 25.0))
    MultiLine (Stoked)                       MULTILINESTRING ((50 15, 55 15.0), (60 15, 65 15.0))
    MultiPoint (2)                           MULTIPOINT ((100 100.0), (900 900.0))
    MultiPoint (3)                           MULTIPOINT ((65 5.0), (70 7.0), (75 5.0))
    MultiPoint (4)                           MULTIPOINT ((50 5.0), (55 7.0), (60 5.0))
    MultiPolygon (Disjoint)                  MULTIPOLYGON (((50 105, 55 105, 60 110, 50 110, 50 105.0)), ((62 108, 65 108, 65 112, 62 112, 62 108.0)))
    MultiPolygon (Rectangles)                MULTIPOLYGON (((1500 100, 1900 100, 1900 500, 1500 500, 1500 100.0)), ((1900 500, 2300 500, 2300 900, 1900 900, 1900 500.0)))
    Point (Ordinate Encoding)                POINT (10 5.0)
    Point (SDO_POINT encoding)               POINT (900 900.0)
    Polygon (No Holes)                       POLYGON ((100 100, 500 100, 500 500, 100 500, 100 100.0))
    Polygon (Stroked Exterior Ring)          POLYGON ((10 105, 15 105, 20 110, 10 110, 10 105.0))
    Polygon (With Point and a Hole)          POLYGON ((500 500, 1500 500, 1500 1500, 500 1500, 500 500.0), (900 750, 600 750, 600 1050, 900 1050, 900 750.0))
    Polygon (With Void)                      POLYGON ((50 135, 60 135, 60 140, 50 140, 50 135.0), (59 136, 51 136, 51 139, 59 139, 59 136.0))
    Rectangle (Exterior Ring)                POLYGON ((10 135, 20 135, 20 140, 10 140, 10 135.0))
    Rectangle (With Rectangular Hole)        POLYGON ((0 0, 200 0, 200 200, 0 200, 0 0.0), (125 25, 75 25, 75 75, 125 75, 125 25.0))

     33 rows selected
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC <strong>ST_AsText</strong> method.
    Any polygon containing optimized rectangles rings is converted to its 5 point equivalent.
    Only supports 2D geometries.
</pre>
<p class="item_name">TODO</p>
<pre>    Convert Optimized Rectangles to BBOX elements.
    Create <a href="#robo47">ST_AsEWKT</a>() method and <a href="#robo88">ST_FromEWKT</a>() or use SC4O Java methods.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo50"></a>
<a name="T5fGEOMETRY2fST5fAsTText"></a>
<h2>15.13.  T_GEOMETRY/ST_AsTText [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AsTText</strong> -- Returns text Description of <a href="#robo24">T_GEOMETRY</a>
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AsTText</strong>(p_linefeed     in integer default 1,
                               p_format_model in varchar2 default 'TM9')
             Return CLOB Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns textual description of <a href="#robo24">T_GEOMETRY</a>.
    Rounds ordinates via object dPrecision variable.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_linefeed (integer) - 1 if apply linefeed to coordinates
    p_format_model (varchar2) -- Oracle Number Format Model (see documentation)
                                 default 'TM9')
</pre>
<p class="item_name">RESULT</p>
<pre>    textual description (string)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select 'POINT (0.1 0.2)' as wkt from dual union all
      select 'LINESTRING (0.1 0.1,10 0,10 5,10 10,5 10,5 5)' as wkt from dual union all
      select 'MULTILINESTRING ((50.0 55.0, 50.0 60.0, 55.0 58.0, 50.0 55.0), (56.0 58.0, 60.0 55.0, 60.0 60.0, 56.0 58.0))' as wkt from dual union all
      select 'CIRCULARSTRING (10.0 15.0, 15.0 20.0, 20.0 15.0)' as wkt from dual union all
      select 'COMPOUNDCURVE ((10.0 45.0, 20.0 45.0), CIRCULARSTRING (20.0 45.0, 23.0 48.0, 20.0 51.0), (20.0 51.0, 10.0 51.0))' as wkt from dual union all
      select 'MULTICURVE (CIRCULARSTRING (50.0 35.0, 55.0 40.0, 60.0 35.0), CIRCULARSTRING (65.0 35.0, 70.0 30.0, 75.0 35.0))' as wkt from dual union all
      select 'CURVEPOLYGON (COMPOUNDCURVE ((10.0 128.0, 10.0 125.0, 20.0 125.0, 20.0 128.0), CIRCULARSTRING (20.0 128.0, 15.0 130.0, 10.0 128.0)))' as wkt from dual union all
      select 'MULTIPOLYGON (((1500.0 100.0, 1900.0 100.0, 1900.0 500.0, 1500.0 500.0, 1500.0 100.0)), ((1900.0 500.0, 2300.0 500.0, 2300.0 900.0, 1900.0 900.0, 1900.0 500.0)))' as wkt from dual union all
      select 'GEOMETRYCOLLECTION (POINT (10.0 5.0), LINESTRING (10.0 10.0, 20.0 10.0), POLYGON ((10.0 105.0, 15.0 105.0, 20.0 110.0, 10.0 110.0, 10.0 105.0)))' as wkt from dual
    )
    select <a href="#robo24">T_GEOMETRY</a>.<a href="#robo89">ST_FromText</a>(a.wkt).<strong>ST_AsTText</strong>() as t_geom
      from data a;

    T_GEOM
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(0.1,0.2,NULL),NULL,NULL);TOLERANCE(.005),PRECISION(2),PROJECTED(1)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.1,0.1,10.0,0.0,10.0,5.0,10.0,10.0,5.0,10.0,5.0,5.0));TOLERANCE(.005),PRECISION(2),PROJECTED(1)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2006,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1,9,2,1),SDO_ORDINATE_ARRAY(50.0,55.0,50.0,60.0,55.0,58.0,50.0,55.0,56.0,58.0,60.0,55.0,60.0,60.0,56.0,58.0));TOLERANCE(.005),PRECISION(2),PROJECTED(1)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(10.0,15.0,15.0,20.0,20.0,15.0));TOLERANCE(.005),PRECISION(2),PROJECTED(1)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,4,3,1,2,1,3,2,2,7,2,1),SDO_ORDINATE_ARRAY(10.0,45.0,20.0,45.0,23.0,48.0,20.0,51.0,10.0,51.0));TOLERANCE(.005),PRECISION(2),PROJECTED(1)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2006,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2,7,2,2),SDO_ORDINATE_ARRAY(50.0,35.0,55.0,40.0,60.0,35.0,65.0,35.0,70.0,30.0,75.0,35.0));TOLERANCE(.005),PRECISION(2),PROJECTED(1)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,7,2,2),SDO_ORDINATE_ARRAY(10.0,128.0,10.0,125.0,20.0,125.0,20.0,128.0,15.0,130.0,10.0,128.0));TOLERANCE(.005),PRECISION(2),PROJECTED(1)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2007,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,1,11,1003,1),SDO_ORDINATE_ARRAY(1500.0,100.0,1900.0,100.0,1900.0,500.0,1500.0,500.0,1500.0,100.0,1900.0,500.0,2300.0,500.0,2300.0,900.0,1900.0,900.0,1900.0,500.0));
               TOLERANCE(.005),PRECISION(2),PROJECTED(1)
    <a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2004,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1,1,3,2,1,7,1003,1),SDO_ORDINATE_ARRAY(10.0,5.0,10.0,10.0,20.0,10.0,10.0,105.0,15.0,105.0,20.0,110.0,10.0,110.0,10.0,105.0));
               TOLERANCE(.005),PRECISION(2),PROJECTED(1)

     9 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo51"></a>
<a name="T5fGEOMETRY2fST5fAsWKB"></a>
<h2>15.14.  T_GEOMETRY/ST_AsWKB [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AsWKB</strong> -- Exports mdsys.sdo_geometry object to its Well Known Binary (WKB) representation by executing, and returning, result of mdsys.sdo_geometry method get_wkb().
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AsWKB</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is a wrapper over the mdsys.sdo_geometry method SELF.GEOM.GET_WKB(). Returns Well Known Binary representation of underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">RESULT</p>
<pre>    WKB (BLOB) -- eg Well Known Binary encoding of mdsys.sdo_geometry object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo52"></a>
<a name="T5fGEOMETRY2fST5fAsWKT"></a>
<h2>15.15.  T_GEOMETRY/ST_AsWKT [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AsWKT</strong> -- Exports mdsys.sdo_geometry object to its Well Known Text (WKT) representation by executing, and returning, result of mdsys.sdo_geometry method get_wkt().
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AsWKT</strong>
             Return clob Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is a wrapper over the mdsys.sdo_geometry method SELF.GEOM.GET_WKT().
    Returns Well Known Text representation of underlying mdsys.sdo_geometry.
    Only supports 2D geometries. See <a href="#robo47">ST_AsEWKT</a> for 3/4D.
</pre>
<p class="item_name">RESULT</p>
<pre>    WKT (CLOB) -- eg Well Known Text encoding of mdsys.sdo_geometry object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select 'CircularString (1)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,2),sdo_ordinate_array (10,15,15,20,20,15)) as geom from dual union all
      select 'CircularString (2)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,2),sdo_ordinate_array (10,35,15,40,20,35,25,30,30,35)) as geom from dual union all
      select 'CircularString (Closed)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,2),sdo_ordinate_array (15,65,10,68,15,70,20,68,15,65)) as geom from dual union all
      select 'CompoundCurve (1)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,4,3,1,2,1,3,2,2,7,2,1),sdo_ordinate_array (10,45,20,45,23,48,20,51,10,51)) as geom from dual union all
      select 'CompoundCurve (2)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,4,2,1,2,1,7,2,2),sdo_ordinate_array (10,78,10,75,20,75,20,78,15,80,10,78)) as geom from dual union all
      select 'CurvePolygon (Circle Exterior Ring)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1003,4),sdo_ordinate_array (15,140,20,150,40,140)) as geom from dual union all
      select 'CurvePolygon (CircularArc Exterior Ring)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1003,2),sdo_ordinate_array (15,115,20,118,15,120,10,118,15,115)) as geom from dual union all
      select 'CurvePolygon (Compound Exterior Ring)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1005,2,1,2,1,7,2,2),sdo_ordinate_array (10,128,10,125,20,125,20,128,15,130,10,128)) as geom from dual union all
      select 'GeometryCollection (1)' as test,sdo_geometry (2004,null,null,sdo_elem_info_array (1,1,1,3,2,1,7,1003,1),sdo_ordinate_array (10,5,10,10,20,10,10,105,15,105,20,110,10,110,10,105)) as geom from dual union all
      select 'GeometryCollection (2)' as test,sdo_geometry(2004,NULL,NULL,sdo_elem_info_array(1,1003,3,5,1,1,9,2,1),sdo_ordinate_array(0,0,100,100,50,50,0,0,100,100.0)) as geom from dual union all
      select 'LineString (1)' as test,sdo_geometry(2002,NULL,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(100,100,900,900.0)) as geom from dual union all
      select 'LineString (2)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,1),sdo_ordinate_array (10,25,20,30,25,25,30,30)) as geom from dual union all
      select 'LineString (3)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,1),sdo_ordinate_array (10,10,20,10)) as geom from dual union all
      select 'LineString (Closed)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,1),sdo_ordinate_array (10,55,15,55,20,60,10,60,10,55)) as geom from dual union all
      select 'LineString (Self-Crossing)' as test,sdo_geometry (2002,null,null,sdo_elem_info_array (1,2,1),sdo_ordinate_array (10,85,20,90,20,85,10,90,10,85)) as geom from dual union all
      select 'MultiCurve (1)' as test,sdo_geometry (2006,null,null,sdo_elem_info_array (1,2,2,7,2,2),sdo_ordinate_array (50,35,55,40,60,35,65,35,70,30,75,35)) as geom from dual union all
      select 'MultiCurve (Touching)' as test,sdo_geometry (2006,null,null,sdo_elem_info_array (1,2,2,7,2,2),sdo_ordinate_array (50,65,50,70,55,68,55,68,60,65,60,70)) as geom from dual union all
      select 'MultiLine (Closed)' as test,sdo_geometry (2006,null,null,sdo_elem_info_array (1,2,1,9,2,1),sdo_ordinate_array (50,55,50,60,55,58,50,55,56,58,60,55,60,60,56,58)) as geom from dual union all
      select 'MultiLine (Crossing)' as test,sdo_geometry (2006,null,null,sdo_elem_info_array (1,2,1,5,2,1),sdo_ordinate_array (50,22,60,22,55,20,55,25)) as geom from dual union all
      select 'MultiLine (Stoked)' as test,sdo_geometry (2006,null,null,sdo_elem_info_array (1,2,1,5,2,1),sdo_ordinate_array (50,15,55,15,60,15,65,15)) as geom from dual union all
      select 'MultiPoint (2)' as test,sdo_geometry(2005,NULL,NULL,sdo_elem_info_array(1,1,2),sdo_ordinate_array(100,100,900,900.0)) as geom from dual union all
      select 'MultiPoint (3)' as test,sdo_geometry (2005,null,null,sdo_elem_info_array (1,1,1,3,1,1,5,1,1),sdo_ordinate_array (65,5,70,7,75,5)) as geom from dual union all
      select 'MultiPoint (4)' as test,sdo_geometry (2005,null,null,sdo_elem_info_array (1,1,3),sdo_ordinate_array (50,5,55,7,60,5)) as geom from dual union all
      select 'MultiPolygon (Disjoint)' as test,sdo_geometry (2007,null,null,sdo_elem_info_array (1,1003,1,11,1003,3),sdo_ordinate_array (50,105,55,105,60,110,50,110,50,105,62,108,65,112)) as geom from dual union all
      select 'MultiPolygon (Rectangles)' as test,sdo_geometry(2007,NULL,NULL,sdo_elem_info_array(1,1003,3,5,1003,3),sdo_ordinate_array(1500,100,1900,500,1900,500,2300,900.0)) as geom from dual union all
      select 'Point (Ordinate Encoding)' as test,sdo_geometry (2001,null,null,sdo_elem_info_array (1,1,1),sdo_ordinate_array (10,5)) as geom from dual union all
      select 'Point (SDO_POINT encoding)' as test,sdo_geometry(2001,NULL,sdo_point_type(900,900,NULL),NULL,NULL) as geom from dual union all
      select 'Polygon (No Holes)' as test,sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3),sdo_ordinate_array(100,100,500,500.0)) as geom from dual union all
      select 'Polygon (Stroked Exterior Ring)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1003,1),sdo_ordinate_array (10,105,15,105,20,110,10,110,10,105)) as geom from dual union all
      select 'Polygon (With Point and a Hole)' as test,sdo_geometry(2003,NULL,MDSYS.SDO_POINT_TYPE(1000,1000,NULL),sdo_elem_info_array(1,1003,3,5,2003,3),sdo_ordinate_array(500,500,1500,1500,600,750,900,1050.0)) as geom from dual union all
      select 'Polygon (With Void)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1003,3,5,2003,3),sdo_ordinate_array (50,135,60,140,51,136,59,139)) as geom from dual union all
      select 'Rectangle (Exterior Ring)' as test,sdo_geometry (2003,null,null,sdo_elem_info_array (1,1003,3),sdo_ordinate_array (10,135,20,140)) as geom from dual union all
      select 'Rectangle (With Rectangular Hole)' as test,sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3,5,2003,3),sdo_ordinate_array(0,0,200,200,75,25,125,75.0)) as geom from dual
    )
    select a.test,
           <a href="#robo24">T_GEOMETRY</a>(a.geom,0.0005,3,1)
             .<a href="#robo162">ST_Rectangle2Polygon</a>()
             .<a href="#robo47">ST_AsEWKT</a>() as geom
      from data a
     order by 1;

    TEST                                     GEOM
    ---------------------------------------- -----------------------------------------------------------------------------------------------------------------------------
    CircularString (1)                       CIRCULARSTRING (10 15, 15 20, 20 15.0)
    CircularString (2)                       CIRCULARSTRING (10 35, 15 40, 20 35, 25 30, 30 35.0)
    CircularString (Closed)                  CIRCULARSTRING (15 65, 10 68, 15 70, 20 68, 15 65.0)
    CompoundCurve (1)                        COMPOUNDCURVE ((10 45, 20 45.0), CIRCULARSTRING (20 45, 23 48, 20 51.0), (20 51, 10 51.0))
    CompoundCurve (2)                        COMPOUNDCURVE ((10 78, 10 75, 20 75, 20 78.0), CIRCULARSTRING (20 78, 15 80, 10 78.0))
    CurvePolygon (Circle Exterior Ring)      CURVEPOLYGON ((15 140, 27.5 127.5, 40 140, 27.5 152.5, 15 140.0))
    CurvePolygon (CircularArc Exterior Ring) CURVEPOLYGON (CIRCULARSTRING (15 115, 20 118, 15 120, 10 118, 15 115.0))
    CurvePolygon (Compound Exterior Ring)    CURVEPOLYGON (COMPOUNDCURVE ((10 128, 10 125, 20 125, 20 128.0), CIRCULARSTRING (20 128, 15 130, 10 128.0)))
    GeometryCollection (1)                   GEOMETRYCOLLECTION (POINT (10 5.0), LINESTRING (10 10, 20 10.0), POLYGON ((10 105, 15 105, 20 110, 10 110, 10 105.0)))
    GeometryCollection (2)                   GEOMETRYCOLLECTION (POLYGON ((0 0, 100 0, 100 100, 0 100, 0 0.0)), POINT (50 50.0), LINESTRING (100 100.0))
    LineString (1)                           LINESTRING (100 100, 900 900.0)
    LineString (2)                           LINESTRING (10 25, 20 30, 25 25, 30 30.0)
    LineString (3)                           LINESTRING (10 10, 20 10.0)
    LineString (Closed)                      LINESTRING (10 55, 15 55, 20 60, 10 60, 10 55.0)
    LineString (Self-Crossing)               LINESTRING (10 85, 20 90, 20 85, 10 90, 10 85.0)
    MultiCurve (1)                           MULTICURVE (CIRCULARSTRING (50 35, 55 40, 60 35.0), CIRCULARSTRING (65 35, 70 30, 75 35.0))
    MultiCurve (Touching)                    MULTICURVE (CIRCULARSTRING (50 65, 50 70, 55 68.0), CIRCULARSTRING (55 68, 60 65, 60 70.0))
    MultiLine (Closed)                       MULTILINESTRING ((50 55, 50 60, 55 58, 50 55.0), (56 58, 60 55, 60 60, 56 58.0))
    MultiLine (Crossing)                     MULTILINESTRING ((50 22, 60 22.0), (55 20, 55 25.0))
    MultiLine (Stoked)                       MULTILINESTRING ((50 15, 55 15.0), (60 15, 65 15.0))
    MultiPoint (2)                           MULTIPOINT ((100 100.0), (900 900.0))
    MultiPoint (3)                           MULTIPOINT ((65 5.0), (70 7.0), (75 5.0))
    MultiPoint (4)                           MULTIPOINT ((50 5.0), (55 7.0), (60 5.0))
    MultiPolygon (Disjoint)                  MULTIPOLYGON (((50 105, 55 105, 60 110, 50 110, 50 105.0)), ((62 108, 65 108, 65 112, 62 112, 62 108.0)))
    MultiPolygon (Rectangles)                MULTIPOLYGON (((1500 100, 1900 100, 1900 500, 1500 500, 1500 100.0)), ((1900 500, 2300 500, 2300 900, 1900 900, 1900 500.0)))
    Point (Ordinate Encoding)                POINT (10 5.0)
    Point (SDO_POINT encoding)               POINT (900 900.0)
    Polygon (No Holes)                       POLYGON ((100 100, 500 100, 500 500, 100 500, 100 100.0))
    Polygon (Stroked Exterior Ring)          POLYGON ((10 105, 15 105, 20 110, 10 110, 10 105.0))
    Polygon (With Point and a Hole)          POLYGON ((500 500, 1500 500, 1500 1500, 500 1500, 500 500.0), (900 750, 600 750, 600 1050, 900 1050, 900 750.0))
    Polygon (With Void)                      POLYGON ((50 135, 60 135, 60 140, 50 140, 50 135.0), (59 136, 51 136, 51 139, 59 139, 59 136.0))
    Rectangle (Exterior Ring)                POLYGON ((10 135, 20 135, 20 140, 10 140, 10 135.0))
    Rectangle (With Rectangular Hole)        POLYGON ((0 0, 200 0, 200 200, 0 200, 0 0.0), (125 25, 75 25, 75 75, 125 75, 125 25.0))

     33 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo53"></a>
<a name="T5fGEOMETRY2fST5fBoundary"></a>
<h2>15.16.  T_GEOMETRY/ST_Boundary [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Boundary</strong> -- Returns All Outer Rings of a polygon or multipolygon as a single linestring/multilinestring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Boundary</strong>()
             Return <a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function extracts all the exterior (outer) rings of a polygon/multipolygon and returns them in a <a href="#robo24">T_GEOMETRY</a> object as a linestring.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC <strong>ST_Boundary</strong> method.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
        From Dual
    )
    select a.tgeom.<strong>ST_Boundary</strong>().<a href="#robo326">ST_AsText</a>() as Boundary
      from data a;

    BOUNDARY
    ----------------------------------------------------------------------------------------------
    MULTILINESTRING ((0 0, 20 0, 20 20, 0 20, 0 0), (100 100, 200 100, 200 200, 100 200, 100 100))
</pre>
<p class="item_name">RESULT</p>
<pre>    Exterior ring(s) (<a href="#robo24">T_GEOMETRY</a>) -- For example, if a single Polygon with 1 exterior and 1 interior ring is provided, then a single polygon with a single exterior ring is returned.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Aug 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo54"></a>
<a name="T5fGEOMETRY2fST5fBuffer"></a>
<h2>15.17.  T_GEOMETRY/ST_Buffer [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Buffer</strong> -- Creates a buffer around input geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Buffer</strong>(p_distance in number,
                              p_unit     in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function creates a square buffer around all linestrings in an object.
    A negative buffer is not possible.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_distance (Number)   - Value &gt; 0.0
    p_unit     (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) - Result of buffering input geometry.
</pre>
<p class="item_name">NOTES</p>
<pre>    Uses MDSYS.SDO_GEOM.SDO_BUFFER if Oracle database version is 12c or above,
    or if the customer is licensed for the Spatial object before 12c.
</pre>
<p class="item_name">ERRORS</p>
<pre>    Will throw exception if the user is not licensed to call MDSYS.SDO_GEOM.SDO_BUFFER.
    -20102  MDSYS.SDO_GEOM.SDO_BUFFER only supported for Locator users from 12c onwards.';
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo55"></a>
<a name="T5fGEOMETRY2fST5fCentroid5fA"></a>
<h2>15.18.  T_GEOMETRY/ST_Centroid_A [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Centroid_A</strong> -- Creates a centroid for a polygon mdsys.sdo_geometry object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Centroid_A</strong>(
                       P_method     In Integer Default 1,
                       P_Seed_Value In Number  Default Null,
                       p_loops      in integer Default 10)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function creates a single centroid if a single polygon.
    The position of the centroid is computed in the longest segment defined by a constant X or Y ordinate.
    There are a number of options for computing a centroid controlled by p_method; these are described
    in the ARGUMENTS section of this document.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_method     (integer) --  0 = Use average of all Area's X Ordinates for starting centroid Calculation
                              10 = Use average of all Area's Y Ordinates for starting centroid Calculation
                               1 = Use centre X Ordinate of geometry MBR
                              11 = Use centre Y Ordinate of geometry MBR
                               2 = User supplied starting seed X ordinate value
                              12 = User supplied starting seed Y ordinate value
                               3 = Use MDSYS.SDO_GEOM.SDO_CENTROID function
                               4 = Use MDSYS.SDO_GEOM.SDO_POINTONSURFACE function.
    p_seed_value (number) -- Starting ordinate X/Y for which a Y/X that is inside the polygon is returned.
    p_loops     (integer) -- In the rare case that the first pass calculation of a centroid fails (not p_method 3 or 4)
                              if p_loops is &gt; 0 then the p_seed_value is adjusted by SELF.tolerance and another attempt it made.
                              When the number of loops is exhausted NULL is returned (very rare).
</pre>
<p class="item_name">RESULT</p>
<pre>    point (<a href="#robo24">T_GEOMETRY</a>) - Centroid of input object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Process ALL options in one.
    With data as (
      select <a href="#robo24">T_GEOMETRY</a>(
               sdo_geometry(
                 'POLYGON((2300 -700, 2800 -300, 2300 700, 2800 1100, 2300 1100,
                           1800 1100, 2300 800, 2000 600, 2300 600, 2300 500, 2400 400,
                           2300 400, 2300 300, 2300 200, 2500 150, 2100 100, 2500 100,
                           2300 -200, 1800 -300, 2300 -500, 2200 -400, 2400 -400, 2300 -700),
                          (2300 1000, 2400 900, 2200 900, 2300 1000),
                          (2400 -400, 2450 -300, 2550 -400, 2400 -400),
                          (2300 1000, 2400 1050, 2400 1000, 2300 1000))',null),
               0.005,2,1) as tgeom
        from dual
    )
    select t.IntValue as method_id,
           case t.IntValue
                when  0 then 'Avg of Area''s X Ordinates as Centroid Seed'
                when 10 then 'Avg of Area''s Y Ordinates as Centroid Seed'
                when  1 then 'Centre X Ordinate of geom MBR as seed'
                when 11 then 'Centre Y Ordinate of geom MBR as seed'
                when  2 then 'User X ordinate'
                when 12 then 'User Y ordinate'
                when  3 then 'MDSYS.SDO_GEOM.SDO_CENTROID'
                when  4 then 'MDSYS.SDO_GEOM.SDO_PointOnSurface'
            end as Method_Text,
           a.tGeom.<strong>ST_Centroid_A</strong>(
             p_method     =&gt; t.IntValue,
             P_Seed_Value =&gt; case t.IntValue when 2 then X eg 2035.4 when 12 then Y eg 284.6 else NULL end,
             p_loops      =&gt; 5
           ).<a href="#robo326">ST_AsText</a>() as centroid
      from data a,
           table(<a href="#robo4">TOOLS</a>.generate_series(0,12,1)) t
     where t.IntValue in (0, 1, 2, 3, 4, 10, 11, 12)
     order by 2 asc;

     METHOD_ID METHOD_TEXT                                CENTROID
    ---------- ------------------------------------------ --------------------------------------------------------------------------------
             0 Avg of Area's X Ordinates as Centroid Seed POINT (2322.86 -282.855)
            10 Avg of Area's Y Ordinates as Centroid Seed POINT (2396.43 314.29)
             1 Centre X Ordinate of geom MBR as seed      POINT (2300.0 -300.0)
            11 Centre Y Ordinate of geom MBR as seed      POINT (2425.0 200.0)
             3 MDSYS.SDO_GEOM.SDO_CENTROID                POINT (2377.12121212121 234.772727272727)
             4 MDSYS.SDO_GEOM.SDO_PointOnSurface          POINT (2300.0 -700.0)
             2 User X ordinate                            POINT (2035.4 -323.54)
            12 User Y ordinate                            POINT (2403.85 284.6)

     8 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2006 - Original coding.
    Simon Greener - January 2012 - Added p_seed_x support.
    Simon Greener - August  2018 - Added to <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo56"></a>
<a name="T5fGEOMETRY2fST5fCentroid5fL"></a>
<h2>15.19.  T_GEOMETRY/ST_Centroid_L [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Centroid_L</strong> -- Creates a centroid for a linestring mdsys.sdo_geometry object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Centroid_L</strong>(p_option in varchar2 := 'LARGEST',
                                  p_unit   in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function creates a single centroid if the line-string being operated on
    has a single part. The position of the centroid is either the mid-length point
    if the line is not measured, or the mid-measure position if measured. For a single
    line-string any supplied p_option value is ignored.
    If the geometry is a multi-linestring a number of options are available.
       - LARGEST  -- Returns centroid of largest (measure/length) line-string in multi-linestring (DEFAULT)
       - SMALLEST -- Returns centroid of smallest (measure/length) line-string in multi-linestring
       - MULTI    -- Returns all centroid for all parts of multi-linestring as a single multi-point (x005 gtype) geometry.
    The centroid of each part is constructed using the same rules as for a single line-string.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_option (VarChar2) - LARGEST, SMALLEST, or MULTI. Ignored if single linestring.
    p_unit   (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    point (<a href="#robo24">T_GEOMETRY</a>) - Centroid of input object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Largest
    -- Smallest
    -- Multi
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
    Simon Greener - January 2006 - Original coding.
    Simon Greener - January 2012 - Added p_seed_x support.
    Simon Greener - August  2018 - Added to <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo57"></a>
<a name="T5fGEOMETRY2fST5fCentroid5fP"></a>
<h2>15.20.  T_GEOMETRY/ST_Centroid_P [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Centroid_P</strong> -- Creates a centroid for a multipoint object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Centroid_P</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function creates a single centroid from the underlying MultiPoint geometry.
    If the underlying geometry is a point, it is returned.
    If the underlying geometry is not a point or multipoint an exception is thrown.
    The centroid is returned with the XY ordinates rounded to SELF.dPrecision.
    Measured (4x05) objects are not supported.
</pre>
<p class="item_name">RESULT</p>
<pre>    point (<a href="#robo24">T_GEOMETRY</a>) - Centroid of input object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Single point is returned as it is.
    select T_Geometry(sdo_geometry('POINT(45 45)',null),0.005,2,1)
             .<strong>ST_Centroid_P</strong>()
             .<a href="#robo326">ST_AsText</a>() as cPoint
      from dual;

    CPOINT
    --------------------------------------------------------------------------------
    POINT (45.0 45.0)

    -- Points around 0,0, which should return 0.0!
    select T_Geometry(sdo_geometry('MULTIPOINT((45 45),(-45 45),(-45 -45),(45 -45))',null),0.005,2,1)
             .<strong>ST_Centroid_P</strong>()
             .<a href="#robo326">ST_AsText</a>() as cPoint
      from dual;

    CPOINT
    ---------------
    POINT (0.0 0.0)

    -- 3D MultiPoint
    select T_Geometry(
             mdsys.sdo_geometry(3005,null,null,mdsys.sdo_elem_info_array(1,1,3),mdsys.sdo_ordinate_array(1.1,2.0,-0.8, 3.3,4.2,-0.95, 5.5,6.8,1.04)),
             0.005,2,1)
           .<strong>ST_Centroid_P</strong>()
           .<a href="#robo177">ST_Round</a>(2,2,3)
           .geom as cPoint
      from dual;

    CPOINT
    ----------------------------------------------------------------
    SDO_GEOMETRY(3001,NULLSDO_POINT_TYPE(3.3,4.33,-0.237),NULL,NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2006 - Original coding.
    Simon Greener - January 2012 - Added p_seed_x support.
    Simon Greener - August  2018 - Added to <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo58"></a>
<a name="T5fGEOMETRY2fST5fCogo2Line"></a>
<h2>15.21.  T_GEOMETRY/ST_Cogo2Line [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>   <strong>ST_Cogo2Line</strong> - Creates linestring from supplied bearing and distance instructions.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Cogo2Line</strong>(p_bearings_and_distances in &amp;&amp;INSTALL_SCHEMA..<a href="#robo15">T_BEARING_DISTANCES</a>)
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function takes a set of bearings and distances supplied using array of t_bearing_and_distance instructions, and creates a linestring from it.
    The underlying geometry must be a single start point.
    The final geometry's XY ordinates are not rounded.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_bearings_and_distances (t_bearings_distances) - Array of <a href="#robo22">T_BEARING_DISTANCE</a> instructions.
</pre>
<p class="item_name">RESULT</p>
<pre>    linestring (t_geometry) - New linestring geometry object.
  NOTE
    Measures not supported: see LRS functions.
</pre>
<p class="item_name">TODO</p>
<pre>    Create Static version where all instructions are provided including start point.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Build 2D Line from default constructor
    select F.line.<a href="#robo214">ST_Validate</a>() as vLine,
           f.line.geom          as line,
           round(f.line.<a href="#robo107">ST_Length</a>(),2) as meters
      from (select t_geometry(sdo_geometry(2001,null,sdo_point_type(0.0,3.5,null),null,null),0.005,2,1)
                     .<strong>ST_Cogo2Line</strong> (
                          t_bearing_distances(
                              t_bearing_distance(180.00,3.50,null),
                              t_bearing_distance( 90.00,3.50,null),
                              t_bearing_distance(  0.00,3.50,null),
                              t_bearing_distance( 43.02,5.43,null),
                              t_bearing_distance(270.00,9.50,null)
                          )
                     )
                     .<a href="#robo177">ST_Round</a>(8,8) as line
              from dual
           ) f;

    VLINE LINE                                                                                                                                                        METERS
    ----- ----------------------------------------------------------------------------------------------------------------------------------------------------------- ------
    TRUE  SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.0,3.5, 0.0,0.0, 3.5,0.0, 3.5,3.5, 7.2046371,7.46995768, -2.2953629,7.46995768))  25.43

    -- Build 3D line by decimal degrees using default constructor
    select F.line.<a href="#robo214">ST_Validate</a>()        as vLine,
           f.line.geom                 as line,
           round(f.line.<a href="#robo107">ST_Length</a>(),2) as meters
      from (select T_Geometry(sdo_geometry(3001,null,sdo_point_type(0,3.5,0),null,null),0.005,2,1)
                       .<strong>ST_Cogo2Line</strong>(
                           p_bearings_and_distances=&gt;
                             t_bearing_distances(
                              t_bearing_distance(180,  3.5, 0.1),
                              t_bearing_distance(90,   3.5, 0.5),
                              t_bearing_distance(0,    3.5, 1.6),
                              t_bearing_distance(43.02,5.43,2.123),
                              t_bearing_distance(270,  9.5, 0.5)
                           )
                        )
                       .<a href="#robo177">ST_Round</a>(8,8) as line
              from dual
            ) f;

    VLINE LINE                                                                                                                                                                                  METERS
    ----- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ------
    TRUE  SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.0,3.5,0.0, 0.0,0.0,0.1, 3.5,0.0,0.5, 3.5,3.5,1.6, 7.2046371,7.46995768,2.123, -2.2953629,7.46995768,0.5))  25.79

    -- Line by degrees using text constructor
    select F.line.<a href="#robo214">ST_Validate</a>()        as vLine,
           f.line.geom                 as line,
           round(f.line.<a href="#robo107">ST_Length</a>(),2) as meters
      from (select T_Geometry(sdo_geometry(3001,null,sdo_point_type(0,3.5,0),null,null),0.005,2,1)
                       .<strong>ST_Cogo2Line</strong>(
                           p_bearings_and_distances=&gt;
                             t_bearing_distances(
                              t_bearing_distance(p_sDegMinSec=&gt;'180',         p_distance=&gt;3.5,  p_z=&gt;0.1),
                              t_bearing_distance(p_sDegMinSec=&gt;'90',          p_distance=&gt;3.5,  p_z=&gt;0.5),
                              t_bearing_distance(p_sDegMinSec=&gt;'0',           p_distance=&gt;3.5,  p_z=&gt;1.6),
                              t_bearing_distance(p_sDegMinSec=&gt;'43^01''21"',  p_distance=&gt;5.43, p_z=&gt;2.0),
                              t_bearing_distance(p_sDegMinSec=&gt;'270',         p_distance=&gt;9.5,  p_z=&gt;0.5),
                              t_bearing_distance(p_sDegMinSec=&gt;'149^58''6.3"',p_distance=&gt;4.613,p_z=&gt;0.1))
                          )
                      .<a href="#robo177">ST_Round</a>(8,8) as line
              from dual
            ) f;

    VLINE LINE                                                                                                                                                                                                             METERS
    ----- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ------
    TRUE  SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.0,3.5,0.0, 0.0,0.0,0.1, 3.5,0.0,0.5, 3.5,3.5,1.6, 7.20481032,7.46979603,2.0, -2.29518968,7.46979603,0.5, 0.01351213,3.47609287,0.1))  30.39

    -- Build 3D line using mixed constructors
    select F.line.<a href="#robo214">ST_Validate</a>()        as vLine,
           f.line.geom                 as line,
           round(f.line.<a href="#robo107">ST_Length</a>(),2) as Meters
      from (select T_Geometry(sdo_geometry(3001,null,sdo_point_type(0,3.5,0),null,null),0.005,2,1)
                       .<strong>ST_Cogo2Line</strong>(
                           p_bearings_and_distances=&gt;
                             t_bearing_distances(
                               t_bearing_distance(              180.0,                     3.5,       0.1),  -- &lt;&lt; Default Constructor
                               t_bearing_distance(p_sDegMinSec=&gt;'90',          p_distance=&gt;3.5,  p_z=&gt;0.5),
                               t_bearing_distance(              0.0,                       3.5,       1.6),  -- &lt;&lt; Default Constructor
                               t_bearing_distance(p_sDegMinSec=&gt;'43^01''21"',  p_distance=&gt;5.43, p_z=&gt;2.0),
                               t_bearing_distance(p_sDegMinSec=&gt;'270',         p_distance=&gt;9.5,  p_z=&gt;0.5),
                               t_bearing_distance(p_sDegMinSec=&gt;'149^58''6.3"',p_distance=&gt;4.613,p_z=&gt;0.1))
                          )
                      .<a href="#robo177">ST_Round</a>(8,8) as line
              from dual
            ) f;

    VLINE LINE                                                                                                                                                                                                             METERS
    ----- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ------
    TRUE  SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.0,3.5,0.0, 0.0,0.0,0.1, 3.5,0.0,0.5, 3.5,3.5,1.6, 7.20481032,7.46979603,2.0, -2.29518968,7.46979603,0.5, 0.01351213,3.47609287,0.1))  30.39
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo59"></a>
<a name="T5fGEOMETRY2fST5fCogo2Polygon"></a>
<h2>15.22.  T_GEOMETRY/ST_Cogo2Polygon [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>   <strong>ST_Cogo2Polygon</strong> - Creates single polygon exterior ring from supplied bearing and distance instructions.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Cogo2Polygon</strong>(p_bearings_and_distances in &amp;&amp;INSTALL_SCHEMA..<a href="#robo15">T_BEARING_DISTANCES</a>)
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function takes a set of bearings and distances supplied using array of t_bearing_and_distance instructions, and creates a closed exterior ring from it.
    The underlying geometry must be a single start point.
    The final geometry will have its XY ordinates rounded to SELF.dPrecision.
    Z ordinates are not rounded as they are provided (as is) in the t_bearing_distance.z values.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_bearings_and_distances (t_bearings_distances) - Array of <a href="#robo22">T_BEARING_DISTANCE</a> instructions.
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (t_geometry) - New polygon object with a single exterior ring.
  NOTE
    Measured polygons not supported.
</pre>
<p class="item_name">TODO</p>
<pre>    Create Static version where all instructions are provided including start point.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Polygon built from default constructor...
    select F.poly.<a href="#robo214">ST_Validate</a>()      as vPoly,
           f.poly.<a href="#robo326">ST_AsText</a>()        as pWKT,
           round(f.Poly.<a href="#robo46">ST_Area</a>(),2) as sqM
      from (select t_geometry(sdo_geometry(2001,null,sdo_point_type(0,3.5,null),null,null),0.005,2,1)
                     .<strong>ST_Cogo2Polygon</strong>(
                          t_bearing_distances(
                              t_bearing_distance(180,3.5,null),
                              t_bearing_distance(90,3.5,null),
                              t_bearing_distance(0,3.5,null),
                              t_bearing_distance(43.02,5.43,null),
                              t_bearing_distance(270,9.5,null))
                      )
                     .<a href="#robo177">ST_Round</a>(3,3) as poly
              from dual
           ) f;

    VPOLY PWKT                                                                               SQM
    ----- -------------------------------------------------------------------------------- -----
    TRUE  POLYGON ((0.0 3.5, 0.0 0.0, 3.5 0.0, 3.5 3.5, 7.205 7.47, -2.295 7.47, 0.0 3.5)) 38.06

    -- Different way of building directions.
    -- Simple bearing/distance constructors used
    With data as (
    select CAST(MULTISET(
             Select bd
               from (select 1 as rin, t_bearing_distance(180.0,3.5) as bd                      from dual union all
                     select 2,        t_bearing_distance( 90.0,3.5)                            from dual union all
                     select 3,        t_bearing_distance(  0.0,3.5)                            from dual union all
                     select 4,        t_bearing_distance(43.02,round(sqrt(4.5*4.5+2.2*4.2),2)) from dual union all
                     select 5,        t_bearing_distance(270.0,(4.5+3.4+1.6))                  from dual )
                     order by rin
           ) as t_bearing_distances ) as directions
      from dual
    )
    select F.poly.<a href="#robo214">ST_Validate</a>()      as vPoly,
           f.poly.<a href="#robo326">ST_AsText</a>()        as pWKT,
           round(f.Poly.<a href="#robo46">ST_Area</a>(),2) as sqM
      from (select t_geometry(sdo_geometry(2001,null,sdo_point_type(0,3.5,null),null,null),0.005,2,1)
                     .<strong>ST_Cogo2Polygon</strong> (
                         p_bearings_and_distances=&gt;a.directions
                      )
                     .<a href="#robo177">ST_Round</a>(3,3) as poly
              from data a
            ) f;

    VPOLY PWKT                                                                               SQM
    ----- -------------------------------------------------------------------------------- -----
    TRUE  POLYGON ((0.0 3.5, 0.0 0.0, 3.5 0.0, 3.5 3.5, 7.205 7.47, -2.295 7.47, 0.0 3.5)) 38.06

    -- Mixed Constructors with Z for 3D Polygon...
    select F.poly.<a href="#robo214">ST_Validate</a>()      as vPoly,
           f.poly.geom               as polygon,
           round(f.Poly.<a href="#robo46">ST_Area</a>(),2) as sqM
      from (select t_geometry(sdo_geometry(3001,null,sdo_point_type(0,3.5,10.0),null,null),0.005,2,1)
                     .<strong>ST_Cogo2Polygon</strong> (
                         t_bearing_distances(
                              t_bearing_distance(180,3.5,11.1),
                              t_bearing_distance(p_sDegMinSec=&gt;'90^0''0"',p_distance=&gt;3.5,p_z=&gt;12.2),
                              t_bearing_distance(0.0,3.5,13.3),
                              t_bearing_distance(p_sDegMinSec=&gt;'43^01''12"',p_distance=&gt;5.43,p_z=&gt;14.4),
                              t_bearing_distance(270.0,9.5,13.3)
                          )
                      )
                     .<a href="#robo177">ST_Round</a>(3,3) as poly
              from dual
           ) f;

    VPOLY POLYGON                                                                                                                                                                                  SQM
    ----- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -----
    TRUE  SDO_GEOMETRY(3003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,1),SDO_ORDINATE_ARRAY(0.0,3.5,10.0, 0.0,0.0,11.1, 3.5,0.0,12.2, 3.5,3.5,13.3, 7.205,7.47,14.4, -2.295,7.47,13.3, 0.0,3.5,10.0)) 43.37
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo60"></a>
<a name="T5fGEOMETRY2fST5fCompress"></a>
<h2>15.23.  T_GEOMETRY/ST_Compress [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>   <strong>ST_Compress</strong> - Turns coordinate array of linestring/polygon into equivalent to MoveTo and LineTo components.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <a href="#robo63">ST_Decompress</a>(p_delta_factor in number default 1,
                                  p_origin       in &amp;&amp;INSTALL_SCHEMA..T_Vertex default null )
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Starting point as abolute value is kept if p_origin is null.
    p_origin could contain lower left ordinate of the MBR of the geometry.
    Extracts pairs of adjacent vertices, substracts their ordinates and applies delta factor.
    p_delta_factor is scalar applied to difference between two vertices in a linestring.
    EG:
      * 1.0 leaves delta XY alone
      * 0.5 divides each delta x and y by 2
      * 0.1 divides each delta x and y by 10
    No rounding occurs as full precision is needed for <a href="#robo63">ST_Decompress</a>.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_delta_factor (number)   -- Coordinate delta multiplying factor.
    p_origin       (t_vertex) -- Contains starting point for decompressing geometry cf MoveTo in SVG.
</pre>
<p class="item_name">RESULT</p>
<pre>    Compressed Linestring (t_geometry) - New polygon/linestring object with coordinates compressed.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- <strong>ST_Compress</strong>
    With data As (
    select 0.1 as delta_factor,
           t_geometry(Sdo_Geometry(2002,2154,Null,
                                   Sdo_Elem_Info_Array(1,2,1),
                                   Sdo_Ordinate_Array(210124.235,6860562.134, 189291.0,6855606.0, 185644.0,6870204.0, 130465.0,6856274.0, 124851.0,6831829.0, 162802.0,6840716.0, 148600.0,6829212.0, 162326.0,6831137.0)),
                      0.005,2,1) as original,
           t_vertex(
             p_x=&gt;210124.235,
             p_y=&gt;6860562.134,
             p_id=&gt;0,
             p_sdo_gtype=&gt;2001,
             p_sdo_srid=&gt;2154
           ) as origin
      from dual
    )
    Select DBMS_LOB.GetLength(f.original.<a href="#robo326">ST_AsText</a>()  ) as originalSize,
           DBMS_LOB.GetLength(f.compressed.<a href="#robo326">ST_AsText</a>()) as compressedSize,
           f.compressed.<a href="#robo326">ST_AsText</a>()                     as compressed
      From (Select a.original
                     .<strong>ST_Compress</strong>(
                         p_delta_factor =&gt; a.delta_factor,
                         P_origin       =&gt; a.origin
                     ) As compressed,
                   a.original,
                   a.delta_factor,
                   a.origin
             From data a
            ) f;

    ORIGINALSIZE COMPRESSEDSIZE COMPRESSED
    ------------ -------------- ---------------------------------------------------------------------------------------------------------------------------------------
             175            135 LINESTRING (0.0 0.0, -2083.3235 -495.6134, -364.7 1459.8, -5517.9 -1393.0, -561.4 -2444.5, 3795.1 888.7, -1420.2 -1150.4, 1372.6 192.5)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2015 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo61"></a>
<a name="T5fGEOMETRY2fST5fConcat5fLine"></a>
<h2>15.24.  T_GEOMETRY/ST_Concat_Line [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Concat_Line</strong> -- Adds supplied linestring to start/end of underlying linestring depending on geometric relationship.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>   Joins two linestrings together depending on start/end relationships of the supplied
   linestring and the underlying linestring.
   Does not support point or polygon geometries.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_line (SDO_GEOMETRY) - Geometry to be added to underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">RESULT</p>
<pre>    linestring (<a href="#robo24">T_GEOMETRY</a>) - Line that is the result of concatenating the two linestrings.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<a name="robo62"></a>
<a name="T5fGEOMETRY2fST5fCoordDimension"></a>
<h2>15.25.  T_GEOMETRY/ST_CoordDimension [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_CoordDimension</strong> -- Returns Coordinate Dimension of mdsys.sdo_geometry object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_CoordDimension</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POINT(0 0)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3001,NULL,SDO_POINT_TYPE(0,0,0),null,null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTILINESTRING((-1 -1, 0 -1),(0 0,10 0,10 5,10 10,5 10,5 5))',null),0.005,3,1) as tgeom From Dual union all
      select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom From Dual
    )
    select a.tgeom.<a href="#robo91">ST_GeometryType</a>()   as geomType,
           a.tGeom.<a href="#robo92">ST_GType</a>()          as sdo_gtype,
           a.tGeom.<strong>ST_CoordDimension</strong>() as coordDim,
           a.tgeom.<a href="#robo67">ST_Dimension</a>()      as geomDim
      from data a;

    GEOMTYPE             SDO_GTYPE   COORDDIM    GEOMDIM
    ------------------- ---------- ---------- ----------
    ST_POINT                     1          2          0
    ST_POINT                     1          3          0
    ST_LINESTRING                2          2          1
    ST_LINESTRING                2          3          1
    ST_MULTILINESTRING           6          2          1
    ST_POLYGON                   3          2          2
    ST_MULTIPOLYGON              7          2          2

     7 rows selected
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is a wrapper over the mdsys.sdo_geometry method SELF.GEOM.ST_CoordDimen().
    Returns Coordinate Dimension of mdsys.sdo_geometry object.
</pre>
<p class="item_name">RESULT</p>
<pre>    Coordinate Dimension (SMALLINT) -- 2 if 2001; 3 is 3001 etc.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo63"></a>
<a name="T5fGEOMETRY2fST5fDecompress"></a>
<h2>15.26.  T_GEOMETRY/ST_Decompress [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>   <strong>ST_Decompress</strong> - Reverse Compress applied by <a href="#robo60">ST_Compress</a> with same p_factor_applied and p_origin.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Decompress</strong>(p_delta_factor in number default 1)
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Starting point as abolute value is kept if p_origin is null.
    p_origin could contain lower left ordinate of the MBR of the geometry.
    Extracts pairs of adjacent vertex deltas, applies inverse delta factor to each, and creates new point.
    p_delta_factor is scalar applied to difference between two vertices in a linestring.
    Must be same p_delta_factor applied to original <a href="#robo60">ST_Compress</a>:
      * 1.0 leaves delta XY alone
      * 0.5 divides each delta x and y by 2
      * 0.1 divides each delta x and y by 10
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_delta_factor (number)   -- Coordinate delta multiplying factor.
    p_origin       (t_vertex) -- Contains starting point for decompressing geometry cf MoveTo in SVG.
</pre>
<p class="item_name">RESULT</p>
<pre>    Decompressed Linestring (t_geometry) - New polygon/linestring object with coordinates compressed.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- <strong>ST_Decompress</strong>
    With data As (
    select 0.1 as delta_factor,
           t_geometry(Sdo_Geometry(2002,2154,Null,
                                   Sdo_Elem_Info_Array(1,2,1),
                                   Sdo_Ordinate_Array(210124.235,6860562.134, 189291.0,6855606.0, 185644.0,6870204.0, 130465.0,6856274.0, 124851.0,6831829.0, 162802.0,6840716.0, 148600.0,6829212.0, 162326.0,6831137.0)),
                      0.005,2,1) as original,
           t_vertex(
             p_x=&gt;210124.235,
             p_y=&gt;6860562.134,
             p_id=&gt;0,
             p_sdo_gtype=&gt;2001,
             p_sdo_srid=&gt;2154
           ) as origin
      from dual
    )
    Select DBMS_LOB.GetLength(f.original.<a href="#robo326">ST_AsText</a>()  ) as originalSize,
           DBMS_LOB.GetLength(f.compressed.<a href="#robo326">ST_AsText</a>()) as compressedSize,
           f.compressed
            .<strong>ST_Decompress</strong>(
               p_delta_factor =&gt; f.delta_factor,
               P_origin       =&gt; f.origin
           ).<a href="#robo330">ST_Equals</a>(
               p_geometry    =&gt; f.original.geom,
               p_z_precision =&gt; null,
               p_m_precision =&gt; null
           ) as before_after_equals,
           f.compressed.<a href="#robo326">ST_AsText</a>() as compressed
      From (Select a.original
                     .<a href="#robo60">ST_Compress</a>(
                         p_delta_factor =&gt; a.delta_factor,
                         P_origin       =&gt; a.origin
                     ) As compressed,
                   a.original,
                   a.delta_factor,
                   a.origin
             From data a
            ) f;

    ORIGINALSIZE COMPRESSEDSIZE BEFORE_AFTER_EQUALS COMPRESSED
    ------------ -------------- ------------------- --------------------------------------------------------------------------------------------------------------------------------------
             175            135               EQUAL LINESTRING (0.0 0.0, -2083.3235 -495.6134, -364.7 1459.8, -5517.9 -1393.0, -561.4 -2444.5, 3795.1 888.7, -1420.2 -1150.4, 1372.6 192.5)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2015 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo64"></a>
<a name="T5fGEOMETRY2fST5fDeleteVertex"></a>
<h2>15.27.  T_GEOMETRY/ST_DeleteVertex [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_DeleteVertex</strong> -- Function which deletes the coordinate at position p_vertex_id from the underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>   Member Function <strong>ST_DeleteVertex</strong> (p_vertex_id in integer)
            Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that deletes the coordinate at position p_vertex_id in the underlying geometry.
    p_verted_id Values:
      1. null -&gt; defaults to -1;
      2. -1   -&gt; maximum number of points ie <a href="#robo148">ST_NumPoints</a>()
      3. Greater than <a href="#robo148">ST_NumPoints</a>() -&gt; maximum number of points ie <a href="#robo148">ST_NumPoints</a>(p_geometry)
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_vertex_id (integer) - Coordinate to be deleted.
</pre>
<p class="item_name">RESULT</p>
<pre>    updated geom (geometry) - Geometry with coordinate deleted.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_geometry(
             sdo_geometry('LINESTRING(0 0,1 1,2 2)',NULL),0.005,2,1
           ).<strong>ST_DeleteVertex</strong>(
                 p_vertex_id =&gt; 2
             ).<a href="#robo326">ST_AsText</a>() as updatedGeom
      from dual;

    UPDATEDGEOM
    -------------------
    LINESTRING(0 0,1 1)
</pre>
<p class="item_name">ERRORS</p>
<pre>    Can throw one of the following exceptions:
      1. ORA-20122: Deletion of vertex within an existing circular arc not allowed.
      2. ORA-20123: Deletion vertex position is invalid.
      3. ORA-20124: Vertex delete invalidated geometry, with reason of: &lt;Reason&gt;
    Exception ORA-20124 will include result from SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2006 - Original Coding for GEOM package.
    Simon Greener - July 2011     - Port to <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo65"></a>
<a name="T5fGEOMETRY2fST5fDensify"></a>
<h2>15.28.  T_GEOMETRY/ST_Densify [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Densify</strong> -- Implements a basic geometry densification algorithm.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Densify</strong>(p_distance In Number,
                               p_unit     In Varchar2 Default NULL)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function add vertices to an existing vertex-to-vertex described (m)linestring or (m)polygon sdo_geometry.
    New vertices are added in such a way as to maintain existing vertices.
    That is, no existing vertices are removed.
    Densification occurs on a single vertex-to-vertex segment basis.
    If segment length is &lt; p_distance no vertices are added.
    No vertex is ever added such that the distance to the next vertex is &lt; SELF.tolerance.
    The implementation does not guarantee that the added vertices will be exactly p_distance apart.
    The final vertex separation will be BETWEEN p_distance AND p_distance * 2 .

    The implementation honours 3D and 4D shapes and averages these dimension values
    for the new vertices.

    The function does not support compound objects or objects with circles,
    optimised rectangles or described by arcs.

    Any non (m)polygon/(m)linestring shape is simply returned as it is.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_distance (Number) -- The desired optimal distance between added vertices. Must be &gt; SELF.tolerance.
    p_unit   (varchar2) -- Unit of measure associated with p_distance and for calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- Densified geometry.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>     -- Simple Straight line.
    select t_geometry(
             sdo_geometry(2002,NULL,NULL,
                          sdo_elem_info_array(1,2,1),
                          sdo_ordinate_array(100,100,900,900.0)),
             0.005,2,1)
             .<strong>ST_Densify</strong>(p_distance=&gt;125.0,
                         p_unit=&gt;null)
             .<a href="#robo177">ST_Round</a>(3,3,2,1)
             .geom as geom
      from dual;

    GEOM
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(188.889,188.889,277.778,277.778,366.667,366.667,455.556,455.556,544.444,544.444,633.333,633.333,722.222,722.222,811.111,811.111))

    -- Simple Linestring with Z
    select t_geometry(
             sdo_geometry(3002,NULL,NULL,
                          sdo_elem_info_array(1,2,1),
                          sdo_ordinate_array(100,100,1.0, 900,900.0,9.0)),
             0.005,2,1)
             .<strong>ST_Densify</strong>(p_distance=&gt;125.0,
                         p_unit=&gt;null)
             .<a href="#robo177">ST_Round</a>(3,3,2,1)
             .geom as geom
      from dual;

    GEOM
    -------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3002,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(100,100,1,188.889,188.889,1.89,277.778,277.778,2.78,366.667,366.667,3.67,455.556,455.556,4.56,
                                    544.444,544.444,5.44,633.333,633.333,6.33,722.222,722.222,7.22,811.111,811.111,8.11,900,900,9))

    -- Simple LineString with Z and Measures
    select t_geometry(
             sdo_geometry(4402,NULL,NULL,
                          sdo_elem_info_array(1,2,1),
                          sdo_ordinate_array(100,100,  -4.56,   0.99, 
                                             900,900.0,-6.73,1131.2)),
             0.005,2,1)
             .<strong>ST_Densify</strong>(p_distance=&gt;125.0,
                         p_unit=&gt;null)
             .<a href="#robo177">ST_Round</a>(3,3,2,2)
             .geom as geom
      from dual;

    GEOM
    ----------------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(4402,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(100.0,100.0,-4.56,0.99, 166.667,166.667,-4.74,95.17, 233.333,233.333,-4.92,189.36, 300.0,300.0,-5.1,283.54, 
                                    366.667,366.667,-5.28,377.73, 433.333,433.333,-5.46,471.91, 500.0,500.0,-5.65,566.1, 566.667,566.667,-5.83,660.28,
                                    633.333,633.333,-6.01,754.46, 700.0,700.0,-6.19,848.65, 766.667,766.667,-6.37,942.83, 833.333,833.333,-6.55,1037.02, 
                                    900.0,900.0,-6.73,1131.2))

    with data as (
      select t_geometry(
               SDO_GEOMETRY(2002,NULL,NULL,
                            SDO_ELEM_INFO_ARRAY(1,2,1),
                            SDO_ORDINATE_ARRAY(
                              1100.765,964.286, 1161.99,739.796, 963.01,596.939, 677.296,775.51,
                              460.459,880.102, 253.827,793.367, 174.745,630.102, 228.316,497.449,
                              455.357,528.061, 718.112,446.429, 713.01,290.816, 598.214,125.0,
                              373.724,81.633, 67.602,267.857)),
               0.05,2,1)
                as "Original Geometry"
      from dual
    )
    select a."Original Geometry".<strong>ST_Densify</strong>(p_distance=&gt;25.0).<a href="#robo177">ST_Round</a>(2).geom as "Densified Geometry" from data a;

    Densified Geometry
    --------------------------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(1100.77,964.29,1107.57,939.34,1114.37,914.4,1121.17,889.46,1127.98,864.51,
                 1134.78,839.57,1141.58,814.63,1148.38,789.68,1155.19,764.74,1161.99,739.8,1139.88,723.92,1117.77,708.05,1095.66,692.18,1073.55,676.3
                 1051.45,660.43,1029.34,644.56,1007.23,628.69,985.12,612.81,963.01,596.94,941.03,610.68,919.05,624.41,897.08,638.15,875.1,651.88,853.12,
                  665.62,831.14,679.36,809.16,693.09,787.19,706.83,765.21,720.57,743.23,734.3,721.25,748.04,699.27,761.77,677.3,775.51,653.2,787.13,629.11,
                  798.75,605.02,810.37,580.92,822,556.83,833.62,532.74,845.24,508.65,856.86,484.55,868.48,460.46,880.1,434.63,869.26,408.8,858.42,382.97,
                  847.58,357.14,836.73,331.31,825.89,305.49,815.05,279.66,804.21,253.83,793.37,242.53,770.04,231.23,746.72,219.93,723.4,208.64,700.07,197.34,
                  676.75,186.04,653.43,174.75,630.1,185.46,603.57,196.17,577.04,206.89,550.51,217.6,523.98,228.32,497.45,253.54,500.85,278.77,504.25,304,507.65,
                  329.22,511.05,354.45,514.46,379.68,517.86,404.9,521.26,430.13,524.66,455.36,528.06,479.24,520.64,503.13,513.22,527.02,505.8,550.9,498.38,574.79,
                  490.96,598.68,483.53,622.56,476.11,646.45,468.69,670.34,461.27,694.23,453.85,718.11,446.43,717.26,420.49,716.41,394.56,715.56,368.62,714.71,
                  342.69,713.86,316.75,713.01,290.82,698.66,270.09,684.31,249.36,669.96,228.64,655.61,207.91,641.26,187.18,626.91,166.45,612.56,145.73,598.21,125,
                  573.27,120.18,548.33,115.36,523.38,110.54,498.44,105.73,473.5,100.91,448.55,96.09,423.61,91.27,398.67,86.45,373.72,81.63,351.86,94.93,329.99,
                  108.24,308.13,121.54,286.26,134.84,264.39,148.14,242.53,161.44,220.66,174.75,198.8,188.05,176.93,201.35,155.07,214.65,133.2,227.95,111.33,241.25,
                  89.47,254.56,67.6,267.86))
</pre>
<p class="item_name">NOTES</p>
<pre>    Only supports stroked (m)linestrings and (m)polygon rings.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June   2006 - Original coding in GEOM package.
    Simon Greener - August 2018 - Port/Rewrite to <a href="#robo24">T_GEOMETRY</a> object function member.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo66"></a>
<a name="T5fGEOMETRY2fST5fDifference"></a>
<h2>15.29.  T_GEOMETRY/ST_Difference [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Difference</strong> -- Returns the spatial difference between two sdo_geometry objects.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Difference</strong>(p_geometry in mdsys.sdo_geometry,
                                  p_order    in varchar2 Default 'FIRST')
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function determines the difference between two linestrings, polygons or a mix of either.
    The p_order parameter determines whether SELF.geom is the first argument to sdo_difference or second.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geometry (sdo_geometry) -- A linestring or polygon.
    p_order        (varchar2) -- Should be FIRST or SECOND.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- Result of differencing the geometries.
</pre>
<p class="item_name">NOTES</p>
<pre>    Uses MDSYS.SDO_GEOM.SDO_DIFFERENCE if Oracle database version is 12cR1 or above
    or if the customer is licensed for the Spatial object before 12c.
</pre>
<p class="item_name">ERRORS</p>
<pre>    Will throw exception if the user is not licensed to call MDSYS.SDO_GEOM.SDO_DIFFERENCE.
    -20102  MDSYS.SDO_GEOM.SDO_DIFFERENCE only supported for Locator users from 12c onwards.';
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo67"></a>
<a name="T5fGEOMETRY2fST5fDimension"></a>
<h2>15.30.  T_GEOMETRY/ST_Dimension [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Dimension</strong> -- Returns spatial dimension of underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Dimension</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC <strong>ST_Dimension</strong> method.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POINT(0 0)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTILINESTRING((-1 -1, 0 -1),(0 0,10 0,10 5,10 10,5 10,5 5))',null),0.005,3,1) as tgeom From Dual union all
      select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom From Dual
    )
    select a.tGeom.<a href="#robo92">ST_GType</a>()        as sdo_gtype,
           a.tgeom.<a href="#robo91">ST_GeometryType</a>() as geomType,
           a.tgeom.<strong>ST_Dimension</strong>()    as geomDim
      from data a;

    SDO_GTYPE GEOMTYPE             GEOMDIM
    --------- -------------------- -------
            1 ST_POINT                   0
            2 ST_LINESTRING              1
            6 ST_MULTILINESTRING         1
            3 ST_POLYGON                 2
            7 ST_MULTIPOLYGON            2
            7 ST_MULTIPOLYGON            2

    6 rows selected
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is OGC method that returns the geometric dimension of the underlying geometry.
    The dimensions returned are:
    GeometryType Dimension
    ------------ ---------
           Point         0
      LineString         1
         Polygon         2
    OGC Dimension is not to be confused with coordinate dimension ie number of ordinates. See <a href="#robo62">ST_CoordDimension</a>.
</pre>
<p class="item_name">RESULT</p>
<pre>    Dimension (Integer) -- 0 if 2001/3 if 3001; 1 if 2002/3302/3002; 2 if 2003/2007/3003/3007 etc.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo68"></a>
<a name="T5fGEOMETRY2fST5fDimInfo2Rectangle"></a>
<h2>15.31.  T_GEOMETRY/ST_DimInfo2Rectangle [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_DimInfo2Rectangle</strong> -- Converts diminfo structure in XXX_SDO_GEOM_METADATA to a polygon with an optimized rectangle exterior ring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Static Function <strong>ST_DimInfo2Rectangle</strong> (
                       p_dim_array in mdsys.sdo_dim_array,
                       p_srid      in integer default NULL
                    )
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Determinstic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Converts any DIMINFO structure to a polygon by converted its SDO_DIM_ELEMENT X/Y sdo_lb/sdo_ub values to a single optimized rectangle exterior ring.
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) -- Returns polygon with single optimized rectangle exterior ring.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select u.table_name, u.column_name, t_geometry.<strong>ST_DimInfo2Rectangle</strong>(u.diminfo,u.srid).geom as tgeom
      from user_sdo_geom_metadata u;

    TABLE_NAME               COLUMN_NAME TGEOM
    ------------------------ ----------- --------------------------------------------------------------------------------------------------------------------------------------------------------
    LAND_PARCELS             GEOM        SDO_GEOMETRY(2003,2872,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(5979462.12680312,2085800.17222035,6024838.75881869,6024838.75881869))
    BASE_ADDRESSES           GEOM        SDO_GEOMETRY(2003,2872,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(5979545.39731847,2085905.79636266,6022316.7615783,6022316.7615783))
    BUILDING_FOOTPRINTS      GEOM        SDO_GEOMETRY(2003,2872,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(5980643.24426599,2086024.32003938,6024465.06003997,6024465.06003997))
    ROAD_CLINES              GEOM        SDO_GEOMETRY(2003,2872,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(5979762.10717428,2085798.82445402,6024890.06350611,6024890.06350611))
    WATER_AREAS              GEOM        SDO_GEOMETRY(2003,8307,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(-122.698410000002,37.44539000205,-122.049420001407,-122.049420001407))
    BANKS_3785               GEOM        SDO_GEOMETRY(2003,3785,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(16805978.88835578,-4028254.329242822,16823678.019474965,16823678.019474965))
    FEDERAL_LOWER_HOUSE_2016 GEOM        SDO_GEOMETRY(2003,4283,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(96.816766,-43.74051,159.109219,159.109219))
    PROJPOINT3D              GEOM        SDO_GEOMETRY(3003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(358312.903,-140.5,-140.5,5406991.847,5406991.847,359370.628))
    PROJPOINT2D              GEOM        SDO_GEOMETRY(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(358312.903,359370.628,5406991.847,5406991.847))
    LAND_PARCELS             CENTROID    SDO_GEOMETRY(2003,2872,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(5979545.39704517,2085843.32119355,6022727.95207985,6022727.95207985))

     10 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June 2016 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo69"></a>
<a name="T5fGEOMETRY2fST5fDims"></a>
<h2>15.32.  T_GEOMETRY/ST_Dims [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Dims</strong> -- Returns number of ordinate dimensions
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Dims</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is a wrapper over the mdsys.sdo_geometry get_dims() method ie SELF.GEOM.Get_Dims()
</pre>
<p class="item_name">RESULT</p>
<pre>    dimension (Integer) -- 2 if data 2D; 3 if 3D; 4 if 4D
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo70"></a>
<a name="T5fGEOMETRY2fST5fDistance"></a>
<h2>15.33.  T_GEOMETRY/ST_Distance [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Distance</strong> -- Returns distance from current T_geometry (SELF) to supplied <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Distance</strong>(p_geom  in &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a>,
                                p_unit  in varchar2 default NULL,
                                p_round in integer  default 0 )
             Return Number Deterministic
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geom  (<a href="#robo24">T_GEOMETRY</a>) - A <a href="#robo24">T_GEOMETRY</a> to which a distance is calculated.
    p_unit    (VarChar2) - Oracle Unit of Measure eg unit=M.
    p_round        (BIT) - Whether to round result using PRECISION of <a href="#robo24">T_GEOMETRY</a>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes a distance from the current object (SELF) to the supplied T_Geometry.
    Result is in the distance units of the SDO_SRID, or in p_units where supplied.
    Result is rounded to SELF.PRECISION if p_round is true (1), otherwise false(0) no rounding.
    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POINT(0 0)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3001,NULL,SDO_POINT_TYPE(0,0,0),null,null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,1),SDO_ORDINATE_ARRAY(0,0,1, 10,0,2, 10,5,3, 10,10,4, 5,10,5, 5,5,6, 0,0,0)),0.005,3,1) as tgeom From Dual union all
      select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',28356),0.0005,3,1) as tgeom From Dual
    )
    select a.tGeom.<a href="#robo91">ST_GeometryType</a>() as geometryType,
           a.tgeom.ST_Srid()         as srid,
           case when a.tGeom.ST_Srid() = 28356 then 'CM' else 'M' end as unit,
           a.tgeom.<strong>ST_Distance</strong>(sdo_geometry('POINT(51 41)',a.tGeom.ST_Srid()),
                               case when a.tGeom.ST_Srid() = 28356 then 'unit=CM' else null end,
                               0) as distance,
           a.tgeom.<strong>ST_Distance</strong>(sdo_geometry('POINT(51 41)',a.tGeom.ST_Srid()),
                               case when a.tGeom.ST_Srid() = 28356 then 'unit=CM' else null end,
                               1) as round_distance
      from data a;

    GEOMETRYTYPE   SRID UNIT     DISTANCE ROUND_DISTANCE
    -------------- ------ ---- ------------ --------------
    ST_POINT       (NULL)    M   65.4369926         65.437
    ST_POINT       (NULL)    M   65.4369926         65.437
    ST_LINESTRING  (NULL)    M   51.4003891           51.4
    ST_LINESTRING  (NULL)    M   51.4003891           51.4
    ST_POLYGON     (NULL)    M   51.4003891           51.4
    ST_POLYGON      28356   CM  3744.329045       3744.329

     6 rows selected
</pre>
<p class="item_name">RESULT</p>
<pre>    distance (Number) -- Distance in SRID unit of measure or in supplied units (p_unit)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo71"></a>
<a name="T5fGEOMETRY2fST5fDump"></a>
<h2>15.34.  T_GEOMETRY/ST_Dump [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Dump</strong> -- Extracts all parts of a multipart linestring, polygon, or collection geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Dump</strong>(p_subElements IN integer Default 0)
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometries Pipelined
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Extracts all parts of an underlying geometry object.
    If p_subElemets is set to TRUE (1), all subElements of a complex element
    (eg compound outer ring of polygon) are extracted and returned as mdsys.sdo_geometry objects.
    Individual sdo_gemetry objects are returned in a <a href="#robo25">T_GEOMETRY_ROW</a> structure that has three fields: GID, GEOMETRY and TOLERANCE.
    GID values are generated in the order the elements appears in the sdo_elem_info structure.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with GEOMETRIES as (
      select t_geometry(
               mdsys.sdo_geometry(2007,null,null,
                            sdo_elem_info_array( 1,1003,1,11,2003,1,21,2003,1,
                                                31,1005,2,31,2,1,37,2,2,43,1003,3),
                            sdo_ordinate_array(0,0, 20,0, 20,20, 0,20, 0,0, 10,10, 10,11, 11,11, 11,10, 10,10, 5,5, 5,7, 7,7, 7,5, 5,5,
                                               110,128, 110,125, 120,125, 120,128, 115,130, 110,128,112,0, 113,10))
                      ,0.005,3,1) as tPolygon
        From dual
    )
    GID GEOMETRY                                                                                                            TOLERANCE
    --- ------------------------------------------------------------------------------------------------------------------- ---------
      1 mdsys.sdo_geometry(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,20,0,20,20,0,20,0,0,10,10))          0.005
      2 mdsys.sdo_geometry(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(10,10,10,11,11,11,11,10,10,10,5,5))      0.005
      3 mdsys.sdo_geometry(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(5,5,5,7,7,7,7,5,5,5))                    0.005
      1 mdsys.sdo_geometry(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(110,128,110,125,120,125,120,128))        0.005
      2 mdsys.sdo_geometry(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(120,128,115,130,110,128))                0.005
      1 mdsys.sdo_geometry(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,3),SDO_ORDINATE_ARRAY(112,0,113,10))                           0.005

   6 rows selected
</pre>
<p class="item_name">RESULT</p>
<pre>    Geometry (<a href="#robo25">T_GEOMETRY_ROW</a>) -- Table (<a href="#robo17">T_GEOMETRIES</a>) of <a href="#robo25">T_GEOMETRY_ROW</a> objects.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo72"></a>
<a name="T5fGEOMETRY2fST5fElem5fInfo5fEqual"></a>
<h2>15.35.  T_GEOMETRY/ST_Elem_Info_Equal [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Elem_Info_Equal</strong> -- Compares current object (SELF) geometry's GEOM.SDO_ELEM_INFO object with supplied p_elem_info mdsys.sdo_elem_info_array.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Elem_Info_Equal</strong>(p_elem_info in mdsys.sdo_elem_info_array)
             Return Integer Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function compares current t_geometry object's SELF.GEOM.SDO_ELEM_INFO object to supplied p_sdo_elem_info object.
    Result can be one of the following:
       0 if one or other sdo_elem_info_array structures are null but not both.
       1 if two non-null structures and all offset/etype/interpretation ordinates are equal;
      -1 if sdo_elem_info not all offset/etype/interpretation ordinates are equal
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_elem_info (sdo_elem_info_array) -- sdo_elem_info array that is to be compared to current object geometry's SELF.GEOM.sdo_elem_info object.
</pre>
<p class="item_name">RESULT</p>
<pre>    -1,0,1 (Integer) --  0 if one or other sdo_elem_info_array structures are null but not both.
                     --  1 if two non-null structures and all offset/etype/interpretation ordinates are equal;
                     -- -1 if sdo_elem_info not all offset/etype/interpretation ordinates are equal
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo73"></a>
<a name="T5fGEOMETRY2fST5fElementTypeAt"></a>
<h2>15.36.  T_GEOMETRY/ST_ElementTypeAt [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_ElementTypeAt</strong> -- Element_Type value in Sdo_Elem_Info triplet index.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_ElementTypeAt</strong>
           Return &amp;&amp;INSTALL_SCHEMA..T_ElemInfo
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If a geometry is coded with an SDO_ELEM_INFO_ARRAY this function will extract the triplet at index p_element,
    and return the element type (etype) stored in that triplet.
    An T_ElemInfo object is:
      CREATE TYPE &amp;&amp;INSTALL_SCHEMA..T_ElemInfo AS OBJECT (
        offset           Number,
        etype            Number,  &lt;--- This is returned.
        interpretation   Number
      );
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      Select T_Geometry(
               SDO_GEOMETRY(2007,NULL,NULL,
                   SDO_ELEM_INFO_ARRAY(1,1005,2, 1,2,1, 5,2,2,
                                      11,2005,2, 11,2,1, 15,2,2,
                                      21,1005,2, 21,2,1, 25,2,2),
                   SDO_ORDINATE_ARRAY(  6,10, 10,1, 14,10, 10,14,  6,10,
                                       13,10, 10,2,  7,10, 10,13, 13,10,
                                     106,110, 110,101, 114,110, 110,114,106,110)
               ),0.005,2,1) as tgeom
      from dual
    )
    select a.tGeom.geom.sdo_elem_info           as elem_info,
           a.tGeom.<a href="#robo144">ST_NumElementInfo</a>()          as numElemInfos,
           t.IntValue                           as element_id,
           a.tgeom.<strong>ST_ElementTypeAt</strong>(t.IntValue) as elem_type_at
      from data a,
           TABLE(tools.generate_series(1,a.tgeom.<a href="#robo152">ST_NumSubElements</a>(),1)) t;

    ELEM_INFO                                                                                 NUMELEMINFOS ELEMENT_ID ELEM_TYPE_AT
    ----------------------------------------------------------------------------------------- ------------ ---------- ------------
    SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,5,2,2,11,2005,2,11,2,1,15,2,2,21,1005,2,21,2,1,25,2,2)            9          1         1005
    SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,5,2,2,11,2005,2,11,2,1,15,2,2,21,1005,2,21,2,1,25,2,2)            9          2            2
    SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,5,2,2,11,2005,2,11,2,1,15,2,2,21,1005,2,21,2,1,25,2,2)            9          3            2
    SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,5,2,2,11,2005,2,11,2,1,15,2,2,21,1005,2,21,2,1,25,2,2)            9          4         2005
    SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,5,2,2,11,2005,2,11,2,1,15,2,2,21,1005,2,21,2,1,25,2,2)            9          5            2
    SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,5,2,2,11,2005,2,11,2,1,15,2,2,21,1005,2,21,2,1,25,2,2)            9          6            2
    SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,5,2,2,11,2005,2,11,2,1,15,2,2,21,1005,2,21,2,1,25,2,2)            9          7         1005
    SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,5,2,2,11,2005,2,11,2,1,15,2,2,21,1005,2,21,2,1,25,2,2)            9          8            2
    SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,5,2,2,11,2005,2,11,2,1,15,2,2,21,1005,2,21,2,1,25,2,2)            9          9            2

     9 rows selected
</pre>
<p class="item_name">RESULT</p>
<pre>    Element Type (Integer)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2006 - Original coding in GEOM package.
    Simon Greener - Jan 2013 - Port to <a href="#robo24">T_GEOMETRY</a> object.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo74"></a>
<a name="T5fGEOMETRY2fST5fElemInfo"></a>
<h2>15.37.  T_GEOMETRY/ST_ElemInfo [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_ElemInfo</strong> -- Returns underlying mdsys.sdo_geometry's SDO_ELEM_INFO array as a Set of T_ElemInfo objects.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_ElemInfo</strong>
           Return &amp;&amp;INSTALL_SCHEMA..T_ElemInfoSet pipelined
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If a geometry is coded with an SDO_ELEM_INFO_ARRAY this function will extract the triplets that describe
    each element and returns them as a set of T_ELEM_INFO objects.
    The T_ElemInfo object is:
      CREATE TYPE &amp;&amp;INSTALL_SCHEMA..T_ElemInfo AS OBJECT (
        offset           Number,
        etype            Number,
        interpretation   Number
      );
</pre>
<p class="item_name">RESULT</p>
<pre>    Set of T_ElemInfo objects (Integer)
</pre>
<p class="item_name">NOTES</p>
<pre>    Function is pipelined
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2006 - Original coding in GEOM package.
    Simon Greener - Jan 2013 - Port to <a href="#robo24">T_GEOMETRY</a> object.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo75"></a>
<a name="T5fGEOMETRY2fST5fEndPoint"></a>
<h2>15.38.  T_GEOMETRY/ST_EndPoint [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_EndPoint</strong> -- Returns last Point in underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_EndPoint</strong>
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns last point in underlying geometry.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,20 0,20 20,10 20,0 20)',null),0.005,3,1) as tLine
        From Dual
    )
    select a.tLine.<strong>ST_EndPoint</strong>().<a href="#robo326">ST_AsText</a>() as end_Point
      from data a;

    END_POINT
    ----------------
    POINT (0.0 20.0)
</pre>
<p class="item_name">RESULT</p>
<pre>    Point (<a href="#robo24">T_GEOMETRY</a>) -- First point in underlying geometry.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo76"></a>
<a name="T5fGEOMETRY2fST5fEndSegment"></a>
<h2>15.39.  T_GEOMETRY/ST_EndSegment [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_EndSegment</strong> -- Returns last Segment in underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_EndSegment</strong>
             Return &amp;&amp;INSTALL_SCHEMA..T_Segment Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns last segment in underlying geometry.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
     Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
     select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',null),0.005,3,1) as tgeom From Dual
    )
    select a.tgeom.<a href="#robo91">ST_GeometryType</a>()           as geometryType,
           a.tGeom.<strong>ST_EndSegment</strong>().<a href="#robo326">ST_AsText</a>() as end_segment
      from data a;

    GEOMETRYTYPE  END_SEGMENT
    ------------- -----------------------------------------------------------------------------------------------------------
    ST_LINESTRING SEGMENT(1,1,5,Start(5,10,NULL,NULL,5,2001,NULL),End(5,5,NULL,NULL,6,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_POLYGON    SEGMENT(1,2,4,Start(11,10,NULL,NULL,4,2001,NULL),End(10,10,NULL,NULL,5,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
</pre>
<p class="item_name">RESULT</p>
<pre>    Segment (<a href="#robo24">T_GEOMETRY</a>) -- Last segment in underlying geometry.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo77"></a>
<a name="T5fGEOMETRY2fST5fEndVertex"></a>
<h2>15.40.  T_GEOMETRY/ST_EndVertex [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_EndVertex</strong> -- Returns last vertex in underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_EndVertex</strong>
             Return T_Vertex Deterministic
</pre>
<p class="item_name">RESULT</p>
<pre>    Vertex (T_Vertex) -- Vertex at end of geometry.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns last vertex describing underlying geometry.
    Actual end vertex ID is provided in returned T_Vertex object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,20 0,20 20,10 20,0 20)',null),0.005,3,1) as tLine
        From Dual
    )
    select a.tLine.<strong>ST_EndVertex</strong>().<a href="#robo326">ST_AsText</a>() as end_vertex
      from data a;

    VERTEX
    -----------------------------------------------------------
    T_Vertex(X=0.0,Y=20.0,Z=NULL,W=NULL,ID=5,GT=2001,SRID=NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo78"></a>
<a name="T5fGEOMETRY2fST5fEnvelope"></a>
<h2>15.41.  T_GEOMETRY/ST_Envelope [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Envelope</strong> - Returns lower left and upper right coordinates of underlying geometry's envelope.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Envelope</strong>
             Return <a href="#robo24">T_GEOMETRY</a> Determinsitic
</pre>
<p class="item_name">RESULT</p>
<pre>    MBR Geometry (<a href="#robo24">T_GEOMETRY</a>) -- Single Polygon with Optimized Rectangle Exterior Ring.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a non-NULL geometry, this function returns the envelope or minimum bounding rectangle as a polygon geometry with one optimized rectangle exterior ring.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Geometry(sdo_geometry('LINESTRING(0 0,0.1 0.1,0.5 0.5,0.8 0.8,1 1)',NULL),0.005,2,1).<strong>ST_Envelope</strong>().geom as mbrGeom
      from dual;

    MBRGEOM
    --------------------------------------------------------------------------------------
    SDO_GEOMETRY(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(0,0,1,1))
</pre>
<p class="item_name">NOTES</p>
<pre>    Wrapper over <a href="#robo24">T_GEOMETRY</a>.<a href="#robo271">ST_MBR</a>.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2005 - Original coding for GEOM package.
    Simon Greener - July 2011    - Converted to <a href="#robo24">T_GEOMETRY</a> from GEOM package.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo79"></a>
<a name="T5fGEOMETRY2fST5fEquals"></a>
<h2>15.42.  T_GEOMETRY/ST_Equals [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Equals</strong> -- Compares current object (SELF) with supplied <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Equals</strong>(p_geometry    in mdsys.sdo_geometry,
                              p_z_precision in integer default 2,
                              p_m_precision in integer default 3)
             Return varchar2 deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function compares current t_geometry object's sdo_geometry (SELF.GEOM) to supplied p_geometry object.
    Only compares SDO_GEOMETRY objects.
    Result can be one of the following:
      EQUAL
      FAIL:DIMS
      FAIL:SDO_ELEM_INFO
      FAIL:SDO_ELEM_INFO
      FAIL:SDO_GTYPE
      FAIL:SDO_POINT
      FAIL:SDO_SRID
      FALSE:NULL
      Result of mdsys.sdo_geom.relate (if licensed)
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geometry (SDO_GEOMETRY) -- SDO_GEOMETRY that is to be compared to current object geometry (SELF.GEOM).
    p_z_precision   (integer) -- Z Ordinate precision for comparison using ROUND
    p_m_precision   (integer) -- M Ordinate precision for comparison using ROUND
</pre>
<p class="item_name">RESULT</p>
<pre>    EQUAL/FAIL     (VarChar2) -- EQUAL or FAIL:{Reason}
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo80"></a>
<a name="T5fGEOMETRY2fST5fExtend"></a>
<h2>15.43.  T_GEOMETRY/ST_Extend [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Extend</strong> -- Function that lengthens underlying linestring at one or both ends.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Extend</strong> (p_length    in number,
                               p_start_end in varchar2 default 'START',
                               p_unit      in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that extends the supplied linestring at either its start or end (p_end).
    p_length should alway be positive. If it is negative <a href="#robo163">ST_Reduce</a> is called: see <a href="#robo163">ST_Reduce</a> documentation.
    And extension occurs in the direction of a line formed by the first and second vertices (if START) or last and second last vertices (if END).
    p_end value of BOTH means line is extended at both ends.
</pre>
<p class="item_name">TODO</p>
<pre>    Add p_keep parameter:
      If p_keep is set to 1, the start or end vertex is kept and a new vertex added at the extended length from the start/end.
      If p_keep is 0, the actual first or last vertex is moved.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Extend linestring at start 50 feet.
    With road_clines As (
    select <a href="#robo24">T_GEOMETRY</a>(
             SDO_GEOMETRY(2002,2872,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                          SDO_ORDINATE_ARRAY(5995293.06,2105941.35, 5995094.87,2105871.28,
                                             5995044.46,2105492.80, 5995033.03,2105411.14,
                                             5995012.60,2105371.13, 5994950.04,2105332.47)),
             0.005,2,1)
            as tgeom
      from dual
    )
    SELECT round(rl.tgeom.<a href="#robo107">ST_Length</a>('unit=U.S. Foot'),2) as original_Length,
           round(rl.tgeom
             .<strong>ST_Extend</strong>(90,'START','unit=U.S. Foot')
             .<a href="#robo177">ST_Round</a>()
             .<a href="#robo107">ST_Length</a>('unit=U.S. Foot'),2) as new_length,
           rl.tgeom
             .<strong>ST_Extend</strong>(90,'START','unit=U.S. Foot')
             .<a href="#robo177">ST_Round</a>()
             .<a href="#robo326">ST_AsText</a>() as sGeom
      FROM road_clines rl;

    ORIGINAL_LENGTH NEW_LENGTH SGEOM
    --------------- ---------- ---------------------------------------------------------------------------------------------------------------------------------------------------------------
             792.96     882.96 LINESTRING (5995377.91274448 2105971.34965591, 5995094.87 2105871.28, 5995044.46 2105492.8, 5995033.03 2105411.14, 5995012.6 2105371.13, 5994950.04 2105332.47)

    -- MultiLineString Extend Example ...
    With data As (
    select T_Geometry(
             sdo_geometry('MULTILINESTRING((1 1,2 2,3 3,4 4),(0 2,1 3,2 4,3 5))',null),
             0.005,2,1) as tgeom
      from dual
    )
    select Start_end,
           seLength,
           gLength as originalLength,
           f.tGeom.<a href="#robo107">ST_Length</a>(p_round=&gt;f.tGeom.dprecision) as newLength,
           f.tGeom.<a href="#robo177">ST_Round</a>(f.tGeom.dprecision,1,1).<a href="#robo326">ST_AsText</a>() as geom
      from (select a.tgeom.<a href="#robo107">ST_Length</a>(p_round=&gt;a.tGeom.dprecision) as gLength,
                   'START' as Start_End,
                   1.414   as seLength,
                   a.tgeom.<strong>ST_Extend</strong>(1.414,'START') as tgeom
              from data a
             union all
            select a.tgeom.<a href="#robo107">ST_Length</a>(p_round=&gt;a.tGeom.dprecision) as gLength,
                   'BOTH' as Start_End,
                   1.414  as seLength,
                   a.tgeom.<strong>ST_Extend</strong>(1.414,'BOTH')  as tgeom
              from data a
             union all
            select a.tgeom.<a href="#robo107">ST_Length</a>(p_round=&gt;a.tGeom.dprecision) as gLength,
                   'END' as Start_End,
                   1.414 as seLength,
                   a.tgeom.<strong>ST_Extend</strong>(1.414,'END') as tgeom
              from data a
           ) f;

    START_END SELENGTH ORIGINALLENGTH  NEWLENGTH GEOM
    --------- -------- -------------- ---------- ------------------------------------------------------------
    START        1.414           8.49        9.9 MULTILINESTRING ((0 0, 2 2, 3 3, 4 4), (0 2, 1 3, 2 4, 3 5))
    BOTH         1.414           8.49      11.31 MULTILINESTRING ((0 0, 2 2, 3 3, 4 4), (0 2, 1 3, 2 4, 4 6))
    END          1.414           8.49        9.9 MULTILINESTRING ((1 1, 2 2, 3 3, 4 4), (0 2, 1 3, 2 4, 4 6))
</pre>
<p class="item_name">NOTES</p>
<pre>    Points, GeometryCollections, Polygons, MultiPolygons, CircularStrings are not supported.
    Assumes planar projection eg UTM.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_length       (number) - If negative <a href="#robo163">ST_Reduce</a> is called on the linestring.
                              If positive the linestring is extended.
                              Distance must be expressed in SRID or p_unit units
    p_start_end  (varchar2) - START means extend line at the start; END means extend at the end, and BOTH means extend at both START and END of line.
    p_unit       (varchar2) - Allows default Oracle unit of measure (UoM) to be overridden eg if unit M is default for SRID then unit=CM will compute in centimeters.
    p_keep            (int) - (Future) Keep existing first/last vertex and add new (1) vertices, or move (0) existing start/end vertex.
</pre>
<p class="item_name">RESULT</p>
<pre>    linestring (t_geometry) - Input geometry extended as instructed.
</pre>
<p class="item_name">ERRORS</p>
<pre>    The following exceptions can be thrown:
      ORA-20120 - Geometry must not be null or empty (*ERR*)
                  Where *ERR* is replaced with specific error
      ORA-20121 - Geometry must be a single linestring.
      ORA-20122 - Start/End parameter value (*VALUE*) must be START, BOTH or END
                  Where *VALUE* is the supplied, incorrect, value.
      ORA-20123 - p_length value must not be 0 or NULL.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
    Simon Greener - December 2006 - Original Coding for GEOM Package
    Simon Greener - July 2011     - Port to <a href="#robo24">T_GEOMETRY</a>
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo81"></a>
<a name="T5fGEOMETRY2fST5fExteriorRing"></a>
<h2>15.44.  T_GEOMETRY/ST_ExteriorRing [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_ExteriorRing</strong> -- Returns All Outer Rings of a polygon or multipolygon.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_ExteriorRing</strong>()
             Return <a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function extracts all the exterior (outer) rings of a polygon/multipolygon and returns them as a <a href="#robo24">T_GEOMETRY</a> object.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC <strong>ST_ExteriorRing</strong> method.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
        From Dual
    )
    select a.tgeom.<strong>ST_ExteriorRing</strong>().<a href="#robo326">ST_AsText</a>() as ExteriorRing
      from data a;

    EXTERIORRING
    -----------------------------------------------------------------------------------------------
    MULTIPOLYGON (((0 0, 20 0, 20 20, 0 20, 0 0)), ((100 100, 200 100, 200 200, 100 200, 100 100)))
</pre>
<p class="item_name">RESULT</p>
<pre>    Exterior ring(s) (<a href="#robo24">T_GEOMETRY</a>) -- For example, if a single Polygon with 1 exterior and 1 interior ring is provided, then a single polygon with a single exterior ring is returned.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Aug 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo82"></a>
<a name="T5fGEOMETRY2fST5fExtract"></a>
<h2>15.45.  T_GEOMETRY/ST_Extract [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo84">ST_ExtractRings</a> -- Extracts all single geometry objects from geometry collection, multi linestring or multi polygon.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Extract</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo17">T_GEOMETRIES</a> Pipelined
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function extracts all single geometry types (eg point, linestring, polygon) from the underlying geometry.
    The underlying geometry object must be a geometry collection (x004), multi linestring (x006) or multi polygon (x007).
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
     select 1 as geomid, t_geometry(sdo_geometry(2004,null,null,sdo_elem_info_array(1,1,1, 3,2,1, 7,1003,1),       sdo_ordinate_array(10,5, 10, 10,20,10,10,105, 15,105, 20,110, 10,110, 10,105)),0.05) as tgeom
       from dual union all
     select 2 as geomid, t_geometry(sdo_geometry(2004,NULL,NULL,sdo_elem_info_array(1,1003,3,5,1, 1,9,2,1, 11,2,1),sdo_ordinate_array(0, 0,100,100,50,50, 0,  0,100,100,300,  0,310,  1        )),0.05) as tgeom
       from dual union all
     Select 3 as geomid, <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTILINESTRING((-1 -1, 0 -1),(0 0,10 0,10 5,10 10,5 10,5 5))',null),0.005,3,1) as tgeom
       From Dual union all
     Select 4 as geomid, <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
       From Dual
   )
   select a.geomId,
          t.gid,
          t_geometry(t.geometry,t.tolerance,t.dPrecision,t.projected).<a href="#robo326">ST_AsText</a>() as tegeom
     from data a,
          table(a.tgeom.<strong>ST_Extract</strong>()) t;

   GEOMID GID TEGEOM
   ------ --- -------------------------------------------------------
        1   1 POINT (10 5)
        1   2 LINESTRING (10 10, 20 10)
        1   3 POLYGON ((10 105, 15 105, 20 110, 10 110, 10 105))
        2   1 POLYGON ((0 0, 100 0, 100 100, 0 100, 0 0))
        2   2 POINT (50 50)
        2   3 LINESTRING (100 100)
        2   4 LINESTRING (300 0, 310 1)
        3   1 LINESTRING (-1 -1, 0 -1)
        3   2 LINESTRING (0 0, 10 0, 10 5, 10 10, 5 10, 5 5)
        4   1 POLYGON ((0 0, 20 0, 20 20, 0 20, 0 0))
        4   2 POLYGON ((100 100, 200 100, 200 200, 100 200, 100 100))

    11 rows selected
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) -- All geometries are extracted and returned.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo83"></a>
<a name="T5fGEOMETRY2fST5fExtract28p5fgeomType29"></a>
<h2>15.46.  T_GEOMETRY/ST_Extract(p_geomType) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo84">ST_ExtractRings</a> -- Extracts required geometry types (point, line, polygon) from underlying geometry collection.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <a href="#robo82">ST_Extract</a> (
                       p_geomType in varchar2
                     )
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geomType (varchar2) - GeometryType to be extracted must be one of POINT,ST_POINT,LINE,LINESTRING,ST_LINESTRING,POLY,POLYGON,ST_POLYGON
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) -- Geometries of required Geometry_Type.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function allows a user to extract all geometries of a particular type from the underlying geometry collection (x004).
    The resultant t_geometry object could be singular eg LINESTRING or multi eg MULTILINESTRING.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select 1 as geomid, t_geometry(sdo_geometry(2004,null,null,sdo_elem_info_array(1,1,1, 3,2,1, 7,1003,1),       sdo_ordinate_array(10,5, 10, 10,20,10,10,105, 15,105, 20,110, 10,110, 10,105)),0.05) as tgeom from dual union all
      select 2 as geomid, t_geometry(sdo_geometry(2004,NULL,NULL,sdo_elem_info_array(1,1003,3,5,1, 1,9,2,1, 11,2,1),sdo_ordinate_array(0, 0,100,100,50,50, 0,  0,100,100,300,  0,310,  1        )),0.05) as tgeom from dual
    )
    select geomId,
           case t.IntValue
                when 1 then 'Point'
                when 2 then 'Line'
                when 3 then 'Polygon'
            end as geomType,
           a.tgeom.<a href="#robo82">ST_Extract</a>(
                      case t.IntValue
                           when 1 then 'Point'
                           when 2 then 'Line'
                           when 3 then 'Polygon'
                       end
                   ).<a href="#robo326">ST_AsText</a>() as geom
      from data a,
           table(tools.generate_series(1,3,1)) t

    GEOMID GEOMTYPE GEOM
    ------ -------- --------------------------------------------------
         1 Point    POINT (10 5)
         1 Line     LINESTRING (10 10, 20 10)
         1 Polygon  POLYGON ((10 105, 15 105, 20 110, 10 110, 10 105))
         2 Point    POINT (50 50)
         2 Line     MULTILINESTRING ((100 100), (300 0, 310 1))
         2 Polygon  POLYGON ((0 0, 100 0, 100 100, 0 100, 0 0))

     6 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo84"></a>
<a name="T5fGEOMETRY2fST5fExtractRings"></a>
<h2>15.47.  T_GEOMETRY/ST_ExtractRings [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_ExtractRings</strong> -- Extracts all rings of a polygon/multipolygon into a set of simple <a href="#robo24">T_GEOMETRY</a> polygon objects.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_ExtractRings</strong>()
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo17">T_GEOMETRIES</a> Pipelined
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function allows a user to extract all outer and inner rings from a polygon/multipolygon. The resultant set of
    individual inner or outer rings are accessible via the Oracle SQL TABLE function as in the example below.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With Data as (
      Select 1 as geomId, <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,1),sdo_ordinate_array(0,0,20,0,20,20,0,20,0,0)),0.005,3,1) as tgeom
        From Dual union all
      Select 2 as geomId, <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,1,11,2003,1),sdo_ordinate_array(0,0,20,0,20,20,0,20,0,0, 5,5,5,10,10,10,10,5,5,5)),0.005,3,1) as tgeom
        From Dual
      union all
      Select 3 as geomId, <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),
                                                     ((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
        From Dual
    )
    select a.geomid, t.gid as ringId, t_geometry(t.geometry,t.tolerance,t.dPrecision,t.projected).<a href="#robo326">ST_AsText</a>() as geom
      from data a,
            table(a.tgeom.<strong>ST_ExtractRings</strong>()) t;

    GEOMID RINGID GEOM
    ------ ------ -------------------------------------------------------
         1      1 POLYGON ((0 0, 20 0, 20 20, 0 20, 0 0))
         2      1 POLYGON ((0 0, 20 0, 20 20, 0 20, 0 0))
         2      2 POLYGON ((5 5, 10 5, 10 10, 5 10, 5 5))
         3      1 POLYGON ((0 0, 20 0, 20 20, 0 20, 0 0))
         3      2 POLYGON ((10 10, 11 10, 11 11, 10 11, 10 10))
         3      3 POLYGON ((5 5, 7 5, 7 7, 5 7, 5 5))
         3      1 POLYGON ((100 100, 200 100, 200 200, 100 200, 100 100))

     7 rows selected
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) -- All polygon rings retured as individual polygons.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo85"></a>
<a name="T5fGEOMETRY2fST5fFilterRings"></a>
<h2>15.48.  T_GEOMETRY/ST_FilterRings [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_FilterRings</strong> -- Removes rings from polygon/multipolygon below supplied area.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_FilterRings</strong>(p_area in number,
                                   p_unit in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function allows a user to remove inner rings from a polygon/multipolygon based on an area value.
    Will remove both outer and inner rings.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_area (Number)   - Area in square SRID units below which an inner ring is removed.
    p_unit (VarChar2) - Oracle Unit of Measure For SRID eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon collection (<a href="#robo17">T_GEOMETRIES</a>) -- A set of one or more single rings derived from input polygon.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5))',null),0.005,3,1) as TGeom
        From Dual
      Union All
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2007,NULL,NULL,
                                     sdo_elem_info_array(1,1005,2, 1,2,1, 7,2,2,13,1003,3),
                                     sdo_ordinate_array (10,128, 10,125, 20,125, 20,128, 15,130, 10,128, 0,0, 10,10)),0.005,3,1) as TGeom
        From Dual
    )
    Select a.tGeom.<a href="#robo46">ST_Area</a>()                          as originalArea,
           a.tGeom.<strong>ST_FilterRings</strong>(50.0).<a href="#robo46">ST_Area</a>()     as filteredArea,
           a.tGeom.<strong>ST_FilterRings</strong>(50.0).<a href="#robo214">ST_Validate</a>() as validate_geom
      From data a;

    ORIGINALAREA FILTEREDAREA VGEOM
    ------------ ------------ -----
             395          400 TRUE
     143.7507329          100 TRUE
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo86"></a>
<a name="T5fGEOMETRY2fST5fFixOrdinates"></a>
<h2>15.49.  T_GEOMETRY/ST_FixOrdinates [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_FixOrdinates</strong> -- Allows calculations expressed as formula to change the ordinates of the underlying Geometry
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_FixOrdinates</strong>(
                       p_x_formula in varchar2,
                       p_y_formula in varchar2,
                       p_z_formula in varchar2 := null,
                       p_w_formula in varchar2 := null
                    )
             Return mdsys.sdo_geometry Deterministic,
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_x_formula (varchar2) -- Mathematical formula to be applied to X ordinate
    p_y_formula (varchar2) -- Mathematical formula to be applied to Y ordinate
    p_z_formula (varchar2) -- Mathematical formula to be applied to Z ordinate
    p_w_formula (varchar2) -- Mathematical formula to be applied to W/M ordinate
</pre>
<p class="item_name">RESULT</p>
<pre>    Modified Geometry (T_Geometry) -- Original geometry with modified ordinates
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The formula may reference the ordinates of the geometry via the columns X, Y, Z and W
    (the T_Vertex fields produced by SDO_Util.GetVertices function) keywords.
    These keywords can be referred to multiple times in a formula
    (see 'ROUND ( z / ( z * dbms_random.value(1,10) ), 3 )' in the example
    that processes a 3D linestring below).
    Since the formula are applied via SQL even Oracle intrinsic columns like ROWNUM
    can be used (see '(rownum * w)' below). One can also use any Oracle function,
    eg RANDOM: this includes functions in packages such as DBMS_RANDOM
    eg 'ROUND ( Y * dbms_random.value ( 1,1000) ,3 )') as well.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_geometry(SDO_Geometry('POINT(1.25 2.44)'),0.005,2,1)
             .<strong>ST_FixOrdinates</strong>(
                 'ROUND(X * 3.141592653,3)',
                 'ROUND(Y * dbms_random.value(1,1000),3)',
                 NULL
             ).<a href="#robo326">ST_AsText</a>() as point
      from dual;

    POINT
    ----------------------
    POINT (3.927 1240.552)

    select t_geometry(SDO_Geometry(3001,null,sdo_point_type(1.25,2.44,3.09),null,null),0.005,2,1)
             .<strong>ST_FixOrdinates</strong>(
                 'ROUND(X * 3.141592653,3)',
                 'ROUND(Y * dbms_random.value(1,1000),3)',
                 'ROUND(Z / 1000,3)'
             ).geom as point
      from dual;

    POINT
    ----------------------------------------------------------------------
    SDO_GEOMETRY(3001,NULL,SDO_POINT_TYPE(3.927,1317.816,0.003),NULL,NULL)

    select t_geometry(SDO_Geometry('LINESTRING(1.12345 1.3445,2.43534 2.03998398)',NULL),0.005,2,1)
             .<strong>ST_FixOrdinates</strong>(
                 'ROUND(X * 3.141592653,3)',
                 'ROUND(Y * dbms_random.value(1,1000),3)'
              ).<a href="#robo326">ST_AsText</a>() as line
      from dual;

    LINE
    ---------------------------------------
    LINESTRING (3.529 49.26, 7.651 466.107)

    select t_geometry(
             SDO_Geometry(3006,null,null,
                          sdo_elem_info_array(1,2,1,10,2,1),
                          sdo_ordinate_array(1.12345,1.3445,9,2.43534,2.03998398,9,3.43513,3.451245,9,10,10,9,10,20,9)),0.005,2,1)
             .<strong>ST_FixOrdinates</strong>(
                 NULL,
                 NULL,
                 'ROUND(Y * dbms_random.value(1,1000),3)'
             ).geom as line
      from dual;

    LINE
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3006,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1,10,2,1),SDO_ORDINATE_ARRAY(1.12345,1.3445,525.749,2.43534,2.03998398,952.99,3.43513,3.451245,948.895,10,10,2930.214,10,20,16775.12))

    -- line string with 3 dimensions: X,Y,M
    select t_geometry(
            SDO_GEOMETRY(3302,NULL,NULL,
                         SDO_ELEM_INFO_ARRAY(1,2,1), -- one line string, straight segments
                         SDO_ORDINATE_ARRAY(2,2,0,
                                            2,4,2,
                                            8,4,8,
                                            12,4,12,
                                            12,10,NULL,
                                            8,10,22,
                                            5,14,27)),0.005,2,1)
             .<strong>ST_FixOrdinates</strong>(NULL,NULL,NULL,'(rownum * NVL(w,18))').geom as line
      from dual;

    LINE
    ---------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,0,2,4,4,8,4,24,12,4,48,12,10,90,8,10,132,5,14,189))
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - February 2009 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo87"></a>
<a name="T5fGEOMETRY2fST5fFlip5fSegments"></a>
<h2>15.50.  T_GEOMETRY/ST_Flip_Segments [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Flip_Segments</strong> - Turns linestring and polygon rings into segments and then flips each vector until all point in the same direction.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Flip_Vectors 
             Return geometry
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With gc As (
    select geometry::STGeomFromText(
    'GEOMETRYCOLLECTION(
    POLYGON((10 0,20 0,20 20,10 20,10 0)),
    POLYGON((20 0,30 0,30 20,20 20,20 0)),
    POINT(0 0))',0) as geom
    )
    select v.sx,v.sy,v.ex,v.ey,count(*)
      from gc as a
           cross apply
           [dbo].[STVectorize] (
             [dbo].[STFlipVectors] ( a.geom )
           ) as v
     group by v.sx,v.sy,v.ex,v.ey
    go
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function extracts all vectors from supplied linestring/polygon rings, and then flips each vector until all point in the same direction.
    This function is useful for such operations as finding "slivers" between two polygons that are supposed to share a boundary.
    Once the function has flipped the vectors the calling function can analyse the vectors to do things like find duplicate segment
    which are part of a shared boundaries that are exactly the same (no sliver).
  RETURN
    geometry (GeometryCollection) - The set of flipped vectors.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2008-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo88"></a>
<a name="T5fGEOMETRY2fST5fFromEWKT"></a>
<h2>15.51.  T_GEOMETRY/ST_FromEWKT [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_FromEWKT</strong> -- Implements an import method for Extended Well Known Text including EWKT with Z and M ordinates..
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Static Function <strong>ST_FromEWKT</strong>(p_ewkt in clob)
              Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Implements an import method for Extended Well Known Text including EWKT with Z and M ordinates..
    Returns <a href="#robo24">T_GEOMETRY</a> with valid sdo_geometry object.
    Will import SQL Server Spatial (AsTextZM) and PostGIS EWKT.
    Supports EWKT like "POINT EMPTY".
</pre>
<p class="item_name">NOTES</p>
<pre>    A description of the EWKT structure is available in the PostGIS documentation.
</pre>
<p class="item_name">RESULT</p>
<pre>    New Geometry (<a href="#robo24">T_GEOMETRY</a>) -- <a href="#robo24">T_GEOMETRY</a> containing a valid sdo_geometry with 2, 3 or 4 dimensions.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select 'SRID=28355;POINTZ (0.1 0.2 0.3)' as ewkt
        from dual union all
      select 'SRID=28355;POINTZM (0.1 0.2 0.3 0.4)' as ewkt
        from dual union all
      select 'LINESTRING (0.1 0.1,10 0,10 5,10 10,5 10,5 5)' as ewkt
        from dual union all
      select 'SRID=28355;LINESTRINGZ (0.1 0.1 1,10 0 2,10 5 3,10 10 4,5 10 5,5 5 6)' as ewkt
        from dual union all
      select 'MULTILINESTRINGM ((50.0 55.0 1, 50.0 60.0 2, 55.0 58.0 3, 50.0 55.0 4), (56.0 58.0 5, 60.0 55.0 6, 60.0 60.0 7, 56.0 58.0 8))' as ewkt
        from dual union all
      select 'CIRCULARSTRINGZ (10.0 15.0 3.0, 15.0 20.0 3.0, 20.0 15.0 3.0)' as ewkt
        from dual union all
      select 'CIRCULARSTRINGZM (10.0 15.0 3.0 0.0, 15.0 20.0 3.0 5.67, 20.0 15.0 3.0 9.84)' as ewkt
        from dual union all
      select 'CIRCULARSTRINGM (10.0 15.0 0.0, 15.0 20.0 5.67, 20.0 15.0 9.84)' as ewkt
        from dual union all
      select 'COMPOUNDCURVEZ ((10.0 45.0 0.0, 20.0 45.0 1.6), CIRCULARSTRING (20.0 45.0 1.8, 23.0 48.0 1.8, 20.0 51.0 1.8), (20.0 51.0 1.8, 10.0 51.0 1.8))' as ewkt
        from dual union all
      select 'SRID=28355;MULTICURVEZ (CIRCULARSTRING (50.0 35.0 3.2, 55.0 40.0 3.2, 60.0 35.0 3.2), CIRCULARSTRING (65.0 35.0 4.6, 70.0 30.0 5.6, 75.0 35.0 2.3))' as ewkt
        from dual union all
      select 'CURVEPOLYGON (COMPOUNDCURVE ((10.0 128.0, 10.0 125.0, 20.0 125.0, 20.0 128.0), CIRCULARSTRING (20.0 128.0, 15.0 130.0, 10.0 128.0)))' as ewkt
        from dual union all
      select 'MULTIPOLYGONZ (((1500.0 100.0 0.0, 1900.0 100.0 0.1, 1900.0 500.0 0.2, 1500.0 500.0 0.3, 1500.0 100.0 0.0)), ((1900.0 500.0 2.0, 2300.0 500.0 2.1, 2300.0 900.0 2.2, 1900.0 900.0 1.8, 1900.0 500.0 2.0)))' as ewkt
        from dual union all
      select 'GEOMETRYCOLLECTION (POINT (10.0 5.0), LINESTRING (10.0 10.0, 20.0 10.0), POLYGON ((10.0 105.0, 15.0 105.0, 20.0 110.0, 10.0 110.0, 10.0 105.0)))' as ewkt
        from dual union all
      select 'SRID=28355;GEOMETRYCOLLECTIONZ (POINT (10.0 5.0 1.0), LINESTRING (10.0 10.0 1.1, 20.0 10.0 1.2), POLYGON ((10.0 105.0 1.3, 15.0 105.0 1.3, 20.0 110.0 1.4, 10.0 110.0 1.2, 10.0 105.0 1.3)))' as ewkt
        from dual
    )
    select <a href="#robo24">T_GEOMETRY</a>.<strong>ST_FromEWKT</strong>(a.ewkt).geom as geomFromEWkt
      from data a;

    GEOMFROMEWKT
    ----------------------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3001,28355,SDO_POINT_TYPE(0.1,0.2,0.3),NULL,NULL)
    SDO_GEOMETRY(4401,28355,NULL,
                 SDO_ELEM_INFO_ARRAY(1,1,1),
                 SDO_ORDINATE_ARRAY(0.1,0.2,0.3,0.4))
    SDO_GEOMETRY(2002,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(0.1,0.1,10,0,10,5,10,10,5,10,5,5))
    SDO_GEOMETRY(3002,28355,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(0.1,0.1,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6))
    SDO_GEOMETRY(3306,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1,13,2,1),
                 SDO_ORDINATE_ARRAY(50,55,1,50,60,2,55,58,3,50,55,4,56,58,5,60,55,6,60,60,7,56,58,8))
    SDO_GEOMETRY(3002,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,2),
                 SDO_ORDINATE_ARRAY(10,15,3,15,20,3,20,15,3))
    SDO_GEOMETRY(4402,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,2),
                 SDO_ORDINATE_ARRAY(10,15,3,0,15,20,3,5.67,20,15,3,9.84))
    SDO_GEOMETRY(3302,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,2),
                 SDO_ORDINATE_ARRAY(10,15,0,15,20,5.67,20,15,9.84))
    SDO_GEOMETRY(3002,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,4,3,1,2,1,4,2,2,10,2,1),
                 SDO_ORDINATE_ARRAY(10,45,0,20,45,1.6,20,45,1.8,23,48,1.8,20,51,1.8,20,51,1.8,10,51,1.8))
    SDO_GEOMETRY(3006,28355,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,2,10,2,2),
                 SDO_ORDINATE_ARRAY(50,35,3.2,55,40,3.2,60,35,3.2,65,35,4.6,70,30,5.6,75,35,2.3))
    SDO_GEOMETRY(2003,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,7,2,2),
                 SDO_ORDINATE_ARRAY(10,128,10,125,20,125,20,128,15,130,10,128))
    SDO_GEOMETRY(3007,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,1003,1,16,1003,1),
                 SDO_ORDINATE_ARRAY(1500,100,0,1900,100,0.1,1900,500,0.2,1500,500,0.3,1500,100,0,1900,500,2,2300,500,2.1,2300,900,2.2,1900,900,1.8,1900,500,2))
    SDO_GEOMETRY(2004,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,1,1,3,2,1,7,1003,1),
                 SDO_ORDINATE_ARRAY(10,5,10,10,20,10,10,105,15,105,20,110,10,110,10,105))
    SDO_GEOMETRY(3004,28355,NULL,
                 SDO_ELEM_INFO_ARRAY(1,1,1,4,2,1,10,1003,1),
                 SDO_ORDINATE_ARRAY(10,5,1,10,10,1.1,20,10,1.2,10,105,1.3,15,105,1.3,20,110,1.4,10,110,1.2,10,105,1.3))

     14 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo89"></a>
<a name="T5fGEOMETRY2fST5fFromText"></a>
<h2>15.52.  T_GEOMETRY/ST_FromText [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_FromText</strong> -- This is a wrapper function that has the <strong>ST_FromText</strong> name common to users of PostGIS.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Static Function <strong>ST_FromText</strong>(p_wkt  in clob,
                                p_srid in integer default NULL)
              Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Implements an import method for standard Well Known Text.
    Returns <a href="#robo24">T_GEOMETRY</a> with valid sdo_geometry object.
    Uses the SDO_GEOMETRY(CLOB,INTEGER) constructor to create a
    <a href="#robo24">T_GEOMETRY</a> object with default tolerance, dPrecision and projected variable values.
</pre>
<p class="item_name">RESULT</p>
<pre>    New Geometry (<a href="#robo24">T_GEOMETRY</a>) -- <a href="#robo24">T_GEOMETRY</a> containing a valid 2D sdo_geometry object with default parameters.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select 'POINT (0.1 0.2)' as wkt from dual union all
      select 'LINESTRING (0.1 0.1,10 0,10 5,10 10,5 10,5 5)' as wkt from dual union all
      select 'MULTILINESTRING ((50.0 55.0, 50.0 60.0, 55.0 58.0, 50.0 55.0), (56.0 58.0, 60.0 55.0, 60.0 60.0, 56.0 58.0))' as wkt from dual union all
      select 'CIRCULARSTRING (10.0 15.0, 15.0 20.0, 20.0 15.0)' as wkt from dual union all
      select 'COMPOUNDCURVE ((10.0 45.0, 20.0 45.0), CIRCULARSTRING (20.0 45.0, 23.0 48.0, 20.0 51.0), (20.0 51.0, 10.0 51.0))' as wkt from dual union all
      select 'MULTICURVE (CIRCULARSTRING (50.0 35.0, 55.0 40.0, 60.0 35.0), CIRCULARSTRING (65.0 35.0, 70.0 30.0, 75.0 35.0))' as wkt from dual union all
      select 'CURVEPOLYGON (COMPOUNDCURVE ((10.0 128.0, 10.0 125.0, 20.0 125.0, 20.0 128.0), CIRCULARSTRING (20.0 128.0, 15.0 130.0, 10.0 128.0)))' as wkt from dual union all
      select 'MULTIPOLYGON (((1500.0 100.0, 1900.0 100.0, 1900.0 500.0, 1500.0 500.0, 1500.0 100.0)), ((1900.0 500.0, 2300.0 500.0, 2300.0 900.0, 1900.0 900.0, 1900.0 500.0)))' as wkt from dual union all
      select 'GEOMETRYCOLLECTION (POINT (10.0 5.0), LINESTRING (10.0 10.0, 20.0 10.0), POLYGON ((10.0 105.0, 15.0 105.0, 20.0 110.0, 10.0 110.0, 10.0 105.0)))' as wkt from dual
    )
    select <a href="#robo24">T_GEOMETRY</a>.<strong>ST_FromText</strong>(a.wkt).geom as geomFromWkt
      from data a;

    GEOMFROMWKT
    ---------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(0.1,0.2,NULL),NULL,NULL)
    SDO_GEOMETRY(2002,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(0.1,0.1,10,0,10,5,10,10,5,10,5,5))
    SDO_GEOMETRY(2006,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1,9,2,1),
                 SDO_ORDINATE_ARRAY(50,55,50,60,55,58,50,55,56,58,60,55,60,60,56,58))
    SDO_GEOMETRY(2002,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,2),
                 SDO_ORDINATE_ARRAY(10,15,15,20,20,15))
    SDO_GEOMETRY(2002,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,4,3,1,2,1,3,2,2,7,2,1),
                 SDO_ORDINATE_ARRAY(10,45,20,45,23,48,20,51,10,51))
    SDO_GEOMETRY(2006,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,2,7,2,2),
                 SDO_ORDINATE_ARRAY(50,35,55,40,60,35,65,35,70,30,75,35))
    SDO_GEOMETRY(2003,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,1005,2,1,2,1,7,2,2),
                 SDO_ORDINATE_ARRAY(10,128,10,125,20,125,20,128,15,130,10,128))
    SDO_GEOMETRY(2007,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,1003,1,11,1003,1),
                 SDO_ORDINATE_ARRAY(1500,100,1900,100,1900,500,1500,500,1500,100,1900,500,2300,500,2300,900,1900,900,1900,500))
    SDO_GEOMETRY(2004,NULL,NULL,
                 SDO_ELEM_INFO_ARRAY(1,1,1,3,2,1,7,1003,1),
                 SDO_ORDINATE_ARRAY(10,5,10,10,20,10,10,105,15,105,20,110,10,110,10,105))

     9 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo90"></a>
<a name="T5fGEOMETRY2fST5fGeometry2DimInfo"></a>
<h2>15.53.  T_GEOMETRY/ST_Geometry2DimInfo [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Geometry2DimInfo</strong> -- Converts any non-null geometry into an SDO_DIM_ARRAY capable of being written to USER_SDO_GEOM_METADATA by computing MBR of object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Static Function <strong>ST_Geometry2DimInfo</strong> (
                       p_dim_array in mdsys.sdo_dim_array,
                       p_srid      in integer default NULL
                    )
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Determinstic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Calculates a geometry's envelope and converts it to an SDO_DIM_ARRAY structure by populating its SDO_DIM_ELEMENT sdo_lb/sdo_ub values with computed envelope.
    If <a href="#robo24">T_GEOMETRY</a>'s projected attribute is 1, X/Y are returned for the SDO_DIM_NAMES; if 0, LONG/LAT are returned as the SDO_DIM_NAMES
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) -- Returns polygon with single optimized rectangle exterior ring.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),
                                                   ((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
        From Dual
       Union All
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom
        From Dual
       Union All
     Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,projected=&gt;0) as tgeom
       From Dual
    )
    select a.tgeom.ST_Geometry2Diminfo() as dimInfo
      from data a;

    DIMINFO
    -----------------------------------------------------------------------------------------------------------------------------
    SDO_DIM_ARRAY(SDO_DIM_ELEMENT('X',   0,200,0.005), SDO_DIM_ELEMENT('Y',  0,200,0.005))
    SDO_DIM_ARRAY(SDO_DIM_ELEMENT('X',   0, 10,0.005), SDO_DIM_ELEMENT('Y',  0, 10,0.005), SDO_DIM_ELEMENT('Z',1,6,0.005))
    SDO_DIM_ARRAY(SDO_DIM_ELEMENT('LONG',0, 10,0.005), SDO_DIM_ELEMENT('LAT',0, 10,0.005), SDO_DIM_ELEMENT('Z',1,6,0.005))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June 2016 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo91"></a>
<a name="T5fGEOMETRY2fST5fGeometryType"></a>
<h2>15.54.  T_GEOMETRY/ST_GeometryType [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_GeometryType</strong> -- Returns underlying mdsys.sdo_geometry's SQLMM Geometry Type.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_GeometryType</strong>
             Return VarChar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is a wrapper over the ST_GEOMETRY <strong>ST_GeometryType</strong>() method. Returns textual description of the geometry type
    eg ST_Polygon for x003 mdsys.sdo_geometry object.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC <strong>ST_GeometryType</strong> method.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry type (Integer) -- 1:Point; 2:Linestring; 3:Polygon; 4:Collection; 5:MultiPoint; 6:MultiLinestring; 7:MultiPolygon
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With Geometries As (
       select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2001,NULL,sdo_point_type(10,11,null),null,null),0.005,2,1) as TGEOM
         From Dual Union All
       Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2002,NULL,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(10,45, 20,45, 23,48, 20,51, 10,51)),0.005,1,1) as TGEOM
         From Dual Union All
       Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3),sdo_ordinate_array(0,0, 10,10)),0.005,1,1) as TGEOM
         From Dual Union All
       select t_geometry(sdo_geometry(2003,null,null,sdo_elem_info_array(1,1005,2, 1,2,1, 7,2,2),
                         SDO_ORDINATE_ARRAY (10,128, 10,125, 20,125, 20,128, 15,130, 10,128)),0.005,2,1) as TGEOM
        From Dual Union All
       Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2002,null,null,sdo_elem_info_array(1,4,3, 1,2,1, 3,2,2, 7,2,1),
                         sdo_ordinate_array(10,45, 20,45, 23,48, 20,51, 10,51)),0.005,2,1) as TGEOM
        From Dual
    )
    select a.TGeom.ST_GTYPE() as gtype,
           a.TGeom.<strong>ST_GeometryType</strong>() as Geometrytype
      From Geometries a;

    GTYPE GEOMETRYTYPE
    ----- ----------------
        1 ST_POINT
        2 ST_LINESTRING
        3 ST_POLYGON
        3 ST_CURVEPOLYGON
        2 ST_COMPOUNDCURVE
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo92"></a>
<a name="T5fGEOMETRY2fST5fGType"></a>
<h2>15.55.  T_GEOMETRY/ST_GType [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_GType</strong> -- Returns underlying mdsys.sdo_geometry's geometry type by executing mdsys.sdo_geometry method get_gtype().
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_GType</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is a wrapper over the mdsys.sdo_geometry get_gtype() method ie SELF.GEOM.Get_Gtype()
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry type (Integer) -- 1:Point; 2:Linestring; 3:Polygon; 4:Collection; 5:MultiPoint; 6:MultiLinestring; 7:MultiPolygon
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo93"></a>
<a name="T5fGEOMETRY2fST5fhasCircularArcs"></a>
<h2>15.56.  T_GEOMETRY/ST_hasCircularArcs [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_hasCircularArcs</strong> -- A function that tests whether underlying mdsys.sdo_geometry contains circular arcs.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_hasCircularArcs</strong>
             Return integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines sdo_elem_info to see if contains ETYPE/Interpretation that describes a circular arc, or even a full circle.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (Integer) -- 1 if has circular arcs.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select 1 as geomId, <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2002,null,null,sdo_elem_info_array(1,4,2,1,2,1,3,2,2),sdo_ordinate_array(0,0,10,0,20,10,30,0)),0.005,2,1) as tgeom
        From Dual union all
      select 2 as geomId, t_geometry(sdo_geometry('LINESTRING (100.0 0.0, 400.0 0.0)',NULL),0.005,2,1) as tgeom
        From Dual
    )
    select a.geomId, a.tgeom.ST_HasCircularArcs() as hasCircularArc
      from data a;

    GEOMID HASCIRCULARARC
    ------ --------------
         1              1
         2              0
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Dec 2008 - Original coding within GEOM package.
    Simon Greener - Jan 2013 - Recoded for <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo94"></a>
<a name="T5fGEOMETRY2fST5fHasDimension"></a>
<h2>15.57.  T_GEOMETRY/ST_HasDimension [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_HasDimension</strong> -- Returns spatial dimension of underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_HasDimension</strong> (
                       p_dim  in integer default 2
                    )
             Return Integer Deterministic,
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POINT(0 0)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
      select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',null),0.005,3,1) as tgeom From Dual
    )
    select a.tgeom.<a href="#robo92">ST_GType</a>()           as sdo_gtype,
           a.tgeom.<a href="#robo91">ST_GeometryType</a>()    as geomType,
           a.tgeom.<a href="#robo62">ST_CoordDimension</a>()  as coordDim,
           a.tgeom.<a href="#robo67">ST_Dimension</a>()       as geomDim,
           a.tgeom.<strong>ST_HasDimension</strong>(1)   as hasDim1
      from data a;

    SDO_GTYPE GEOMTYPE       COORDDIM GEOMDIM HASDIM1
    --------- -------------- -------- ------- -------
            1 ST_POINT              2       0       0
            2 ST_LINESTRING         2       1       1
            3 ST_POLYGON            2       2       0
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This method inspects the underlying geometry and determines if has specified Geometric Dimension (<a href="#robo67">ST_Dimension</a>).
    Returns 1 if geometry is of that dimension and 0 otherwise.
</pre>
<p class="item_name">RESULT</p>
<pre>   true(1)/false(0) (Integer) -- If p_dim is 0 and underlying geometry is POINT then 1 is returned else 0.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo95"></a>
<a name="T5fGEOMETRY2fST5fhasM"></a>
<h2>15.58.  T_GEOMETRY/ST_hasM [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_hasM</strong> -- Tests geometry to see if coordinates include a measure.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_hasM</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3301,NULL,SDO_POINT_TYPE(0,0,0),null,null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual
    )
    select a.tgeom.<a href="#robo92">ST_GType</a>()          as sdo_gtype,
           a.tgeom.<a href="#robo91">ST_GeometryType</a>()   as geomType,
           a.tgeom.<a href="#robo62">ST_CoordDimension</a>() as coordDim,
           a.tgeom.<a href="#robo332">ST_HasM</a>()           as hasM
      from data a;

    SDO_GTYPE GEOMTYPE       COORDDIM HASM
    --------- -------------- -------- ----
            1 ST_POINT              3    1
            2 ST_LINESTRING         2    0
            2 ST_LINESTRING         3    0
            2 ST_LINESTRING         3    1
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SELF.GEOM.SDO_GTYPE (DLNN etc) to see if sdo_gtype has measure ordinate eg 3302 not 3002.
    Similar to SQL Server Spatial hasM method.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (Integer) -- 1 is measure ordinate exists, 0 otherwise.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo96"></a>
<a name="T5fGEOMETRY2fST5fhasRectangles"></a>
<h2>15.59.  T_GEOMETRY/ST_hasRectangles [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_hasRectangles</strong> -- A function that tests whether underlying mdsys.sdo_geometry contains optimized rectangles.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_hasRectanglles
             Return integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines sdo_elem_info to see if contains ETYPE/Interpretation that describes an optimized rectangle.
    eg SDO_ELEM_INFO_ARRAY(1,1003,3) ie the interpretation value of 3 means optimized rectangle.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (Integer) -- 1 if has optimized rectangles.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0))',null),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3),sdo_ordinate_array(0,0,20,20)),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3,5,2003,3),sdo_ordinate_array(0,0,20,20, 10,10,15,15)),0.005,3,1) as tgeom
        From Dual
    )
    select a.tgeom.ST_HasRectangles() as numRectangles
      from data a;

    HASRECTANGLES
    -------------
                0
                1
                1
</pre>
<p class="item_name">NOTES</p>
<pre>    Calls <a href="#robo149">ST_NumRectangles</a> and returns 1 if num is &gt; 0 or 0 otherwise.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jun 2011 - Original coding for GEOM package.
    Simon Greener - Jan 2013 - Recoded for <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo97"></a>
<a name="T5fGEOMETRY2fST5fHasZ"></a>
<h2>15.60.  T_GEOMETRY/ST_HasZ [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_HasZ</strong> -- Checks if underlying geometry has z ordinate.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_HasZ</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POINT(0 0)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3001,NULL,SDO_POINT_TYPE(0,0,0),null,null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual
    )
    select a.tgeom.<a href="#robo92">ST_GType</a>()          as sdo_gtype,
           a.tgeom.<a href="#robo91">ST_GeometryType</a>()   as geomType,
           a.tgeom.<a href="#robo62">ST_CoordDimension</a>() as coordDim,
           a.tgeom.<strong>ST_HasZ</strong>()           as hasZ
    from data a;

    SDO_GTYPE GEOMTYPE       COORDDIM HASZ
    --------- -------------- -------- ----
            1 ST_POINT              2    0
            1 ST_POINT              3    1
            2 ST_LINESTRING         2    0
            2 ST_LINESTRING         3    1
            2 ST_LINESTRING         3    0
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This method inspects the underlying geometry and determines if has a Z ordinate (3D).
    Returns 1 if geometry has Z ordinate and 0 otherwise.
</pre>
<p class="item_name">RESULT</p>
<pre>   true(1)/false(0) (Integer) -- If 2001 POINT then 0; if 3001 then 1; if 3002 then1, if 3302 then 0.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo98"></a>
<a name="T5fGEOMETRY2fST5finCircularArc"></a>
<h2>15.61.  T_GEOMETRY/ST_inCircularArc [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_inCircularArc</strong> -- A function that checks if the provided point is part of a circular arc.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_inCircularArc</strong>
             Return integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines underlying geometry and checks to see if the provided point reference (id) is part of a circular arc or not.
    Returns position in circular arc:
      0 means not in a circular arc
      1 means is first point in circular arc
      2 means is second point in circular arc
      3 means is third point in circular arc
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (integer) -- Returns position of point in circular arc (0 if not part of a circular arc)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2002,null,null,sdo_elem_info_array(1,4,2,1,2,1,3,2,2),sdo_ordinate_array(0,0,10,0,20,10,30,0)),0.005,2,1) as tgeom
        From Dual
    )
    select a.tgeom.ST_InCircularArc(t.IntValue) as positionInCircularArc
      from data a,
           table(tools.generate_series(1,a.tgeom.<a href="#robo148">ST_NumPoints</a>(),1)) t

    POSITIONINCIRCULARARC
    ---------------------
                        0
                        1
                        2
                        3
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo99"></a>
<a name="T5fGEOMETRY2fST5fInsertVertex"></a>
<h2>15.62.  T_GEOMETRY/ST_InsertVertex [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_InsertVertex</strong> -- Function which inserts new coordinate (p_vertex) at position p_vertex.id into the supplied geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Function <strong>ST_InsertVertex</strong> (
               p_vertex T_Vertex
             )
     Returns T_Geometry
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that inserts the vertex p_vertex into into supplied geometry as position p_vertex.id.
    All existing vertices are shuffled down ie Insert is "add before" except at end.
    Supplied p_vertex must have Z and W coded correctly.
    p_vertex.id values:
      1. null -&gt; defaults to 1;
      2. -1   -&gt; maximum number of points ie SELF.<a href="#robo148">ST_NumPoints</a>()
      3. Greater than SELF.<a href="#robo148">ST_NumPoints</a>() -&gt; maximum number of points ie SELF.<a href="#robo148">ST_NumPoints</a>()
    The inserted coordinate's XY ordinates are rounded to SELF.dprecision number of decimal digits of dprecision.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_vertex    (t_vertex) -- Insert coordinate. p_vertex.id is position in geometry to insert new vertex: between 1 and SELF.<a href="#robo148">ST_NumPoints</a>.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry -- Geometry with coordinate inserted.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Insert 2D vertex into 2D linestring
    select t_geometry(sdo_geometry('LINESTRING(0 0,2 2)',null),0.005,2,1)
              .<strong>ST_InsertVertex</strong>(
                  T_Vertex(p_id       =&gt;2,
                           p_x        =&gt;1,
                           p_y        =&gt;1,
                           p_sdo_gtype=&gt;2001,
                           p_sdo_srid =&gt;NULL)
            ).<a href="#robo326">ST_AsText</a>() as newGeom
       from dual;


    NEWGEOM
    --------------------------
    LINESTRING (0 0, 1 1, 2 2)

    -- Update 3D point....
    select t_geometry(sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,1, 2,2,2)),0.005,2,1)
              .<strong>ST_InsertVertex</strong>(
                  T_Vertex(p_id       =&gt;2,
                           p_x        =&gt;1.5,
                           p_y        =&gt;1.5,
                           p_z        =&gt;1.5,
                           p_sdo_gtype=&gt;3001,
                           p_sdo_srid =&gt;NULL)
            ).geom as UpdatedGeom
       from dual;

    UPDATEDGEOM
    ---------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,1.5,1.5,1.5))

    -- Insert 3D point into 3D linestring.
    select t_geometry(sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,1,2,2,2)),0.005,2,1)
              .<strong>ST_InsertVertex</strong>(
                  T_Vertex(p_id       =&gt;2,
                           p_x        =&gt;1,
                           p_y        =&gt;1,
                           p_z        =&gt;1.5,
                           p_sdo_gtype=&gt;2001,
                           p_sdo_srid =&gt;NULL)
            ).geom as newGeom
       from dual;

    NEWGEOM
    -----------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,1,1,1.5,2,2,2))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2006 - Original Coding for GEOM package.
    Simon Greener - July 2011     - Port to <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo100"></a>
<a name="T5fGEOMETRY2fST5fIntersection"></a>
<h2>15.63.  T_GEOMETRY/ST_Intersection [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Intersection</strong> -- Returns the spatial intersection of two sdo_geometry objects.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Intersection</strong>(p_geometry in mdsys.sdo_geometry,
                                    p_order    in varchar2 Default 'FIRST')
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function intersects two linestrings, polygons or a mix of either.
    The p_order parameter determines whether SELF.geom is the first argument to sdo_intersection or second.
    Intersection could result in a Point, Line, Polygon or GeometryCollection.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geometry (sdo_geometry) -- A linestring or polygon.
    p_order        (varchar2) -- Should be FIRST or SECOND.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- Result of intersecting the geometries.
</pre>
<p class="item_name">NOTES</p>
<pre>    Uses MDSYS.SDO_GEOM.SDO_INTERSECTION if Oracle database version is 12cR1 or above
    or if the customer is licensed for the Spatial object before 12c.
</pre>
<p class="item_name">ERRORS</p>
<pre>    Will throw exception if the user is not licensed to call MDSYS.SDO_GEOM.SDO_INTERSECTION.
    -20102  MDSYS.SDO_GEOM.SDO_INTERSECTION only supported for Locator users from 12c onwards.';
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo101"></a>
<a name="T5fGEOMETRY2fST5fisClosed"></a>
<h2>15.64.  T_GEOMETRY/ST_isClosed [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isClosed</strong> -- Checks if underlying geometry object is simple as per the OGC.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isClosed</strong>
             Return integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function checks to see if the underlying linestring is closed.
    A closed linestring is one whose start/end points are the same as in a polygon ring.
</pre>
<p class="item_name">RESULT</p>
<pre>    1/0 (integer) -- 1 if Closed, 0 if not.
    With data as (
      select 'Simple 2 point line' as test,
             t_geometry(sdo_geometry('LINESTRING(0 0,1 1)',null),0.005,2,1) as tGeom
        from dual union all
      select 'Line with 4 Points with two segments crossing' as test,
             t_geometry(sdo_geometry('LINESTRING(0 0,1 1,1 0,0 1)',null),0.005,2,1) as tGeom
        from dual union all
      select 'Line whose start/end points are the same (closed)' as test,
             t_geometry(sdo_geometry('LINESTRING(0 0,1 0,1 1,0 1,0 0)',null),0.005,2,1) as tGeom
        from dual
    )
    Select a.test, a.tGeom.ST_Closed() as isSimple
      from data a;

    TEST                                              ISSIMPLE
    ------------------------------------------------- --------
    Simple 2 point line                                      1
    Line with 4 Points with two segments crossing            0
    Line whose start/end points are the same (closed)        1
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo102"></a>
<a name="T5fGEOMETRY2fST5fisEmpty"></a>
<h2>15.65.  T_GEOMETRY/ST_isEmpty [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isEmpty</strong> -- Checks if underlying geometry object is empty.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isEmpty</strong>
             Return integer Deterministic,
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC <strong>ST_isEmpty</strong> method.
    cf "POINT EMPTY"/"LINESTRING EMPTY"/"POLYGON EMPTY" OGC
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function checks to see if the underlying object is empty.
    While some Spatial Types define empty via WKT string such as 'LINESTRING EMPTY', for oracle
    we determine that an sdo_geometry object is Empty if:
    1. The object is null;
    2. The object exists but all of its 5 attributes (sdo_gtype, sdo_srid, sdo_point, sdo_elem_info, sdo_ordinates) are null.
    3. Or the object exists but all of its 3 main geometric attributes (sdo_point, sdo_elem_info, sdo_ordinates) are null.
</pre>
<p class="item_name">RESULT</p>
<pre>    1/0 (integer) -- 1 if Empty, 0 if not.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo103"></a>
<a name="T5fGEOMETRY2fST5fisOrientedPoint"></a>
<h2>15.66.  T_GEOMETRY/ST_isOrientedPoint [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isOrientedPoint</strong> -- A function that tests whether underlying mdsys.sdo_geometry is an oriented point.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isOrientedPoint</strong>
             Return integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines underlying point geometry to see if contains oriented points.
    Single Oriented Point:
      Sdo_Elem_Info = (1,1,1, 3,1,0), SDO_ORDINATE_ARRAY(12,14, 0.3,0.2)));
      The Final 1,0 In 3,1,0 Indicates That This Is An Oriented Point.
    Multi Oriented Point:
      Sdo_Elem_Info_Array(1,1,1, 3,1,0, 5,1,1, 7,1,0), Sdo_Ordinate_Array(12,14, 0.3,0.2, 12,10, -1,-1)));
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (Integer) -- 1 if has orientes points.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select 1 as geomId, <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2001,null,null,sdo_elem_info_array(1,1,1, 3,1,0), sdo_ordinate_array(12,14, 0.3,0.2)),0.005,2,1) as tgeom
        From Dual union all
      select 2 as geomId, t_geometry(sdo_geometry('LINESTRING (100.0 0.0, 400.0 0.0)',NULL),0.005,2,1) as tgeom
        From Dual Union All
      select 3 as geomId, <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2005,null,null,Sdo_Elem_Info_Array(1,1,1, 3,1,0, 5,1,1, 7,1,0), Sdo_Ordinate_Array(12,14, 0.3,0.2, 12,10, -1,-1)),0.005,2,1) as tgeom
        From Dual Union All
      select 4 as geomId, <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2005,null,null,Sdo_Elem_Info_Array(1,1,1, 3,1,0, 5,1,1, 7,1,0, 9,1,1), Sdo_Ordinate_Array(12,14, 0.3,0.2, 12,10, -1,-1, -10,-10)),0.005,2,1) as tgeom
        From Dual
    )
    select a.geomId, a.tgeom.<a href="#robo91">ST_GeometryType</a>() as geomType, a.tgeom.<strong>ST_isOrientedPoint</strong>() as isOrientedPoint
      from data a;

    GEOMID GEOMTYPE      ISORIENTEDPOINT
    ------ ------------- ---------------
         1 ST_POINT                    1
         2 ST_LINESTRING               0
         3 ST_MULTIPOINT               1
         4 ST_MULTIPOINT               1
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Dec 2008 - Original coding within GEOM package.
    Simon Greener - Jan 2013 - Recoded for <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo104"></a>
<a name="T5fGEOMETRY2fST5fisSimple"></a>
<h2>15.67.  T_GEOMETRY/ST_isSimple [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isSimple</strong> -- Checks if underlying geometry object is simple as per the OGC.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isSimple</strong>
             Return integer Deterministic,
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC <strong>ST_isSimple</strong> method.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function checks to see if the underlying object is simple.
    A simple linestring is one for which none of its segments cross each other.
    This is not the same as a closed linestring whose start/end points are the same as in a polygon ring.
    This function does this by using the Oracle MDSYS.ST_GEOMETRY.<strong>ST_isSimple</strong> method.
</pre>
<p class="item_name">RESULT</p>
<pre>    1/0 (integer) -- 1 if Simple, 0 if not.

    With data as (
      select 'Simple 2 point line' as test,
             t_geometry(sdo_geometry('LINESTRING(0 0,1 1)',null),0.005,2,1) as tGeom
        from dual union all
      select 'Line with 4 Points with two segments crossing' as test,
             t_geometry(sdo_geometry('LINESTRING(0 0,1 1,1 0,0 1)',null),0.005,2,1) as tGeom
        from dual union all
      select 'Line whose start/end points are the same (closed)' as test,
             t_geometry(sdo_geometry('LINESTRING(0 0,1 0,1 1,0 1,0 0)',null),0.005,2,1) as tGeom
        from dual
    )
    Select a.test, a.tGeom.<strong>ST_isSimple</strong>() as isSimple
      from data a;

    TEST                                              ISSIMPLE
    ------------------------------------------------- --------
    Simple 2 point line                                      1
    Line with 4 Points with two segments crossing            0
    Line whose start/end points are the same (closed)        1
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo105"></a>
<a name="T5fGEOMETRY2fST5fisValid"></a>
<h2>15.68.  T_GEOMETRY/ST_isValid [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isValid</strong> -- Executes, and returns, result of mdsys.sdo_geometry method <strong>ST_isValid</strong>().
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isValid</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC <strong>ST_isValid</strong> method.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is a wrapper over the mdsys.sdo_geometry method SELF.GEOM.<strong>ST_isValid</strong>().
    See also SDO_GEOM.VALIDATE_GEOMETRY etc.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (Integer) -- If mdsys.sdo_geometry is valid (see SDO_GEOM.VALIDATE_GEOMETRY) returns 1 else 0.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo106"></a>
<a name="T5fGEOMETRY2fST5fisValidContext"></a>
<h2>15.69.  T_GEOMETRY/ST_isValidContext [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isValidContext</strong> -- Executes sdo_geom.validate_geometry_with_context against underlying geometry and returns value.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isValidContext</strong>
             Return varchar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function executes the SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT function and returns the result.
</pre>
<p class="item_name">RESULT</p>
<pre>    result (varchar2) -- Returns result of SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT function.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo107"></a>
<a name="T5fGEOMETRY2fST5fLength"></a>
<h2>15.70.  T_GEOMETRY/ST_Length [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Length</strong> -- Returns length of underlying linestring or polygon (rings) sdo_geometry
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Length</strong> (
                       p_unit  in varchar2 default NULL,
                       p_round in integer  default 0 )
                    )
             Return Number Deterministic
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_unit (varchar2) - Oracle Unit of Measure eg unit=M.
    p_round (integer) - Whether to round result using PRECISION of <a href="#robo24">T_GEOMETRY</a>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes length of linestring or polygon boundary of underlying sdo_geometry.
    Result is in the distance units of the SDO_SRID, or in p_units where supplied.
    Result is rounded to SELF.PRECISION if p_round is true (1), otherwise false(0) no rounding.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual union all
      select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',28356),0.0005,3,1) as tgeom From Dual
    )
    select a.tgeom.<strong>ST_Length</strong>(case when a.tGeom.ST_Srid() = 28356 then 'unit=CENTIMETER' else null end,0) as length,
           a.tgeom.<strong>ST_Length</strong>(case when a.tGeom.ST_Srid() = 28356 then 'unit=CENTIMETER' else null end,1) as round_length
      from data a;

         LENGTH ROUND_LENGTH
    ----------- ------------
             30           30
    30.44595368       30.446
             30           30
           8400         8400
</pre>
<p class="item_name">NOTES</p>
<pre>    Length of 3D linestrings and polygons is an Enterprise Spatial feature.
    The function detects if licensed and computes length using sdo_geom.sdo_length.
    If the database is not licensed, the function computes 3D length itself (slower).
</pre>
<p class="item_name">RESULT</p>
<pre>    length (Number) -- Length in SRID unit of measure or in supplied units (p_unit) possibly rounded to SELF.Precision
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo108"></a>
<a name="T5fGEOMETRY2fST5fLine2Cogo"></a>
<h2>15.71.  T_GEOMETRY/ST_Line2Cogo [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>   <strong>ST_Line2Cogo</strong> - Creates Cogo Instructions from linestring segments.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>   Member Function <strong>ST_Line2Cogo</strong>
            Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo15">T_BEARING_DISTANCES</a> Pipeline,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function converts the underlying simple linestring to a set of bearings and distances in T_BEARINGS_DISTANCES array format.
    The first <a href="#robo22">T_BEARING_DISTANCE</a> element will be the bearing and distance from an implied start point of 0,0.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_unit (varchar2) - For when SRID &lt;&gt; NULL, an oracle unit of measure eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    Cogo Instructions - Cogo instructions coded as <a href="#robo15">T_BEARING_DISTANCES</a> array of <a href="#robo22">T_BEARING_DISTANCE</a>
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Create 2D Line from <a href="#robo0">COGO</a> then reverse back to <a href="#robo0">COGO</a> ....
    With data as (
    select f.line
      from (select t_geometry(sdo_geometry(2001,null,sdo_point_type(0.0,3.5,null),null,null),0.005,2,1)
                     .<a href="#robo58">ST_Cogo2Line</a> (
                          t_bearing_distances(
                              t_bearing_distance(180.00,3.50,null),
                              t_bearing_distance( 90.00,3.50,null),
                              t_bearing_distance(  0.00,3.50,null),
                              t_bearing_distance( 43.02,5.43,null),
                              t_bearing_distance(270.00,9.50,null))
                          ) as line
              from dual
           ) f
    )
    select <a href="#robo0">COGO</a>.<a href="#robo7">DD2DMS</a>(<a href="#robo0">COGO</a>.<a href="#robo12">ST_Degrees</a>(t.bearing)) as bearing,
           Round(t.distance,3) as distance
      from data a,
           table(a.line.<strong>ST_Line2Cogo</strong>()) t;

    BEARING  DISTANCE
    -------- --------
    0°0'0"        3.5
    180°0'0"      3.5
    90°0'0"       3.5
    0°0'0"        3.5
    43°1'12"     5.43
    270°0'0"      9.5

     6 rows selected

    -- Create 3D Line from <a href="#robo0">COGO</a> then reverse back to <a href="#robo0">COGO</a> ....
    With data as (
    select f.line
      from (select t_geometry(sdo_geometry(3001,null,sdo_point_type(0.0,3.5,0.2),null,null),0.005,2,1)
                     .<a href="#robo58">ST_Cogo2Line</a> (
                          t_bearing_distances(
                              t_bearing_distance(180.00,3.50,1.1),
                              t_bearing_distance( 90.00,3.50,2.0),
                              t_bearing_distance(  0.00,3.50,3.0),
                              t_bearing_distance( 43.02,5.43,4.4),
                              t_bearing_distance(270.00,9.50,5.2))
                          ) as line
              from dual
           ) f
    )
    select <a href="#robo0">COGO</a>.<a href="#robo7">DD2DMS</a>(<a href="#robo0">COGO</a>.<a href="#robo12">ST_Degrees</a>(t.bearing)) as bearing,
           Round(t.distance,3)                     as distance,
           t.z
      from data a,
           table(a.line.<strong>ST_Line2Cogo</strong>()) t;

    BEARING  DISTANCE   Z
    -------- -------- ---
    0°0'0"      3.506 0.2
    180°0'0"    3.614 1.1
    90°0'0"     3.614   2
    0°0'0"      3.64    3
    43°1'12"    5.608 4.4
    270°0'0"    9.534 5.2

     6 rows selected
  NOTE
    Measures not supported: see LRS functions.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo109"></a>
<a name="T5fGEOMETRY2fST5fLineShift"></a>
<h2>15.72.  T_GEOMETRY/ST_LineShift [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LineShift</strong> -- Moves linestring parallel to imaginary line drawnn from first to last vertex.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LineShift</strong>(p_distance in number)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that extracts the first and last vertex of a linestring, compute a single offset at right angles to an
    imaginary line from first to last vertex, then apply offset to all vertices in the linestring.
    Is a "simple" version of the more complex <a href="#robo157">ST_Parallel</a>.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_distance (Number)   - Value +/- integer value.
</pre>
<p class="item_name">NOTES</p>
<pre>    Only supports linestrings.
</pre>
<p class="item_name">TODO</p>
<pre>    Add support for SRID units of measure (ie parameter p_unit).
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- Input linestring moved parallel by p_distance units
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2008 - Original coding in GEOM package.
    Simon Greener - January 2013  - Port/Rewrite to <a href="#robo24">T_GEOMETRY</a> object function member.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo110"></a>
<a name="T5fGEOMETRY2fST5fLRS5fAdd5fMeasure"></a>
<h2>15.73.  T_GEOMETRY/ST_LRS_Add_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Add_Measure</strong> -- Adds measures to 2D (multi)linestring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Add_Measure</strong>(p_start_measure IN Number Default NULL,
                                       p_end_measure   IN Number Default NULL,
                                       p_unit          IN VarChar2 Default NULL)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Takes a 2D geometry and assigns supplied measures to the start/end vertices
    and adds proportioned measure values to all vertices in between.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_start_measure (Number)   - Measure defining start point for geometry.
    p_end_measure   (Number)   - Measure defining end point for geometry.
    p_unit          (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- Measured geometry
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_geometry(SDO_GEOMETRY(2002,28355,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(
                    571303.231,321126.963, 571551.298,321231.412, 572765.519,321322.805, 572739.407,321845.051,
                    572752.463,322641.476, 573209.428,323398.732, 573796.954,323555.406, 574436.705,323790.416,
                    574945.895,324051.539, 575128.681,324652.122, 575128.681,325161.311, 575898.993,325213.536,
                    576238.453,324521.56, 576251.509,321048.626, 575259.242,322615.364, 574306.144,321296.693)),
                    0.0005,3,1)
             .ST_LRS_ADD_Measure(110.0)
             .<a href="#robo177">ST_Round</a>(3,3,1,2)
             .geom as mGeom
      from dual;

    MGEOM
    ---------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3302,28355,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(
                     571303.231,321126.963,110.0,   571551.298,321231.412,377.21,   572765.519,321322.805,1586.05,  572739.407,321845.051,2105.16,
                     572752.463,322641.476,2895.92, 573209.428,323398.732,3773.96,  573796.954,323555.406,4377.62,  574436.705,323790.416,5054.23,
                     574945.895,324051.539,5622.33, 575128.681,324652.122,6245.56,  575128.681,325161.311,6751.06,  575898.993,325213.536,7517.55,
                     576238.453,324521.56,8282.72,  576251.509,321048.626,11730.53, 575259.242,322615.364,13571.62, 574306.144,321296.693,15186.88))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo111"></a>
<a name="T5fGEOMETRY2fST5fLRS5fConcatenate"></a>
<h2>15.74.  T_GEOMETRY/ST_LRS_Concatenate [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Concatenate</strong> -- Rescales geometry measures and optionally offsets them, stretching the geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Concatenate</strong>(p_lrs_segment IN mdsys.sdo_geometry)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function appends the provided lrs segment to the SELF.
    Ensures measures are updated.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_lrs_segment (MDSYS.SDO_GEOMETRY) - LRS Linestring.
  RETURN
    concatenated linestring (<a href="#robo24">T_GEOMETRY</a>)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>     Simon Greener - Aug 2017 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo112"></a>
<a name="T5fGEOMETRY2fST5fLRS5fDim"></a>
<h2>15.75.  T_GEOMETRY/ST_LRS_Dim [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Dim</strong> -- Tests underlying mdsys.sdo_geometry to see if coordinates include a measure ordinate and returns measure ordinate's position.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <a href="#robo335">ST_Lrs_Dim</a>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (DLNN etc) measure ordinate position (L) and returns it.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (Integer) -- L from DLNN.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo113"></a>
<a name="T5fGEOMETRY2fST5fLRS5fEnd5fMeasure"></a>
<h2>15.76.  T_GEOMETRY/ST_LRS_End_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_End_Measure</strong> -- Returns M value of last vertex in measured geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_End_Measure</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns end measure associated with last vertex in a measured line-string.
    If the line-string is not measured it returns the length of the linestring.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_unit (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    measure (Number)  - Measure value of first vertex in a measured line-string: 0 if not measured.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo114"></a>
<a name="T5fGEOMETRY2fST5fLRS5fFind5fMeasure"></a>
<h2>15.77.  T_GEOMETRY/ST_LRS_Find_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Find_Measure</strong> -- Snaps input point to measured linestring returning measure value(s)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Find_Measure</strong>(p_geom     in mdsys.sdo_geometry,
                                        p_measureN in integer default 1,
                                        p_unit     in varchar2    default null)
             Return mdsys.sdo_ordinate_array Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given a point near a measured linestring, this function returns the measures
    of all lines that have same distance to the linestring.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geom     (MDSYS.SDO_GEOMETRY) - Geometry for which a measure is needed.
    p_measureN (Integer)            - Particular measure to be returned. 0 = all possible measures, 1 is the first etc.
    p_unit     (VarChar2)           - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    measure (MDSYS.SDO_ORDINATE_ARRAY) -- All measures where more than one is closest to line.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo115"></a>
<a name="T5fGEOMETRY2fST5fLRS5fFind5fMeasureN"></a>
<h2>15.78.  T_GEOMETRY/ST_LRS_Find_MeasureN [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Find_MeasureN</strong> -- Returns nominated measure nearest to supplied point if it exists.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Find_MeasureN</strong>(p_geom     in mdsys.sdo_geometry,
                                         p_measureN in integer default 1,
                                         p_unit     in varchar2    default null)
             Return mdsys.sdo_ordinate_array Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given a point near a measured linestring, this function returns the nominated
    measure nearest to that point if it exists. For example, requesting p_measureN=2
    may return NULL if only one measure exists that is closest to the linestring at some point.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geom     (MDSYS.SDO_GEOMETRY) - Geometry for which a measure is needed.
    p_measureN (Integer)            - Particular measure to be returned. 1..AllPossibleMeasures
    p_unit     (VarChar2)           - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    measure (Number) - First measure on line closest to point.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo116"></a>
<a name="T5fGEOMETRY2fST5fLRS5fFind5fOffset"></a>
<h2>15.79.  T_GEOMETRY/ST_LRS_Find_Offset [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Find_Offset</strong> -- Returns smallest (perpendicular) offset from supplied point to the linestring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Find_Offset</strong>(p_geom in mdsys.sdo_geometry,
                                       p_unit in varchar2    default null)
             Return Number Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given a point this function returns the smallest (perpendicular) offset from
    the point to the line-string.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_point (MDSYS.SDO_GEOMETRY) - Point geometry for which a measure is needed.
    p_unit  (VarChar2)           - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    offset (Number) - Perpendicular offset distance from point to nearest point on line.
                      Value is negative if on left of line; positive if on right.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo117"></a>
<a name="T5fGEOMETRY2fST5fLRS5fGet5fMeasure"></a>
<h2>15.80.  T_GEOMETRY/ST_LRS_Get_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Get_Measure</strong> -- The function returns the measure of the <a href="#robo24">T_GEOMETRY</a> point object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Get_Measure</strong>
             Return number deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns the measure value of a measured point.
    If point 3301, the value of the Z attribute is returned etc.
</pre>
<p class="item_name">RESULT</p>
<pre>    Measure Value (Number)       - Measure value of point (ie 3301, 4301, 4401). If n001 returns NULL.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo118"></a>
<a name="T5fGEOMETRY2fST5fLRS5fIntersection"></a>
<h2>15.81.  T_GEOMETRY/ST_LRS_Intersection [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Intersection</strong> -- Intersects input geometry against measured linestring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Intersection</strong>(P_GEOM In Mdsys.Sdo_Geometry,
                                        P_unit in varchar2 default null)
             Return t_geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Takes as input a linestring, multi-linestring, polygon, MultiPolygon or point.
    SELF must be a measured linestring.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geom (mdsys.sdo_geometry) - Geometry for which a intersection calculation is needed.
    p_unit           (VarChar2) - Oracle Unit of Measure eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    Geometry (<a href="#robo24">T_GEOMETRY</a>) - Measured Linestring or point
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jul 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo119"></a>
<a name="T5fGEOMETRY2fST5fLRS5fIs5fMeasure5fDecreasing"></a>
<h2>15.82.  T_GEOMETRY/ST_LRS_Is_Measure_Decreasing [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Is_Measure_Decreasing</strong> -- Checks if M values decrease in value over all of the linestring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Is_Measure_Decreasing</strong>
             Return varchar2 deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Checks all measures of all vertices in a linestring from start to end.
    Computes difference between each pair of measures. If all measure differences
    decrease then TRUE is returned, otherwise FALSE. For non-measured line-strings
    the value is always FALSE.
</pre>
<p class="item_name">RESULT</p>
<pre>    True/False (VarChar2) - TRUE if measures are decreasing, FALSE otherwise.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo120"></a>
<a name="T5fGEOMETRY2fST5fLRS5fIs5fMeasure5fIncreasing"></a>
<h2>15.83.  T_GEOMETRY/ST_LRS_Is_Measure_Increasing [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Is_Measure_Increasing</strong> -- Checks if M values increase in value over all of the linestring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Is_Measure_Increasing</strong>
             Return varchar2 deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Checks all measures of all vertices in a linestring from start to end.
    Computes difference between each pair of measures. If all measure differences
    increase then TRUE is returned, otherwise FALSE. For non-measured line-strings
    the value is always TRUE.
</pre>
<p class="item_name">RESULT</p>
<pre>    True/False (VarChar2) -- TRUE if measures are increasing, FALSE otherwise.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo121"></a>
<a name="T5fGEOMETRY2fST5fLRS5fIs5fShape5fPt5fMeasure"></a>
<h2>15.84.  T_GEOMETRY/ST_LRS_Is_Shape_Pt_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Is_Shape_Pt_Measure</strong> -- Checks if M value is associated with a vertex.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Is_Shape_Pt_Measure</strong>(p_measure in number)
             Return varchar2 deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Checks all measures of all vertices in a linestring from start to end to see
    if a measure on a shape vertex has the same measure value as p_measure.
    Uses measure increasing/decreasing to avoid having to test all vertices in linestring.
</pre>
<p class="item_name">RESULT</p>
<pre>    True/False (VarChar2) -- TRUE if measure exists at a shape vertex.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2017 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo122"></a>
<a name="T5fGEOMETRY2fST5fLRS5fisMeasured"></a>
<h2>15.85.  T_GEOMETRY/ST_LRS_isMeasured [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_isMeasured</strong> -- Tests geometry to see if coordinates include a measure.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_isMeasured</strong>
             Return Integer Deterministic,
    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual
    )
    select a.tgeom.<a href="#robo92">ST_GType</a>()          as sdo_gtype,
           a.tgeom.<a href="#robo91">ST_GeometryType</a>()   as geomType,
           a.tgeom.<a href="#robo62">ST_CoordDimension</a>() as coordDim,
           a.tgeom.<strong>ST_LRS_isMeasured</strong>() as isMeasured
      from data a;

    SDO_GTYPE GEOMTYPE       COORDDIM isMeasured
    --------- -------------- -------- ----------
            2 ST_LINESTRING         2          0
            2 ST_LINESTRING         3          0
            2 ST_LINESTRING         3          1
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (DLNN etc) to see if sdo_gtype has measure ordinate eg 3302 not 3002.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (Integer) -- 1 is measure ordinate exists, 0 otherwise.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo123"></a>
<a name="T5fGEOMETRY2fST5fLRS5fLocate5fAlong"></a>
<h2>15.86.  T_GEOMETRY/ST_LRS_Locate_Along [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Locate_Along</strong> -- Wrapper over <a href="#robo125">ST_LRS_Locate_Measure</a>
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Locate_Along</strong>(p_measure in number,
                                        p_offset  in number   default 0,
                                        p_unit    in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_measure (Number)   - Measure defining point to be located.
    p_offset  (Number)   - Offset value left (negative) or right (positive) in p_units.
    p_unit    (VarChar2) - Unit of measure for distance calculations when defining snap point
</pre>
<p class="item_name">RESULT</p>
<pre>    point (<a href="#robo24">T_GEOMETRY</a>) - Point at measure/offset.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    ST_Locate_Measure(p_measure in number, ...)
</pre>
<a name="robo124"></a>
<a name="T5fGEOMETRY2fST5fLRS5fLocate5fBetween"></a>
<h2>15.87.  T_GEOMETRY/ST_LRS_Locate_Between [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Locate_Between</strong> -- Converts supplied measures into single point or linestring.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Wrapper over <strong>ST_LRS_Locate_Between</strong>
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_start_measure (Number)   - Measure defining start point of located geometry.
    p_end_measure   (Number)   - Measure defining end point of located geometry.
    p_offset        (Number)   - Offset value left (negative) or right (positive) in p_units.
    p_unit          (VarChar2) - Unit of measure for distance calculations when defining snap point
</pre>
<p class="item_name">RESULT</p>
<pre>    point (<a href="#robo24">T_GEOMETRY</a>) - Point or Line between start/end measure with offset.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    ST_Locate_Measures(p_start_measure in number, ...)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<a name="robo125"></a>
<a name="T5fGEOMETRY2fST5fLRS5fLocate5fMeasure"></a>
<h2>15.88.  T_GEOMETRY/ST_LRS_Locate_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Locate_Measure</strong> -- Returns point geometry at supplied measure along linestring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Locate_Measure</strong> (p_measure in number,
                                           p_offset  in number   default 0,
                                           p_unit    in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given a measure or length, this function returns a mdsys.sdo_geometry point
    at that measure or offset the supplied amount.
</pre>
<p class="item_name">NOTES</p>
<pre>    Handles line-strings with reversed measures.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_measure (Number)   - Measure defining point to be located.
    p_offset  (Number)   - Offset value left (negative) or right (positive) in p_units.
    p_unit    (VarChar2) - Unit of measure for distance calculations when defining snap point
</pre>
<p class="item_name">RESULT</p>
<pre>    point (<a href="#robo24">T_GEOMETRY</a>) - Point at measure/offset.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo126"></a>
<a name="T5fGEOMETRY2fST5fLRS5fLocate5fMeasures"></a>
<h2>15.89.  T_GEOMETRY/ST_LRS_Locate_Measures [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Locate_Measures</strong> -- Converts supplied measures into single point or linestring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Locate_Measures</strong>(p_start_measure in number,
                                           p_end_measure   in number,
                                           p_offset        in number default 0,
                                           p_unit          varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given two measures or lengths, this function returns the point defined by
    those measure (if equal) or a line-string if not. The geometry may be offset
    the supplied amount.
</pre>
<p class="item_name">NOTES</p>
<pre>    Currently does not handle line-strings with reversed measures.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_start_measure (Number)   - Measure defining start point of located geometry.
    p_end_measure   (Number)   - Measure defining end point of located geometry.
    p_offset        (Number)   - Offset value left (negative) or right (positive) in p_units.
    p_unit          (VarChar2) - Unit of measure for distance calculations when defining snap point
</pre>
<p class="item_name">RESULT</p>
<pre>    point (<a href="#robo24">T_GEOMETRY</a>) - Point at measure/offset.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<a name="robo127"></a>
<a name="T5fGEOMETRY2fST5fLRS5fLocate5fPoint"></a>
<h2>15.90.  T_GEOMETRY/ST_LRS_Locate_Point [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Locate_Point</strong> -- Wrapper over <a href="#robo125">ST_LRS_Locate_Measure</a>
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Locate_Point</strong> (p_measure in number,
                                         p_offset  in number default 0)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given a measure or length, this function returns a mdsys.sdo_geometry point
    at that measure or offset the supplied amount.
</pre>
<p class="item_name">NOTES</p>
<pre>    Handles line-strings with reversed measures.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_measure (Number)   - Measure defining point to be located.
    p_offset  (Number)   - Offset value left (negative) or right (positive) in p_units.
</pre>
<p class="item_name">RESULT</p>
<pre>    point (<a href="#robo24">T_GEOMETRY</a>) - Point at measure/offset.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2017 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo128"></a>
<a name="T5fGEOMETRY2fST5fLRS5fMeasure5fRange"></a>
<h2>15.91.  T_GEOMETRY/ST_LRS_Measure_Range [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Measure_Range</strong> -- Returns Last Vertex M Value - First Vertex M Value.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Measure_Range</strong>(p_unit in varchar2 default null)
             Return Number deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns end vertex measure value - start vertex measure value.
    If line-string not measured, returns length of line.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_unit (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    measure (Number) -- Measure range for measured line-string: length if not measured.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo129"></a>
<a name="T5fGEOMETRY2fST5fLRS5fMeasure5fTo5fPercentage"></a>
<h2>15.92.  T_GEOMETRY/ST_LRS_Measure_To_Percentage [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Measure_To_Percentage</strong> -- Converts supplied M value to percentage of M range.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Measure_To_Percentage</strong>(p_measure IN Number DEFAULT 0,
                                                 p_unit    in varchar2 default null)
             Return Number deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The end measure minus the start measure of a measured line-string defines
    the range of the measures (see ST_Measure_Range). The supplied measure is
    divided by this range and multiplied by 100 to return the measure as a percentage.
    For non measured line-strings all values are computed using lengths.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_percentage (Number)   - Value between 0 and 100
    p_unit       (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    Percentage (Number) - Value between 0 and 100.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo130"></a>
<a name="T5fGEOMETRY2fST5fLRS5fPercentage5fTo5fMeasure"></a>
<h2>15.93.  T_GEOMETRY/ST_LRS_Percentage_To_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Percentage_To_Measure</strong> -- Converts supplied Percentage value to Measure.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Percentage_To_Measure</strong>(p_percentage IN Number DEFAULT 0,
                                                 p_unit       in varchar2 default null)
             Return Number deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The supplied percentage value (between 0 and 100) is multipled by
    the measure range (see ST_Measure_Range) to return a measure value between
    the start and end measures. For non measured line-strings all values are
    computed using lengths.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_percentage (Number)   - Value between 0 and 100
    p_unit       (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    Measure (Number) - Value between Start Measure and End Measure.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<a name="robo131"></a>
<a name="T5fGEOMETRY2fST5fLRS5fProject5fPoint"></a>
<h2>15.94.  T_GEOMETRY/ST_LRS_Project_Point [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Project_Point</strong> -- The function uses <a href="#robo191">ST_Snap</a> to snap a point to a linestring(2002) or multi-linestring (2006).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Project_Point</strong>(P_Point In Mdsys.Sdo_Geometry,
                                         p_unit  In varchar2 Default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This is a wrapper function for <a href="#robo191">ST_Snap</a>. The function uses <a href="#robo191">ST_Snap</a> to snap a point
    to a linestring(2002) or multi-linestring (2006).
    However, where <a href="#robo191">ST_Snap</a> may return more than one result point if p_point was
    equidistant from two separate segments/segments of the line-string, ST_Project_Point
    returns the first.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_point (MDSYS.SDO_GEOMETRY) - A point(2001) mdsys.sdo_geometry object describing the point for splitting the linestring.
    p_unit  (VarChar2)           - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    snapped_points (<a href="#robo17">T_GEOMETRIES</a>) -- One or more points where supplied point has snapped to the linestring.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo132"></a>
<a name="T5fGEOMETRY2fST5fLRS5fReset5fMeasure"></a>
<h2>15.95.  T_GEOMETRY/ST_LRS_Reset_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Reset_Measure</strong> -- Wipes all existing assigned measures.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Reset_Measure</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Sets all measures of a measured linesting to null values leaving sdo_gtype
    alone. So, 3302 remains 3302, but all measures are set to NULL eg
    Coord 2 of 10.23,5.75,2.65 =&gt; 10.23,5.75,NULL
</pre>
<p class="item_name">NOTES</p>
<pre>    This is not the same as <a href="#robo205">ST_To2D</a> which removes measures etc and returns a pure 2D (200x object).
</pre>
<p class="item_name">RESULT</p>
<pre>    linestring (<a href="#robo24">T_GEOMETRY</a>) -- All measures reset
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>     Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo133"></a>
<a name="T5fGEOMETRY2fST5fLRS5fReverse5fMeasure"></a>
<h2>15.96.  T_GEOMETRY/ST_LRS_Reverse_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Reverse_Measure</strong> -- Reverses vertices measures: first becomes last, second becomes second last etc.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Reverse_Measure</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Reverses vertices measures: first becomes last, second becomes second last etc.
    This is not the same as <a href="#robo171">ST_Reverse_Linestring</a> which reverses xy direction of whole linestring.
</pre>
<p class="item_name">RESULT</p>
<pre>    linestring (<a href="#robo24">T_GEOMETRY</a>) - All measures reversed
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>     Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo134"></a>
<a name="T5fGEOMETRY2fST5fLRS5fScale5fMeasures"></a>
<h2>15.97.  T_GEOMETRY/ST_LRS_Scale_Measures [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Scale_Measures</strong> -- Rescales geometry measures and optionally offsets them, stretching the geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Scale_Measures</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function can redistribute measure values between the supplied
    p_start_measure (start vertex) and p_end_measure (end vertex) by adjusting/scaling
    the measure values of all in between coordinates. In addition, if p_shift_measure
    is not 0 (zero), the supplied value is added to each modified measure value
    performing a translation/shift of those values.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_start_measure (Number) - Measure defining start point for geometry.
    p_end_measure   (Number) - Measure defining end point for geometry.
    p_shift_measure (Number) - Unit of measure for distance calculations.
  RETURN
    linestring (<a href="#robo24">T_GEOMETRY</a>) - All measures scales.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>     Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo135"></a>
<a name="T5fGEOMETRY2fST5fLRS5fStart5fMeasure"></a>
<h2>15.98.  T_GEOMETRY/ST_LRS_Start_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Start_Measure</strong> -- Returns M value of first vertex in measured geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Start_Measure</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns start measure associated with first vertex in a measured line-string.
    If the line-string is not measured it returns 0.
</pre>
<p class="item_name">RESULT</p>
<pre>    measure (Number) -- Measure value of first vertex in a measured line-string: 0 if 2D.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo136"></a>
<a name="T5fGEOMETRY2fST5fLRS5fUpdate5fMeasures"></a>
<h2>15.99.  T_GEOMETRY/ST_LRS_Update_Measures [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Update_Measures</strong> -- Updates existing measures.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Update_Measures</strong>(p_start_measure IN Number,
                                           p_end_measure   IN Number,
                                           p_unit          IN VarChar2 Default NULL)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Takes an existing measured linestring and updates all measures based on segment length/total length ratios.
</pre>
<p class="item_name">NOTES</p>
<pre>    Does not currently handle circular arc segments
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_start_measure (Number)   - Measure defining start point for geometry.
    p_end_measure   (Number)   - Measure defining end point for geometry.
    p_unit          (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- Measured geometry
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Aug 2017 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo137"></a>
<a name="T5fGEOMETRY2fST5fLRS5fValid5fGeometry"></a>
<h2>15.100.  T_GEOMETRY/ST_LRS_Valid_Geometry [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Valid_Geometry</strong> -- Checks if underlying LRS linestring is valid.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Valid_Geometry</strong>(p_diminfo in mdsys.sdo_dim_array)
             Return varchar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function returns TRUE string if underlying linestring is a valid LRS linestring and FALSE otherwise.
    The supplied SDO_DIM_ARRAY must have measure information with a SDO_DIMNAME of M (uppercase)
    This function checks that the geometry type is measured eg 3302 and has the right number of dimensions (dL0N)
    The function also checks that sdo_ordinate array has measure values within the range of the supplied diminfo structure.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_diminfo (mdsys.sdo_dim_array) - DIMINFO structure with a measure sdo_dim_element
</pre>
<p class="item_name">TODO</p>
<pre>    Current implementation does NOT examine the supplied diminfo array.
</pre>
<p class="item_name">RESULT</p>
<pre>    TRUE/FASE (string) - TRUE if LRS linestring is Valid, FALSE otherwise.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo138"></a>
<a name="T5fGEOMETRY2fST5fLRS5fValid5fMeasure"></a>
<h2>15.101.  T_GEOMETRY/ST_LRS_Valid_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Valid_Measure</strong> -- Checks if supplied measure falls within the linestring's measure range.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Valid_Measure</strong>(p_measure in number)
             Return varchar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function returns TRUE string if measure falls within the underlying linestring's measure range
    or the FALSE string if the supplied measure does not fall within the measure range.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_measure (number) - Measure value.
</pre>
<p class="item_name">RESULT</p>
<pre>    TRUE/FASE (string) - TRUE if measure within range, FALSE otherwise.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo139"></a>
<a name="T5fGEOMETRY2fST5fLRS5fValid5fPoint"></a>
<h2>15.102.  T_GEOMETRY/ST_LRS_Valid_Point [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Valid_Point</strong> -- Checks if underlying LRS point is valid.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Valid_Point</strong>(p_diminfo in mdsys.sdo_dim_array)
             Return varchar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function returns TRUE string if point is valid and FALSE if point is not valid.
    A valid LRS point has measure information. It is checkeds for the geometry type
    (point) and the number of dimensions.
    The Oracle equivalent for this function requires that "All LRS point data must be
    stored in the SDO_ELEM_INFO_ARRAY and SDO_ORDINATE_ARRAY, and cannot be stored in
    the SDO_POINT field in the SDO_GEOMETRY definition of the point", however, this
    implementation allows for the storage of 3301 Points within the SDO_POINT_TYPE structure.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_diminfo (mdsys.sdo_dim_array) - DIMINFO structure with a measure sdo_dim_element
</pre>
<p class="item_name">TODO</p>
<pre>    Current implementation does NOT examine the supplied diminfo array.
</pre>
<p class="item_name">RESULT</p>
<pre>    TRUE/FASE (string) - TRUE if LRS POint is Valid, FALSE otherwise.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo140"></a>
<a name="T5fGEOMETRY2fST5fLRS5fValid5fSegment"></a>
<h2>15.103.  T_GEOMETRY/ST_LRS_Valid_Segment [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Valid_Segment</strong> -- Checks if underlying LRS linestring is valid.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Valid_Segment</strong>(p_diminfo in mdsys.sdo_dim_array)
             Return varchar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function returns TRUE string if underlying linestring is a valid LRS linestring and FALSE otherwise.
    The supplied SDO_DIM_ARRAY must have measure information with a SDO_DIMNAME of M (uppercase)
    This function only checks that the geometry type is measured eg 3302 and the linestring dims (dL0N)
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_diminfo (mdsys.sdo_dim_array) - DIMINFO structure with a measure sdo_dim_element
</pre>
<p class="item_name">TODO</p>
<pre>    Current implementation does NOT examine the supplied diminfo array.
</pre>
<p class="item_name">RESULT</p>
<pre>    TRUE/FASE (string) - TRUE if LRS linestring is Valid, FALSE otherwise.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo141"></a>
<a name="T5fGEOMETRY2fST5fMBR"></a>
<h2>15.104.  T_GEOMETRY/ST_MBR [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_MBR</strong> - Returns lower left and upper right coordinates of underlying geometry's minimum bounding rectangle (MBR).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_MBR</strong>
             Return <a href="#robo24">T_GEOMETRY</a> Determinsitic
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Geometry(sdo_geometry('LINESTRING(0 0,0.1 0.1,0.5 0.5,0.8 0.8,1 1)',NULL),0.005,2,1).<strong>ST_MBR</strong>().geom as mbrGeom
      from dual;

    MBRGEOM
    --------------------------------------------------------------------------------------
    SDO_GEOMETRY(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(0,0,1,1))
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a non-NULL geometry, this function returns the envelope or minimum bounding rectangle as a polygon geometry with one optimized rectangle exterior ring.
</pre>
<p class="item_name">RESULT</p>
<pre>    MBR Geometry (<a href="#robo24">T_GEOMETRY</a>) -- Single Polygon with Optimized Rectangle Exterior Ring.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2011 - Converted to <a href="#robo24">T_GEOMETRY</a> from GEOM package.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo142"></a>
<a name="T5fGEOMETRY2fST5fMulti"></a>
<h2>15.105.  T_GEOMETRY/ST_Multi [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Multi</strong> -- Converts any single sdo_geometry (point, line or polygon) to its multi equivalent (multipoint, multiline, multipolygon).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Multi</strong> ()
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Determinstic
</pre>
<p class="item_name">RESULT</p>
<pre>    MultiGeometry (<a href="#robo24">T_GEOMETRY</a>) -- If not already a multi geometry, returns multi-geometry object with 1 geometry;
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Converts underlying sdo_geometry objects that are single geometries (eg sdo_gtype of X001, X002, X003) to its multi equivalent (X005,X006,X007).
    Note that what is returned is a multi geometry with a one internal geometry.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With Data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,1),sdo_ordinate_array(0,0,20,0,20,20,0,20,0,0)),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,1,11,2003,1),sdo_ordinate_array(0,0,20,0,20,20,0,20,0,0, 5,5,5,10,10,10,10,5,5,5)),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),
                                                   ((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
        From Dual
    )
    select case when a.tgeom.<a href="#robo92">ST_GType</a>() = 1  -- <a href="#robo326">ST_AsText</a>() converts 2005 with one point to POINT()
                then a.tgeom.<strong>ST_Multi</strong>().<a href="#robo50">ST_AsTText</a>()
                else a.tgeom.<strong>ST_Multi</strong>().<a href="#robo326">ST_AsText</a>()
            end as mGeom
      from data a;

    MGEOM
    --------------------------------------------------------------------------------------------------------------
    &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a>(SDO_GEOMETRY(2005,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1,1),SDO_ORDINATE_ARRAY(0,0)); TOLERANCE(05)
    MULTILINESTRING ((0 0, 10 0, 10 5, 10 10, 5 10, 5 5))
    MULTILINESTRING ((-1 -1, 0 -1), (0 0, 10 0, 10 5, 10 10, 5 10, 5 5))
    MULTIPOLYGON (((0 0, 20 0, 20 20, 0 20, 0 0)))
    MULTIPOLYGON (((0 0, 20 0, 20 20, 0 20, 0 0)), ((10 10, 10 11, 11 11, 11 10, 10 10)))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June 2016 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo143"></a>
<a name="T5fGEOMETRY2fST5fMulti5fCentroid"></a>
<h2>15.106.  T_GEOMETRY/ST_Multi_Centroid [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Multi_Centroid</strong> -- Computes centroid for all parts of supplied multilinestring or multipolygon.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>      Member Function <strong>ST_Multi_Centroid</strong>(
                        p_method IN integer  := 1,
                        p_unit   IN varchar2 := NULL
                      )
               Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic;
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    For an underlying MultiPolygon this function creates a single centroid for each polygon in it, returning a MultiPoint geometry object.
    For a MultiPolygon this function calls <a href="#robo55">ST_Centroid_A</a> with only the following p_method values:
       0 = Use average of all Area's X Ordinates for starting centroid Calculation
      10 = Use average of all Area's Y Ordinates for starting centroid Calculation
       1 = Use centre X Ordinate of geometry MBR
      11 = Use centre Y Ordinate of geometry MBR
       3 = Use MDSYS.SDO_GEOM.SDO_CENTROID function
       4 = Use MDSYS.SDO_GEOM.SDO_POINTONSURFACE function.
    For an underlying MultiLineString this function creates a single centroid for each linestring in it, returning a MultiPoint geometry object.
    For a MultiLineString this function calls <a href="#robo56">ST_Centroid_L</a> with the p_option set to 'MULTI'.
    Since <a href="#robo56">ST_Centroid_L</a> can take a p_unit value, it is exposed in this function.
</pre>
<p class="item_name">RESULT</p>
<pre>    multipoint (<a href="#robo24">T_GEOMETRY</a>) - Centroids of all parts of the supplied MultiPolygon/MultiLineString object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- MultiCentroid for MultiPolygon
    with data as (
    select t_geometry (
             SDO_GEOMETRY(2007,NULL,NULL,
                          SDO_ELEM_INFO_ARRAY(1,1003,1,11,1003,1),
                          SDO_ORDINATE_ARRAY(0,0,100,0,100,100,0,100,0,0,1000,1000,1100,1000,1100,1100,1000,1100,1000,1000.0)),
             0.005,2,1)
             as tGeom
      from dual
    )
    select a.tGeom
            .<strong>ST_Multi_Centroid</strong>(p_method =&gt; 0)
            .<a href="#robo326">ST_AsText</a>() as mCentroid
      from data a;

    MCENTROID
    ---------------------------------
    MULTIPOINT ((40 50), (1040 1050))

    -- MutiCentroid for MultiLineString
    with data as (
    select t_geometry (
             SDO_GEOMETRY(2006,NULL,NULL,
                          SDO_ELEM_INFO_ARRAY(1,2,1,11,2,1),
                          SDO_ORDINATE_ARRAY(0,0,100,0,100,100,0,100,0,0,1000,1000,1100,1000,1100,1100,1000,1100,1000,1000.0)),
             0.005,2,1)
             as tGeom
      from dual
    )
    select a.tGeom
            .<strong>ST_Multi_Centroid</strong>()
            .<a href="#robo326">ST_AsText</a>() as mCentroid
      from data a;

    MCENTROID
    -----------------------------------
    MULTIPOINT ((100 100), (1100 1100))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2006 - Original coding.
    Simon Greener - January 2012 - Added p_seed_x support.
    Simon Greener - August  2018 - Added to <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo144"></a>
<a name="T5fGEOMETRY2fST5fNumElementInfo"></a>
<h2>15.107.  T_GEOMETRY/ST_NumElementInfo [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_NumElementInfo</strong> -- Returns number of SDO_ELEM_INFO triplets that describe geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_NumElementInfo</strong>
             Return Integer deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If a geometry is coded with an SDO_ELEM_INFO_ARRAY this function will count the number of triplets that describe the geometry.
    For Example:
      1. sdo_geometry(2002,null,null,sdo_element_info_array(1,2,1),sdo_ordinate_array(0,0,1,1)) is described by 1 triplet.
      2. sdo_geometry(2003,null,null,sdo_element_info_array(1,1003,1,9,2003,1),sdo_ordinate_array(....)) is described by 2 triplets.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With GEOMETRIES As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2007,NULL,NULL,sdo_elem_info_array (1,1005,2, 1,2,1, 7,2,2,13,1003,3),
                                     sdo_ordinate_array (10,128, 10,125, 20,125, 20,128, 15,130, 10,128, 0,0, 10,10)),0.005,3,1) as TGEOM
        From Dual Union All
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2002,NULL,NULL,sdo_elem_info_array (1,4,3, 1,2,1, 3,2,2, 7,2,1),
                                     sdo_ordinate_array (10,45, 20,45, 23,48, 20,51, 10,51)),0.005,3,1) as TGEOM
       From Dual
    )
    Select a.TGEOM.<strong>ST_NumElementInfo</strong>() as NumElementInfoTriplets
      From GEOMETRIES a;
</pre>
<p class="item_name">RESULT</p>
<pre>    Number of sdo_elem_info triplets (Integer)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2006 - Original coding in GEOM package.
    Simon Greener - Jan 2013 - Port to <a href="#robo24">T_GEOMETRY</a> object.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo145"></a>
<a name="T5fGEOMETRY2fST5fNumElements"></a>
<h2>15.108.  T_GEOMETRY/ST_NumElements [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_NumELems -- Returns number of top level elements of the underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_NumElements</strong>()
             Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Wrapper over SDO_UTIL.GETNUMELEM().
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With GEOMETRIES As (
      Select <a href="#robo24">T_GEOMETRY</a>(
               mdsys.sdo_geometry(2007,NULL,NULL,mdsys.sdo_elem_info_array (1,1005,2, 1,2,1, 7,2,2,13,1003,3),
                                 mdsys.sdo_ordinate_array (10,128, 10,125, 20,125, 20,128, 15,130, 10,128, 0,0, 10,10)),0.005,3,1) as TGEOM
        From Dual Union All
      Select <a href="#robo24">T_GEOMETRY</a>(
               mdsys.sdo_geometry(2002,NULL,NULL,mdsys.sdo_elem_info_array (1,4,3, 1,2,1, 3,2,2, 7,2,1),
                                  mdsys.sdo_ordinate_array (10,45, 20,45, 23,48, 20,51, 10,51)),0.005,3,1) as TGEOM
       From Dual
    )
    Select a.TGEOM.<strong>ST_NumElements</strong>() as NumElements
      From GEOMETRIES a;

    NUMELEM
    -------
          2
          1
</pre>
<p class="item_name">RESULT</p>
<pre>    Required Element Count (Integer)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2006 - Original coding in GEOM package.
    Simon Greener - Jan 2013 - Port to <a href="#robo24">T_GEOMETRY</a> object.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo146"></a>
<a name="T5fGEOMETRY2fST5fNumGeometries"></a>
<h2>15.109.  T_GEOMETRY/ST_NumGeometries [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_NumGeometries</strong> -- Returns number of top level geometry elements in underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_NumGeometries</strong>()
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function is a wrapper over MdSys.SDO_Util.getNumElem().
    Returns number of geometry elements (eg LineString in MultiLineString) that describe the underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC ST_NumGeometies method.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
        From Dual
    )
    select a.tgeom.<strong>ST_NumGeometries</strong>() as numGeometries
      from data a;

    NUMGEOMETRIES
    -------------
                2
</pre>
<p class="item_name">RESULT</p>
<pre>    number of geometries (Integer) -- For example, if Point(2001), returns 1.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Aug 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo147"></a>
<a name="T5fGEOMETRY2fST5fNumInteriorRing"></a>
<h2>15.110.  T_GEOMETRY/ST_NumInteriorRing [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_NumInteriorRing</strong> -- Returns number of interior rings in underlying polygon mdsys.sdo_geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_NumInteriorRing</strong>()
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes the number of interior rings by processing the sdo_elem_info array in the underlying sdo_geometry object.
    Returns number of inner ring elements of a polygon or multipolygon.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC <strong>ST_NumInteriorRing</strong> method.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
        From Dual
    )
    select a.tgeom.<strong>ST_NumInteriorRing</strong>() as NumInteriorRings
      from data a;

    NUMINTERIORRINGS
    ----------------
                   2
</pre>
<p class="item_name">RESULT</p>
<pre>    Number of interior rings (Integer) -- For example, if Polygon with 1 exterior and 1 interior ring then 1 is returned.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Aug 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo148"></a>
<a name="T5fGEOMETRY2fST5fNumPoints"></a>
<h2>15.111.  T_GEOMETRY/ST_NumPoints [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_NumPoints</strong> -- Returns number of points (coordinates) in underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_NumPoints</strong>()
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function is the same as <a href="#robo153">ST_NumVertices</a>.
    It is implemented using the MdSys.SDO_Util.GetNumVertices() function.
    The function returns number of points (coordinates) that describe the underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is an implementation of OGC <strong>ST_NumPoints</strong> method.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With Geometries As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5))',null),0.005,3,1) as TPolygon
       From Dual
    )
    select a.TPolygon.<strong>ST_NumPoints</strong>() as NumPoints
      from GEOMETRIES a;
    NUMPOINTS
    ---------
           15
</pre>
<p class="item_name">RESULT</p>
<pre>    number of points (Integer) -- For example, if Point(2001), returns 1.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo149"></a>
<a name="T5fGEOMETRY2fST5fNumRectangles"></a>
<h2>15.112.  T_GEOMETRY/ST_NumRectangles [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_NumRectangles</strong> -- A function that returns the number of optimized rectangles in the underlying (multi)polygon geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_NumRectangles</strong>
             Return integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines sdo_elem_info ETYPE/Interpretation elements to count the number of optimized rectangles it finds.
    eg SDO_ELEM_INFO_ARRAY(1,1003,3) ie the interpretation value of 3 means optimized rectangle.
</pre>
<p class="item_name">RESULT</p>
<pre>    Count (integer) -- 0 if no optimized rectangles, n where n &gt; 0 if optimized rectangles found.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0))',null),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3),sdo_ordinate_array(0,0,20,20)),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3,5,2003,3),sdo_ordinate_array(0,0,20,20, 10,10,15,15)),0.005,3,1) as tgeom
        From Dual
    )
    select a.tgeom.<strong>ST_NumRectangles</strong>() as numRectangles
      from data a;

    NUMRECTANGLES
    -------------
                0
                1
                2
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jun 2011 - Original coding for GEOM package.
    Simon Greener - Jan 2013 - Recoded for <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo150"></a>
<a name="T5fGEOMETRY2fST5fNumRings"></a>
<h2>15.113.  T_GEOMETRY/ST_NumRings [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_NumRings</strong> -- Returns Number of Rings of specified type in a polygon/mutlipolygon.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_NumRings</strong> (
                       p_ring_type in integer default 0
                    )
             Return integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    A polygon can have a single outer ring with no inner rings (holes) or it can have holes.
    A multipolygon can have multiple outer rings each with/without inner rings.
    This method counts the number of rings of the desired type as defined by the input parameter.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_ring_type : integer : 0 - Count all (inner and outer) rings; 1 Count only outer rings; 2 - Count only inner rings.
</pre>
<p class="item_name">RESULT</p>
<pre>    Number Of Rings (Integer)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Dec 2008 - Original coding for GEOM package.
    Simon Greener - Jan 2013 - Port to <a href="#robo24">T_GEOMETRY</a> object.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo151"></a>
<a name="T5fGEOMETRY2fST5fNumSegments"></a>
<h2>15.114.  T_GEOMETRY/ST_NumSegments [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_NumSegments</strong> -- Returns number of two-point segments in the underlying linear or polygon geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_NumSegments</strong>()
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns number of two-point segments of a polygon or multipolygon.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTILINESTRING((-1 -1, 0 -1),(0 0,10 0,10 5,10 10,5 10,5 5))',null),0.005,3,1) as tgeom From Dual union all
      select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom From Dual
    )
    select a.tgeom.<a href="#robo91">ST_GeometryType</a>()    as gType,
           a.tGeom.<a href="#robo146">ST_NumGeometries</a>()   as numGeoms,
           a.tGeom.<a href="#robo147">ST_NumInteriorRing</a>() as numIRings,
           a.tgeom.<a href="#robo148">ST_NumPoints</a>()       as numPoints,
           a.tgeom.<strong>ST_NumSegments</strong>()     as NumSegments
      from data a;

    GTYPE               NUMGEOMS  NUMIRINGS  NUMPOINTS NUMSEGMENTS
    ------------------- -------- ---------- ---------- -----------
    ST_LINESTRING              1          0          6           5
    ST_MULTILINESTRING         2          0          8           6
    ST_POLYGON                 1          1         10           8
    ST_MULTIPOLYGON            2          0         10           8
    ST_MULTIPOLYGON            2          2         20          16
</pre>
<p class="item_name">RESULT</p>
<pre>    Number of 2-point segments (Integer) -- For example, if LINESTRING has 6 vertices it has 5 segments.
</pre>
<p class="item_name">TODO</p>
<pre>    Support for CircularString elements.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Sept 2015 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo152"></a>
<a name="T5fGEOMETRY2fST5fNumSubElements"></a>
<h2>15.115.  T_GEOMETRY/ST_NumSubElements [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_NumSubElements</strong> -- Interprets underlying mdsys.sdo_geometry's SDO_ELEM_INFO array returning either total count of elements or just underlying sub-elements.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_NumSubElements</strong>(p_subArcs in integer default 0)
             Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If a geometry is coded with an SDO_ELEM_INFO_ARRAY this function will examine the triplets that describe
    each element and returns one of counts depending on the input parameter.
    If the input parameter is 0 all elements are counted: For example is a single polygon has a single outer ring (1),
    but that ring is coded with vertex-connected and circular-arc segments (2), then 1 + 2 =3 is returned.
    If 1 is the supplied input only the number of sub-elements that describe the outer ring are counted and returned.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With geometries as (
      select t_geometry(sdo_geometry(2003,null,null,
                                     sdo_elem_info_array (1,1005,2, 1,2,1, 7,2,2),
                                     sdo_ordinate_array (10,128, 10,125, 20,125, 20,128, 15,130, 10,128)),
                        0.005,3,1) as tgeom
        from dual
      union all
      select t_geometry(sdo_geometry(2002,null,null,
                                     sdo_elem_info_array (1,4,3, 1,2,1, 3,2,2, 7,2,1),
                                     sdo_ordinate_array (10,45, 20,45, 23,48, 20,51, 10,51)),
                        0.005,3,1) as tgeom
        from dual
    )
    select a.tgeom.<a href="#robo92">ST_GType</a>() as gType,
           a.tgeom.<strong>ST_NumSubElements</strong>(0) as allElems,
           a.tgeom.<strong>ST_NumSubElements</strong>(1) as lowElems,
           a.tgeom.<strong>ST_NumSubElements</strong>(0) - a.tgeom.<strong>ST_NumSubElements</strong>(1) as TopElems
      from geometries a;

         GTYPE   ALLELEMS   LOWELEMS   TOPELEMS
    ---------- ---------- ---------- ----------
             3          3          2          1
             2          4          3          1
</pre>
<p class="item_name">RESULT</p>
<pre>    Required Element Count (Integer)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2006 - Original coding in GEOM package.
    Simon Greener - Jan 2013 - Port to <a href="#robo24">T_GEOMETRY</a> object.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo153"></a>
<a name="T5fGEOMETRY2fST5fNumVertices"></a>
<h2>15.116.  T_GEOMETRY/ST_NumVertices [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_NumVertices</strong> -- Returns number of vertices (coordinates) in underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_NumVertices</strong>()
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function is a wrapper over MdSys.SDO_Util.GetNumVertices(). Returns number of vertices (coordinates) that describe the underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With Geometries As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5))',null),0.005,3,1) as TPolygon
       From Dual
    )
    select a.TPolygon.<strong>ST_NumVertices</strong>() as numVertices
      from GEOMETRIES a;

    NUMVERTICES
    -----------
             15
</pre>
<p class="item_name">RESULT</p>
<pre>    number of vertices (Integer) -- For example, if Point(2001), returns 1.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo154"></a>
<a name="T5fGEOMETRY2fST5fOneSidedBuffer"></a>
<h2>15.117.  T_GEOMETRY/ST_OneSidedBuffer [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_OneSidedBuffer</strong> -- Creates a square buffer to left or right of a linestring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_OneSidedBuffer</strong>(p_distance in number,
                                      p_curved   in number default 0,
                                      p_unit     in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function creates a square buffer to left or right of a linestring.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_distance (Number)   - if &lt; 0 then left side buffer; if &gt; 0 then right sided buffer.
    p_curved   (Number)   - 0 = no; 1 = yes for angles in linestring (See <a href="#robo157">ST_Parallel</a>)
    p_unit     (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) - Result of one sided buffering of a linestring.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo155"></a>
<a name="T5fGEOMETRY2fST5fOrd2SdoPoint"></a>
<h2>15.118.  T_GEOMETRY/ST_Ord2SdoPoint [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Ord2SdoPoint</strong> -- Changes point encoding from SDO_ELEM_INFO_ARRAY/SDO_ORDINATE_ARRAY to SDO_POINT_TYPE.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>   Function <strong>ST_Ord2SdoPoint</strong>
     Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Converts underlying point encoded in SDO_ELEM_INFO_ARRAY/SDO_ORDINATE_ARRAY
    elements to one encoded in SDO_POINT_TYPE element.
    Gives precidence to measure where exists and point is 4D.
</pre>
<p class="item_name">RESULT</p>
<pre>    SELF (TO_GEOMETRY) -- Original Point with structure changed.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select &amp;&amp;INSTALL_SCHEMA..T_Geometry(SDO_GEOMETRY(2005, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1, 1), SDO_ORDINATE_ARRAY(10.719, 8.644)),0.005,3,1)
                           .<strong>ST_Ord2SdoPoint</strong>()
                           .geom as geom 
     from dual;
    
    GEOM
    -------------------------------------------------------------------------
    SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(10.719, 8.644, NULL), NULL, NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener, Jul 2017 - New Method.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo156"></a>
<a name="T5fGEOMETRY2fST5fOrdinates5fEqual"></a>
<h2>15.119.  T_GEOMETRY/ST_Ordinates_Equal [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Ordinates_Equal</strong> -- Compares current object (SELF) geometry's GEOM.sdo_ordinates with supplied mdsys.sdo_ordinate_array
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Ordinates_Equal</strong>(p_ordinates   in mdsys.sdo_ordinate_array,
                                       p_z_precision in integer default 2,
                                       p_m_precision in integer default 3)
             Return Integer deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function compares current t_geometry object' SELF.GEOM.SDO_ORDINATES object to supplied p_ordinates.
    Result can be one of the following:
       0 if one or other sdo_ordinates structures are null but not both.
       1 if two non-null structures and all ordinates are equal;
      -1 if sdo_ordinates's X/Y/Z/M ordinates not equal
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_ordinates (sdo_ordinate_array) -- p_ordinate that is to be compared to current object geometry's SELF.GEOM.Sdo_Ordinate_Array element.
    p_z_precision          (integer) -- Z Ordinate precision for comparison using ROUND
    p_m_precision          (integer) -- M Ordinate precision for comparison using ROUND
</pre>
<p class="item_name">RESULT</p>
<pre>    -1,0,1 (Integer) --  0 if one or other sdo_ordinates structure is null but not both.
                     --  1 if two non-null structures and all ordinates are equal;
                     -- -1 if any of the sdo_ordinates's X/Y/Z/M ordinates not equal.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo157"></a>
<a name="T5fGEOMETRY2fST5fParallel"></a>
<h2>15.120.  T_GEOMETRY/ST_Parallel [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Parallel</strong> -- Moves linestring parts of underlying Geometry left (-ve) or right (+ve)  depending of distance value.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Parallel</strong>(p_offset in number,
                                p_curved in number default 0,
                                p_unit   in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that moves the linestring components of the underlying mdsys.sdo_geometry left/right by a fixed amount.
    Bends in the linestring, when moved, can remain vertex-connected or be converted to curves.
    Does not handle situations where supplied distance results in a segment disappearing.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_offset  (Number) - Value +/- integer value.
    p_curved (Integer) - Boolean flag
    p_unit  (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- Input geometry moved parallel by p_distance units
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2008 - Original coding in GEOM package.
    Simon Greener - January 2013  - Port/Rewrite to <a href="#robo24">T_GEOMETRY</a> object function member.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo158"></a>
<a name="T5fGEOMETRY2fST5fPointN"></a>
<h2>15.121.  T_GEOMETRY/ST_PointN [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_PointN</strong> -- Returns point (coordinate) at position p_point in underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_PointN</strong>(p_point in integer)
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Deterministic,
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_point (integer) -- Point number between 1 and <a href="#robo148">ST_NumPoints</a>().
</pre>
<p class="item_name">RESULT</p>
<pre>    Point (<a href="#robo24">T_GEOMETRY</a>) -- Point at position p_point.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns p_point point within underlying geometry.
    p_point should be between 1 and <a href="#robo148">ST_NumPoints</a>().
    p_point can be -1 which means the last point.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5))',null),0.005,3,1) as TPolygon
        From Dual
    )
    select a.TPolygon.<strong>ST_PointN</strong>(-1).<a href="#robo326">ST_AsText</a>() as PointN
      from data a;

    POINTN
    ---------------
    POINT (5.0 5.0)

    With data As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,20 0,20 20,10 20,0 20)',null),0.005,3,1) as tLine
        From Dual
    )
    select t.IntValue as PointId,
           a.tLine.<strong>ST_PointN</strong>(t.IntValue).<a href="#robo326">ST_AsText</a>() as Point
      from data a,
           table(tools.generate_series(1,a.tLine.<a href="#robo153">ST_NumVertices</a>(),1)) t;

    POINTID POINT
    ------- ------------------
          1 POINT (0.0 0.0)
          2 POINT (20.0 0.0)
          3 POINT (20.0 20.0)
          4 POINT (10.0 20.0)
          5 POINT (0.0 20.0)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo159"></a>
<a name="T5fGEOMETRY2fST5fPolygon2Line"></a>
<h2>15.122.  T_GEOMETRY/ST_Polygon2Line [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Polygon2Line</strong> -- Converts Polygon or MultiPolygon rings to equivalent linestrings.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Polygon2Line</strong>()
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Determinstic
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) -- Returns polygon with rings converted to linestrings.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Converts polygon rings to linestrings via MDSYS.SDO_UTIL.PolygonToLine function.
    Behavious is identical to underlying function.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With Data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,1),sdo_ordinate_array(0,0,20,0,20,20,0,20,0,0)),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,1,11,2003,1),sdo_ordinate_array(0,0,20,0,20,20,0,20,0,0, 5,5,5,10,10,10,10,5,5,5)),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),
                                                   ((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
        From Dual
    )
    select a.tgeom.<strong>ST_Polygon2Line</strong>().<a href="#robo326">ST_AsText</a>() as line
      from data a;

    LINE
    --------------------------------------------------------------------------------------------------------------------------------------------------------------
    LINESTRING (0 0, 20 0, 20 20, 0 20, 0 0)
    MULTILINESTRING ((0 0, 20 0, 20 20, 0 20, 0 0), (5 5, 5 10, 10 10, 10 5, 5 5))
    MULTILINESTRING ((0 0, 20 0, 20 20, 0 20, 0 0), (10 10, 10 11, 11 11, 11 10, 10 10), (5 5, 5 7, 7 7, 7 5, 5 5), (100 100, 200 100, 200 200, 100 200, 100 100))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June 2016 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo160"></a>
<a name="T5fGEOMETRY2fST5fPolygon2Rectangle"></a>
<h2>15.123.  T_GEOMETRY/ST_Polygon2Rectangle [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Polygon2Rectangle</strong> -- Converts optimized rectangles (rings) coded as 5 vertex/point polygons to rectangles.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Polygon2Rectangle</strong>()
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Determinstic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Converts any optimized rectangle equivalent 4 point polygon rings to their optimized rectangle equivalent.
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) -- Returns polygon with rings converted to optimized rectangles where possible.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With Data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,1),sdo_ordinate_array(0,0,20,0,20,20,0,20,0,0)),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,1,11,2003,1),sdo_ordinate_array(0,0,20,0,20,20,0,20,0,0, 5,5,5,10,10,10,10,5,5,5)),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),
                                                   ((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
        From Dual
    )
    select a.tgeom.<strong>ST_Polygon2Rectangle</strong>().geom as tPoly
      from data a;

    TPOLY
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(0,0,20,20))
    SDO_GEOMETRY(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3,5,2003,3),SDO_ORDINATE_ARRAY(0,0,20,20,5,5,10,10))
    SDO_GEOMETRY(2007,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3, 5,2003,3, 9,2003,3, 13,1003,3),SDO_ORDINATE_ARRAY(0,0, 20,20, 10,10, 11,11, 5,5, 7,7, 100,100, 200,200))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June 2016 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo161"></a>
<a name="T5fGEOMETRY2fST5fRectangle"></a>
<h2>15.124.  T_GEOMETRY/ST_Rectangle [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Rectangle</strong> -- Creates a rectangle polygon around all point objects within the underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Rectangle</strong>(p_length in number,
                                 p_width  in number)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that creates a rectangle/polygon geometry around each point in the underlying point/multipoint mdsys.sdo_geometry.
    As there is no angle parameter, the rectangles are oriented to the XY axes.
    If the rectangles need to be rotated, consider using ST_Rotate until such time that this function is modified to support angles.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_length (Number)   - +ve value that describes the longest side of the retangle.
    p_width  (Number)   - +ve value that describes the shortest side of the retangle.
</pre>
<p class="item_name">NOTES</p>
<pre>    Only supports point or multipoint geometries.
    If geometry is measured, measure will be lost.
</pre>
<p class="item_name">TODO</p>
<pre>    Add support for rotating the rectangles by adding a p_angle and a p_unit parameter.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- (Multi)Polygon geometry where all input vertices are converted to rectangles.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013  - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo162"></a>
<a name="T5fGEOMETRY2fST5fRectangle2Polygon"></a>
<h2>15.125.  T_GEOMETRY/ST_Rectangle2Polygon [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Rectangle2Polygon</strong> -- Converts Single Optimized Rectangle Exterior Ring Polygon element to its 5 vertex polygons.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Rectangle2Polygon</strong>()
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Determinstic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Converts a single exterior ring polygon described by an optimized rectangle to its 5 vertex equivalent polygon equivalent.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3),sdo_ordinate_array(0,0,20,20)),0.005,3,1) as tgeom
        From Dual union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2003,NULL,NULL,sdo_elem_info_array(1,1003,3,5,2003,3),sdo_ordinate_array(0,0,20,20, 10,10,15,15)),0.005,3,1) as tgeom
        From Dual Union All
       Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(2007,NULL,NULL,sdo_elem_info_array(1,1003,3, 5,2003,3, 9,2003,3, 13,1003,3),sdo_ordinate_array(0,0,20,20, 10,10,11,11, 5,5,7,7, 100,100,200,200)),0.005,1,1) as tgeom
         From Dual
    )
    select a.tGeom.<a href="#robo145">ST_NumElements</a>()                   as numElements,
           a.tGeom.<a href="#robo150">ST_NumRings</a>()                      as numRings,
           a.tgeom.<strong>ST_Rectangle2Polygon</strong>().<a href="#robo326">ST_AsText</a>() as tPoly
      from data a;

    NUMELEMENTS NUMRINGS TPOLY
    ----------- -------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------
              1          1 POLYGON ((0 0, 20 0, 20 20, 0 20, 0 0))
              1          2 MULTIPOLYGON (((0 0, 20 0, 20 20, 0 20, 0 0), (10 10, 10 15, 15 15, 15 10, 10 10)))
              2          4 MULTIPOLYGON (((0 0, 20 0, 20 20, 0 20, 0 0), (10 10, 10 11, 11 11, 11 10, 10 10), (5 5, 5 7, 7 7, 7 5, 5 5)), ((100 100, 200 100, 200 200, 100 200, 100 100)))
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) -- Returns 5 vertex polygon.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June 2016 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo163"></a>
<a name="T5fGEOMETRY2fST5fReduce"></a>
<h2>15.126.  T_GEOMETRY/ST_Reduce [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Reduce</strong> -- Function that can shorten underlying linestring at one or both ends.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Reduce</strong> (p_length    in number,
                               p_start_end in varchar2 default 'START',
                               p_unit      in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that reduces the supplied linestring at either its start or end (p_start_end).
    A p_start_end value of BOTH means line is reduced at both ends.
    p_length is always assumed to be positive, any negative value is passed through the ABS function.
    If p_length is 0 the geometry is returned unchanged.
    A reduction can be thought of as the equivalent of extracting a new segment between two measures: p_length ... (SELF.<a href="#robo107">ST_Length</a>() - p_length).
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_length       (number) - If negative the linestring is shortened.
                              If positive the linestring is extended via a call to <a href="#robo80">ST_Extend</a>.
                              Distance must be expressed in SRID or p_unit units
    p_start_end  (varchar2) - START means reduce line at the start; END means reduce at the end, and BOTH means reduce at both START and END of line.
    p_unit       (varchar2) - Allows default Oracle unit of measure (UoM) to be overridden eg if unit M is default for SRID then unit=CM will compute in centimeters.
</pre>
<p class="item_name">RESULT</p>
<pre>    linestring (t_geometry) - Input geometry reduced as instructed.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Reduce more than length of line.
    Select T_Geometry(
             mdsys.sdo_geometry('LINESTRING(1 1,2 2)',NULL),
             0.05,1,1
           )
           .<strong>ST_Reduce</strong>(0.708,'BOTH')
           .geom
              as geom
      From dual;

    SQL Error: ORA-20124: Reducing geometry of length (1.4142135623731) by (.708) at both ends would result in a zero length geometry.
    ORA-06512: at "<a href="#robo24">T_GEOMETRY</a>", line 3450

    -- Changes that remove whole segments.
    With data As (
    select -- Distance between all segments is 1.414
           T_Geometry(
             mdsys.sdo_geometry('LINESTRING(1 1,2 2,3 3,4 4)',NULL),0.05,1,1) as tgeom
      from dual
    )
    select 1.414    as seLength,
           'START'  as Start_end,
           a.tgeom.<strong>ST_Reduce</strong>(1.414,'START').<a href="#robo177">ST_Round</a>(2,1,1).<a href="#robo326">ST_AsText</a>() as tgeom,
           a.tgeom.<a href="#robo107">ST_Length</a>(p_round=&gt;a.tGeom.dprecision) as gLength,
           a.tgeom.<strong>ST_Reduce</strong>(1.414,'START').<a href="#robo107">ST_Length</a>(p_round=&gt;a.tGeom.dPrecision) as newLength
      from data a union all
    select 1.414   as seLength,
           'END'   as Start_end,
           a.tgeom.<strong>ST_Reduce</strong>(1.414,'END').<a href="#robo177">ST_Round</a>(2,1,1).<a href="#robo326">ST_AsText</a>() as tgeom,
           a.tgeom.<a href="#robo107">ST_Length</a>(p_round=&gt;a.tGeom.dPrecision) as gLength,
           a.tgeom.<strong>ST_Reduce</strong>(1.414,'END').<a href="#robo107">ST_Length</a>(p_round=&gt;a.tGeom.dPrecision) as newLength
      from data a union all
    select 1.414  as seLength,
           'BOTH' as Start_end,
           a.tgeom.<strong>ST_Reduce</strong>(1.414,'BOTH').<a href="#robo177">ST_Round</a>(2,1,1).<a href="#robo326">ST_AsText</a>() as tgeom,
           a.tgeom.<a href="#robo107">ST_Length</a>(p_round=&gt;a.tGeom.dPrecision) as gLength,
           a.tgeom.<strong>ST_Reduce</strong>(1.414,'BOTH').<a href="#robo107">ST_Length</a>(p_round=&gt;a.tGeom.dPrecision) as newLength
      from data a;

    SELENGTH START_END TGEOM                      GLENGTH NEWLENGTH
    -------- --------- -------------------------- ------- ---------
       1.414 START     LINESTRING (2 2, 3 3, 4 4)     4.2       2.8
       1.414 END       LINESTRING (1 1, 2 2, 3 3)     4.2       2.8
       1.414 BOTH      LINESTRING (2 2, 3 3)          4.2       1.4
</pre>
<p class="item_name">NOTES</p>
<pre>    Points, GeometryCollections, Polygons, MultiPolygons, CircularStrings are not supported.
    Assumes planar projection eg UTM.
</pre>
<p class="item_name">ERRORS</p>
<pre>    The following exceptions can be thrown:
      ORA-20120 - Geometry must not be null or empty (*ERR*)
                  Where *ERR* is replaced with specific error
      ORA-20121 - Geometry must be a single linestring.
      ORA-20122 - Start/End parameter value (*VALUE*) must be START, BOTH or END
                  Where *VALUE* is the supplied, incorrect, value.
      ORA-20123 - p_extend_dist value must not be 0 or NULL.
      ORA-20124 - Reducing geometry of length (*GLEN*) by (*DIST*) at *STARTEND* would result in a zero length geometry.
                  Where *GLEN* is the length of the existing geometry, *DIST* is ABS(p_length), and *STARTEND* is p_start_end.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2006 - Original Coding for GEOM Package
    Simon Greener - July 2011     - Port to <a href="#robo24">T_GEOMETRY</a>
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2008-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo164"></a>
<a name="T5fGEOMETRY2fST5fReflect28p5freflect5fgeom20p5freflect5fplane29"></a>
<h2>15.127.  T_GEOMETRY/ST_Reflect(p_reflect_geom p_reflect_plane) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Reflect -- Function which reflects the underlying geometry to a new location using the provided parameters.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Reflect (p_reflect_geom  in mdsys.sdo_geometry,
                                p_reflect_plane in number default -1)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function which reflects the underlying geometry to a new location, by reflecting around or across p_reflect_geom depending on p_reflect_plane.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_reflect_geom  (sdo_geometry) -- Reflection geometry
    p_reflect_plane (number)       -- Whether to reflect underlying geometry across p_reflect_geom.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry -- Input geometry reflected using supplied values.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is wrapper over mdsys.SDO_UTIL.AffineTransforms
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With testGeom as (
      select <a href="#robo24">T_GEOMETRY</a>(mdsys.sdo_geometry('POINT(10 10)',null),0.005,2,1) as tgeom,
             mdsys.sdo_geometry(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(10,0,0,10)) as reflect_geom
        from dual
    )
    select 'ST_Reflect(p_reflect_geom,-1)' as ReflectTest,
           a.tgeom.ST_Reflect(p_reflect_geom=&gt;a.reflect_geom,p_reflect_plane=&gt;-1)
           .<a href="#robo177">ST_Round</a>(2,2,1,1)
           .<a href="#robo326">ST_AsText</a>()  as geom
      from testGeom a;

    REFLECTTEST                   GEOM
    ----------------------------- ---------------
    ST_Reflect(p_reflect_geom,-1) POINT (0.0 0.0)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2015 - New implementation to replace original PLSQL based rotation function.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo165"></a>
<a name="T5fGEOMETRY2fST5fRelate"></a>
<h2>15.128.  T_GEOMETRY/ST_Relate [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Relate</strong> - Determines spatial relations between two geometry instances.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Relate</strong> (
               p_geom      sdo_geometry,
               p_determine varchar2 default 'DETERMINE'
             )
      Return varchar2 deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Compares the first geometry against the second using SDO_GEOM.RELATE to discover if the two geometry objects have the required relationship.
    The relationhip names (from the Oracle documentation are):

      DISJOINT           : The boundaries and interiors do not intersect.
      TOUCH              : The boundaries intersect but the interiors do not intersect.
      OVERLAPBDYDISJOINT : The interior of one object intersects the boundary and interior of the other object, but the two boundaries do not intersect.
                           This relationship occurs, for example, when a line originates outside a polygon and ends inside that polygon.
      OVERLAPBDYINTERSECT: The boundaries and interiors of the two objects intersect.
      EQUAL              : The two objects have the same boundary and interior.
      CONTAINS           : The interior and boundary of one object is completely contained in the interior of the other object.
      COVERS             : The interior of one object is completely contained in the interior or the boundary of the other object and their boundaries intersect.
      INSIDE             : The opposite of CONTAINS. A INSIDE B implies B CONTAINS A.
      COVEREDBY          : The opposite of COVERS. A COVEREDBY B implies B COVERS A.
      ON                 : The interior and boundary of one object is on the boundary of the other object.
                           This relationship occurs, for example, when a line is on the boundary of a polygon.
      ANYINTERACT        : The objects are non-disjoint.

    If one does not know what relationships might exist, set the parameter p_determine to the value DETERMINE to discover what relationships exist.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geom   (sdo_geometry) - Non-null geometry instance.
    p_determine  (varchar2) - One of the 9 Topological Relationship names (see above):
</pre>
<p class="item_name">RESULT</p>
<pre>    Relationships (varchar) - Result of SDO_GEOM.RELATE()
</pre>
<p class="item_name">NOTES</p>
<pre>    Uses MDSYS.SDO_GEOM.RELATE if Oracle database version is 12c or above,
    or if the customer is licensed for the Spatial object before 12c.
</pre>
<p class="item_name">ERRORS</p>
<pre>    With throw exception if the user is not licensed to call MDSYS.SDO_GEOM.RELATE.
    -20102  MDSYS.SDO_GEOM.RELATE only supported for Locator users from 12c onwards.';
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    Select t_geometry(sdo_geometry('POLYGON ((100.0 0.0, 400.0 0.0, 400.0 480.0, 160.0 480.0, 160.0 400.0, 240.0 400.0,240.0 300.0, 100.0 300.0, 100.0 0.0))',NULL),0.005,2,1)
             .<strong>ST_Relate</strong> ( sdo_geometry('POLYGON ((-175.0 0.0, 100.0 0.0, 0.0 75.0, 100.0 75.0, 100.0 200.0, 200.0 325.0, 200.0 525.0, -175.0 525.0, -175.0 0.0))',NULL),
             'DETERMINE'
           ) as relations
      from dual;

    RELATIONS
    -------------------
    OVERLAPBDYINTERSECT

    Select t_geometry(  sdo_geometry('LINESTRING (100.0 0.0, 400.0 0.0)',NULL),0.005,2,1)
             .<strong>ST_Relate</strong>(sdo_geometry('LINESTRING (90.0 0.0, 100.0 0.0)',NULL),
             'DETERMINE'
           ) as relations
      from dual;

    RELATIONS
    ---------
    TOUCH

    Select t_geometry(  sdo_geometry('POLYGON ((100.0 0.0, 400.0 0.0, 400.0 480.0, 160.0 480.0, 160.0 400.0, 240.0 400.0,240.0 300.0, 100.0 300.0, 100.0 0.0))',NULL),0.0005,2,1)
             .<strong>ST_Relate</strong>(sdo_geometry('POINT (250 150)',NULL),
             'DETERMINE'
           ) as relations
      from dual;

    RELATIONS
    ---------
    CONTAINS

    -- Example using different precision values and a specific "question": Are they equal?
    Select t_geometry(  sdo_geometry('POINT (250.001 150)'    ,NULL),DECODE(t.IntValue,2,0.005,3,0.0005),t.IntValue,1)
             .<strong>ST_Relate</strong>(sdo_geometry('POINT (250     150.002)',NULL),
             'EQUAL'
           ) as relations
      from table(tools.GENERATE_SERIES(2,3,1)) t

    RELATIONS
    ---------
    EQUAL
    FALSE
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo166"></a>
<a name="T5fGEOMETRY2fST5fRelease"></a>
<h2>15.129.  T_GEOMETRY/ST_Release [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Release</strong> -- Returns Version Number for the code in the type.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Static Function <strong>ST_Release</strong>
             Return VarChar2
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function returns a version or release number for the code when distributed.
    Also includes versions of the databases the code was developed against .
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select <a href="#robo24">T_GEOMETRY</a>.<strong>ST_Release</strong>()
      from dual;

    <a href="#robo24">T_GEOMETRY</a>.<strong>ST_Release</strong>()
    -----------------------
    2.1.1 Databases(11.2, 12.1)
</pre>
<p class="item_name">RESULT</p>
<pre>    Code Release Number (VarChar2) - eg 2.2.1 Databases(11.2, 12.1)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - June 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo167"></a>
<a name="T5fGEOMETRY2fST5fRemoveCollinearPoints"></a>
<h2>15.130.  T_GEOMETRY/ST_RemoveCollinearPoints [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_RemoveCollinearPoints</strong> -- Removes any collinear points in a linestring
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_RemoveColliearPoints
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Removes any collinear points in a linestring
    Collinear points are any three points in a line allowing for the middle one to be removed.
    SELF.dprecision is vital to determining collinearity.
</pre>
<p class="item_name">NOTES</p>
<pre>    Only supports linestrings, multilinestrings.
    Does not support linestrings with circular arcs.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- geometry with any collinear points removed.
</pre>
<p class="item_name">TODO</p>
<pre>    Support polygon and multipolygons.
    Support linestrings with circular arcs.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- 1. <strong>ST_RemoveCollinearPoints</strong>
    with data as (
    select t_geometry(f.geom,0.005,2,1) as tGeom,
           f.test
      from (select 'Is Collinear 3D' as test, sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,0,10,10,10,20,20,20)) as geom
              from dual
             union all
            select 'Is Collinear 2D' as test, sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,10,10,20,20)) as geom
              from dual
             union all
            select 'Not Collinear 3D' as test, sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,0, 10,11,10, 20,0,21)) as geom
              from dual
             union all
            select 'Not Collinear 2D' as test,
                   sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,10,10,20,0)) as geom
              from dual
           ) f
    )
    select a.tGeom.<a href="#robo242">ST_Dims</a>() as dims,
           a.test,
           a.tGeom.<strong>ST_RemoveCollinearPoints</strong>().geom as rcpGeom
      from data a;

    DIMS TEST             RCPGEOM
    ---- ---------------- --------------------------------------------------------------------------------------------------
       3 Is Collinear 3D  SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,0,20,20,20))
       2 Is Collinear 2D  SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,20,20))
       3 Not Collinear 3D SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,0,10,11,10,20,0,21))
       2 Not Collinear 2D SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,10,10,20,0))

    -- 2. MultiLineString 3D Geometries.
    with data as (
    select t_geometry(f.geom,0.005,2,1) as tGeom,
           f.test
      from (select 'Collinear First and Second LineStrings (same Z)' as test,
                    sdo_geometry(3006,null,null,sdo_elem_info_array(1,2,1,10,2,1),
                                 sdo_ordinate_array(  0,  0, 0,  10, 10, 0,  20, 20, 0,
                                                    100,100,90, 110,110,90, 200,200,90)) as geom
              from dual
             union all
            select 'Multi: Collinear First Linestring (same Z), Not Collinear Second LineString (diff Z)' as test,
                   sdo_geometry(3006,null,null,sdo_elem_info_array(1,2,1,10,2,1),
                                sdo_ordinate_array(0,0,0,       10,10,10,   20, 20,20,
                                                   100,100,90, 110,120,90, 200,201,95)) as geom
              from dual
             union all
            select 'Multi: Neither part with collinear points' as test,
                   sdo_geometry(3006,null,null,sdo_elem_info_array(1,2,1,10,2,1),
                                sdo_ordinate_array(0,0,0,       10,10,10,   20,  0,20,
                                                   100,100,90, 110,120,75, 200, 1,50)) as geom
              from dual
           ) f
    )
    select a.tGeom.<a href="#robo242">ST_Dims</a>() as dims,
           a.test,
           a.tGeom.<strong>ST_RemoveCollinearPoints</strong>().geom as rcp
      from data a;

    DIMS TEST                                            RCP
    ---- ----------------------------------------------- ----------------------------------------------------------------------------------------------------------------------------------------
       3 Collinear First and Second LineStrings (same Z) SDO_GEOMETRY(3006,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1,7,2,1),SDO_ORDINATE_ARRAY(0,0,0,20,20,0,100,100,90,200,200,90))
       3 Multi: Collinear First Linestring (same Z),
                Not Collinear Second LineString (diff Z) SDO_GEOMETRY(3006,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1,7,2,1),SDO_ORDINATE_ARRAY(0,0,0,20,20,20,100,100,90,110,120,90,200,201,95))
       3 Multi: Neither part with collinear points       SDO_GEOMETRY(3006,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1,10,2,1),SDO_ORDINATE_ARRAY(0,0,0,10,10,10,20,0,20,100,100,90,110,120,75,200,1,50))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - February 2018 - Original TSQL Coding for SQL Spatial.
    Simon Greener - August 2018   - Port to Oracle.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo168"></a>
<a name="T5fGEOMETRY2fST5fRemoveDuplicateVertices"></a>
<h2>15.131.  T_GEOMETRY/ST_RemoveDuplicateVertices [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_RemoveDuplicateVertices</strong> -- Function that removes duplicate points in underlying linear or polygonal geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_RemoveDuplicateVertices</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that calls MDSYS.SDO_UTIL.REMOVE_DUPLICATE_VERTICES(sdo_geometry,tolerance);
    Tolerance used is SELF.TOLERANCE or 0.005 if null.
</pre>
<p class="item_name">RESULT</p>
<pre>    Modified linestring (geometry) - Input linestring/polygon with duplicate points removed.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Example of exception
    select t_geometry(
             sdo_geometry('POINT(0 0)',NULL),0.05,2,1
           ).<strong>ST_RemoveDuplicateVertices</strong>()
            .<a href="#robo326">ST_AsText</a>() as updatedGeom
      from dual;

    SQL Error: ORA-20121: Geometry must be a linestring or polygon.
    ORA-06512: at "<a href="#robo24">T_GEOMETRY</a>", line 2807

    -- Linestring example
    select t_geometry(
             sdo_geometry('LINESTRING(0 0,1 1,1.004 1, 2 2)',NULL),0.005,2,1
           ).<strong>ST_RemoveDuplicateVertices</strong>()
            .<a href="#robo326">ST_AsText</a>() as updatedGeom
      from dual;

    UPDATEDGEOM
    -------------------
    LINESTRING (0 0, 1 1, 2 2)

    -- Polygon example
    -- Example where tolerance is over-ridden
    with data as (
      select t_geometry(
               sdo_geometry('POLYGON((0 0,1 0,1.004 0,1 2,0 2,0 0))',NULL),0.0005,3,1
             ) as tGeom
        from dual
    )
    select a.tGeom
            .<a href="#robo189">ST_SetTolerance</a>(0.05)
            .<strong>ST_RemoveDuplicateVertices</strong>()
            .<a href="#robo326">ST_AsText</a>()
                as tolGeom,
           a.tGeom
            .<strong>ST_RemoveDuplicateVertices</strong>()
            .<a href="#robo326">ST_AsText</a>()
                as rGeom
      from data a;

    TOLGEOM                             RGEOM
    ----------------------------------- --------------------------------------------
    POLYGON ((0 0, 1 0, 1 2, 0 2, 0 0)) POLYGON ((0 0, 1 0, 1.004 0, 1 2, 0 2, 0 0))
</pre>
<p class="item_name">ERRORS</p>
<pre>    Can throw the following exception:
      ORA--20121: Geometry must be a linestring or polygon.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - February 2011 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo169"></a>
<a name="T5fGEOMETRY2fST5fRemoveInnerRings"></a>
<h2>15.132.  T_GEOMETRY/ST_RemoveInnerRings [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_RemoveInnerRings</strong> -- Removes all interior/inner rings from polygon/multipolygon.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_RemoveInnerRings</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function allows a user to remove all inner rings from a polygon/multipolygon.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- A (multi)polygon with exterior ring(s) only.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('MULTIPOLYGON(((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5)),((100 100,200 100,200 200,100 200,100 100)))',null),0.005,3,1) as tgeom
        from dual
      union all
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5))',null),0.005,3,1) as tgeom
        from dual
    )
    select f.iRings                    as iRingBEfore, 
           f.geom.<a href="#robo147">ST_NumInteriorRing</a>() as iRingAfter,
           f.geom.<a href="#robo326">ST_AsText</a>()          as eRingPolygon
      from (select a.tgeom.<a href="#robo147">ST_NumInteriorRing</a>()  as iRings,
                   a.tgeom.<strong>ST_RemoveInnerRings</strong>() as geom
              from data a
          ) f;

    IRINGBEFORE IRINGAFTER ERINGPOLYGON
    ----------- ---------- --------------------------------------------------------------------------------------------------------------------------------
              2          0 MULTIPOLYGON (((0.0 0.0, 20.0 0.0, 20.0 20.0, 0.0 20.0, 0.0 0.0)), ((100.0 100.0, 200.0 100.0, 200.0 200.0, 100.0 200.0, 100.0 100.0)))
              2          0 POLYGON ((0.0 0.0, 20.0 0.0, 20.0 20.0, 0.0 20.0, 0.0 0.0))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Spetember 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo170"></a>
<a name="T5fGEOMETRY2fST5fReverse5fGeometry"></a>
<h2>15.133.  T_GEOMETRY/ST_Reverse_Geometry [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Reverse_Geometry</strong> -- Reverses non-point geometries
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <a href="#robo171">ST_Reverse_Linestring</a>
             Return <a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Reverses geometries.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- Reverse of SELF geom.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Aug 2017 - Port from GEOM.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo171"></a>
<a name="T5fGEOMETRY2fST5fReverse5fLinestring"></a>
<h2>15.134.  T_GEOMETRY/ST_Reverse_Linestring [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Reverse_Linestring</strong> -- Reverses linestring including multi-linestring.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Reverse_Linestring</strong>
             Return <a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Reverses linestring including multi-linestring. Honours circular arcs and measures.
</pre>
<p class="item_name">RESULT</p>
<pre>    linestring (<a href="#robo24">T_GEOMETRY</a>) -- Reverse of input Linestring.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo172"></a>
<a name="T5fGEOMETRY2fST5fRotate28p5fangle20p5fdir20p5frotate5fpoint20p5fline129"></a>
<h2>15.135.  T_GEOMETRY/ST_Rotate(p_angle p_dir p_rotate_point p_line1) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Rotate -- Function which rotates the underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Rotate (
                       p_angle        in number,
                       p_dir          in integer,
                       p_rotate_point in mdsys.sdo_geometry,
                       p_line1        in mdsys.sdo_geometry
                    )
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function which rotates the underlying geometry around a supplied rotation point p_rotate_point a required angle in radians.
    See NOTES for valid parameter values.
    Supports 2D and 3D geometry rotation.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_angle              (number) - Rotation angle expressed in degrees (see <a href="#robo0">COGO</a>.<a href="#robo14">ST_Radians</a> and <a href="#robo0">COGO</a>.<a href="#robo12">ST_Degrees</a>).
    p_dir               (integer) - Rotation parameter for x(0), y(1), or z(2)-axis roll.
                                    You cannot set p_dir =&gt; 0, 1 or 2, only -1, -2, -3. They don't see to affect the result.
    p_rotate_point (sdo_geometry) - XY/2D Point geometry
    p_line1        (sdo_geometry) - Y ordinate of rotation point.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry -- Input geometry rotated by supplied values.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is wrapper over mdsys.SDO_UTIL.AffineTransforms
    For 2D geometry rotation, p_angle and p_rotate_point must not be null.
    For 3D geometry rotation, p_angle must not be null
    For 3D geometry rotation, both p_dir and p_line1 cannot be null
    For 3D geometries, rotation uses either:
      1. the angle and dir values, or
      2. the angle and line1 values.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With testGeom as (
      select <a href="#robo24">T_GEOMETRY</a>(mdsys.sdo_geometry(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,2,4,8,4,12,4,12,10,8,10,5,14)),005,2,1) as geom,
             SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,0, 2,4,22.22, 8,4,374, 12,4,59.26, 12,10,747, 8,10,92.59, 5,14,100)) as geom3D,
             mdsys.sdo_geometry(2001,null,sdo_point_type(2,2,null),null,null) as rotatePoint
        from dual
    )
    select 'ST_Rotate(45/Dir/rPoint/Line1)' as rotate,
           a.geom.ST_Rotate(p_angle=&gt;45,p_dir=&gt;-1,p_rotate_point=&gt;rotatePoint, p_line1=&gt;null)
                 .<a href="#robo177">ST_Round</a>(a.geom.dPrecision,a.geom.dPrecision,2,2).geom as geom
      from testGeom a
      Union All
    select 'ST_Rotate3D(45/Dir/rPoint/Line1)' as rotate,
           a.geom3d.ST_Rotate(p_angle=&gt;45,p_dir=&gt;-1,p_rotate_point=&gt;rotatePoint, p_line1=&gt;null)
                 .<a href="#robo177">ST_Round</a>(a.geom.dPrecision,a.geom.dPrecision,2,2).geom as geom
      from testGeom a;

    AFUNCTION                GEOM
    -------------------------------- -----------------------------------------------------------------------------------------------------------------------------------------------------
    ST_Rotate(45/Dir/rPoint/line1)   SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,0.59,3.41,4.83,7.66,7.66,10.49,3.41,14.73,0.59,11.9,-4.36,12.61))
    ST_Rotate3D(45/Dir/rPoint/line1) SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2.0,2.0,0.0, 0.59,3.41,22.22, 4.83,7.66,374.0, 7.66,10.49,59.26, 3.41,14.73,747.0, 0.59,11.9,92.59, -4.36,12.61,100.0))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2015 - New implementation to replace original PLSQL based rotation function.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo173"></a>
<a name="T5fGEOMETRY2fST5fRotate28p5fangle20p5frotate5fpoint29"></a>
<h2>15.136.  T_GEOMETRY/ST_Rotate(p_angle p_rotate_point) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Rotate -- Function which rotates the underlying geometry around a provided point or its centre.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Rotate (
                       p_angle        in number,
                       p_rotate_point in mdsys.sdo_geometry
                    )
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function which rotates the underlying geometry by the provided p_angle angle (degrees see <a href="#robo0">COGO</a>.<a href="#robo14">ST_Radians</a> and <a href="#robo0">COGO</a>.<a href="#robo12">ST_Degrees</a>) around a supplied rotation point p_rotate_point.
    If p_rotate_point is null, the centre of the geometry's envelope/MBR is chosen.
    Because of limited parameters this version only support 2D geometries.
    If underlying geometry is a point and no p_rotate_point is provided, the same point is returned.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_angle (number) - Rotation angle expressed in radians.
    p_rx    (number) - X ordinate of rotation point.
    p_ry    (number) - Y ordinate of rotation point.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry -- Input geometry rotated by supplied values.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is wrapper over ST_Rotate(p_angle,p_dir,p_rotate_point,p_line1)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With testGeom as (
      select <a href="#robo24">T_GEOMETRY</a>(mdsys.sdo_geometry(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,2,4,8,4,12,4,12,10,8,10,5,14)),005,2,1) as geom,
             mdsys.sdo_geometry(2001,null,sdo_point_type(2,2,null),null,null) as rotatePoint
        from dual
    )
    select 'ST_Rotate(90,NULL)' as rotate,
           a.geom.ST_Rotate(p_angle=&gt;90,p_rotate_point=&gt;null)
                 .<a href="#robo177">ST_Round</a>(a.geom.dprecision,a.geom.dprecision,2,2).geom as geom
      From testGeom a
     Union All
    select 'ST_Rotate(90,POINT)' as rotate,
           a.geom.ST_Rotate(p_angle=&gt;90,p_rotate_point=&gt;rotatePoint)
                 .<a href="#robo177">ST_Round</a>(a.geom.dprecision,a.geom.dprecision,2,2).geom as geom
      from testGeom a ;

    ROTATE              GEOM
    ------------------- -------------------------------------------------------------------------------------------------------------------
    ST_Rotate(90,NULL)  SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(13,3, 11,3, 11,9, 11,13, 5,13, 5,9, 1,6))
    ST_Rotate(90,POINT) SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2, 0,2, 0,8, 0,12, -6,12, -6,8, -10,5))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2015 - New implementation to replace original PLSQL based rotation function.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo174"></a>
<a name="T5fGEOMETRY2fST5fRotate28p5fangle20p5frx20p5frx29"></a>
<h2>15.137.  T_GEOMETRY/ST_Rotate(p_angle p_rx p_rx) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Rotate -- Function which rotates the underlying geometry around a provided point or its centre.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Rotate (
                       p_angle in number,
                       p_rx    in number,
                       p_ry    in number
                    )
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function which rotates the underlying geometry by the provided p_angle angle around a supplied rotation point p_rx,p_rx.
    If p_rx/p_ry is null, the centre of the geometry's envelope/MBR is chosen.
    Because of limited parameters this version only support 2D geometries.
    If underlying geometry is a point and no p_rx/p_rx values are provided, the same point is returned.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_angle (number) - Rotation angle expressed in degrees.
    p_rx    (number) - X ordinate of rotation point.
    p_ry    (number) - Y ordinate of rotation point.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry -- Input geometry rotated by supplied values.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is wrapper over ST_Rotate(p_angle,p_dir,p_rotate_point,p_line1)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With testGeom as (
      select <a href="#robo24">T_GEOMETRY</a>(mdsys.sdo_geometry(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,2,4,8,4,12,4,12,10,8,10,5,14)),005,2,1) as geom,
             mdsys.sdo_geometry(2001,null,sdo_point_type(2,2,null),null,null) as rotatePoint
        from dual
    )
    Select 'ST_Rotate(90,null,null)' as rotate,
           a.geom.ST_Rotate(p_angle=&gt;90,p_rx=&gt;null,p_ry=&gt;null)
                 .<a href="#robo177">ST_Round</a>(a.geom.dprecision,a.geom.dprecision,2,2).geom as geom
      From testGeom a
     Union All
    Select 'ST_Rotate(90,2,2)' as rotate,
           a.geom.ST_Rotate(p_angle=&gt;90,p_rx=&gt;a.rotatePoint.Sdo_Point.Y,p_ry=&gt;a.rotatePoint.Sdo_Point.Y)
           .<a href="#robo177">ST_Round</a>(a.geom.dprecision,a.geom.dprecision,2,2).geom as geom
      From testGeom a;

    ROTATE                  GEOM
    ----------------------- -------------------------------------------------------------------------------------------------------------
    ST_Rotate(90,null,null) SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(13,3,11,3,11,9,11,13,5,13,5,9,1,6))
    ST_Rotate(90,2,2)       SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,0,2,0,8,0,12,-6,12,-6,8,-10,5))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2015 - New implementation to replace original PLSQL based rotation function.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo175"></a>
<a name="T5fGEOMETRY2fST5fRotate28p5fangle29"></a>
<h2>15.138.  T_GEOMETRY/ST_Rotate(p_angle) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Rotate -- Function which rotates the underlying geometry around the centre of its MBR.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Rotate (
                       p_angle in number
                    )
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function which rotates the underlying geometry by the provided p_angle angle (degrees see <a href="#robo0">COGO</a>.<a href="#robo14">ST_Radians</a> and <a href="#robo0">COGO</a>.<a href="#robo12">ST_Degrees</a>) around the centre of the geometry's MBR.
    Because of limited parameters this version only support 2D geometries.
    If underlying geometry is a point, the same point is returned.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_angle              (number) - Rotation angle expressed in radians.
    p_rotate_point (sdo_geometry) - Point around which underlying geometry is rotated p_angle degrees
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry -- Input geometry rotated by supplied values.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is wrapper over ST_Rotate(p_angle,p_dir,p_rotate_point,p_line1)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With testGeom as (
      select <a href="#robo24">T_GEOMETRY</a>(mdsys.sdo_geometry(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,2,4,8,4,12,4,12,10,8,10,5,14)),005,2,1) as geom
        from dual
    )
    select 'ST_Rotate(90)' as rotate,
           a.geom.ST_Rotate(p_angle=&gt;90)
                 .<a href="#robo177">ST_Round</a>(a.geom.dprecision,a.geom.dprecision,2,2).geom as geom
      From testGeom a ;

    ROTATE            GEOM
    ----------------- -------------------------------------------------------------------------------------------------------------------
    ST_Rotate(90)     SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(13,3, 11,3, 11,9, 11,13, 5,13, 5,9, 1,6))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2015 - New implementation to replace original PLSQL based rotation function.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo176"></a>
<a name="T5fGEOMETRY2fST5fRotTransScale28p5freflect5fgeom20p5freflect5fplane29"></a>
<h2>15.139.  T_GEOMETRY/ST_RotTransScale(p_reflect_geom p_reflect_plane) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_RotTransScale -- Function which reflects the underlying geometry to a new location using the provided parameters.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_RotTransScale (p_angle     in number,
                                      p_rs_point  in mdsys.sdo_geometry,
                                      p_sx        in number,
                                      p_sy        in number,
                                      p_sz        in number,
                                      p_tx        in number,
                                      p_ty        in number,
                                      p_tz        in number)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function which applies a Rotation/Scale and Translate to the underlying geometry as a single operation.
    If equivalent of applying individual methods in one:
    select a.tgeom.ST_Scale(....).ST_Translate(....).ST_Rotate(....) from ...
    But is more efficient as it requires only one call to the mdsys.SDO_UTIL.AffineTransforms function.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_angle          (number) - Rotation angle expressed in radians.
    p_rs_point (sdo_geometry) - Single Rotate and Scale point.
    p_sx             (number) - Scale factor for X ordinates.
    p_sy             (number) - Scale factor for Y ordinates.
    p_sz             (number) - Scale factor for Z ordinates.
    p_tx             (number) - Translation factor for X ordinates.
    p_ty             (number) - Translation factor for Y ordinates.
    p_tz             (number) - Translation factor for Z ordinates (if null, the Z ordinate is not changed).
    geometry -- Input geometry transformed using supplied values.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is wrapper over mdsys.SDO_UTIL.AffineTransforms
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With testGeom as (
      select <a href="#robo24">T_GEOMETRY</a>(mdsys.sdo_geometry('POINT(10 10)',null),0.005,2,1) as tgeom,
             mdsys.sdo_geometry(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(10,0,0,10)) as reflect_geom
        from dual
    )
    select 'ST_RotTransScale(p_reflect_geom,-1)' as ReflectTest,
           a.tgeom.ST_RotTransScale(p_reflect_geom=&gt;a.reflect_geom,p_reflect_plane=&gt;-1)
           .<a href="#robo177">ST_Round</a>(2,2,1,1)
           .<a href="#robo326">ST_AsText</a>()  as geom
      from testGeom a;

    REFLECTTEST                   GEOM
    ----------------------------- ---------------
    ST_RotTransScale(,-1)         POINT (0.0 0.0)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2015 - New implementation to replace original PLSQL based rotation function.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo177"></a>
<a name="T5fGEOMETRY2fST5fRound"></a>
<h2>15.140.  T_GEOMETRY/ST_Round [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Round</strong> -- Rounds X,Y,Z and m (w) ordinates to passed in decimal digits of precision.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Round</strong>(p_dec_places_x in integer default null,
                             p_dec_places_y in integer default null,
                             p_dec_places_z in integer default null,
                             p_dec_places_m in integer default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Applies relevant decimal digits of precision value to ordinates of mdsys.sdo_geometry.
    For example:
      SELF.x := ROUND(SELF.x,p_dec_places_x);
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_dec_places_x (integer) - value applied to x Ordinate.
    p_dec_places_y (integer) - value applied to y Ordinate.
    p_dec_places_z (integer) - value applied to z Ordinate.
    p_dec_places_m (integer) - value applied to m Ordinate.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo178"></a>
<a name="T5fGEOMETRY2fST5fScale28p5fsx20p5fsy20p5fsz20p5fscale5fpoint29"></a>
<h2>15.141.  T_GEOMETRY/ST_Scale(p_sx p_sy p_sz p_scale_point) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Scale -- Function which scales the ordinates of the underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Scale (p_sx          in number,
                              p_sy          in number,
                              p_sz          in number default null,
                              p_scale_point in mdsys.sdo_geometrydefault null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function which scales the ordinates of the underlying geometry using the provided scale factors: p_sx, p_sy, p_sz.
    If any of p_sx, p_sy, p_sz are null 0.0 is substituted for their value (no effect).
    p_scale_point is a point on the input geometry about which to perform the scaling.
    If p_scale_point is null a zero point (with 0,0 or 0,0,0 ordinates) is used to scale the geometry about the origin.
    If p_scale_point is not null, it should be a nonzero point with ordinates for scaling about a point other than the origin.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_sx          (number)       - Scale factor for X ordinates.
    p_sy          (number)       - Scale factor for Y ordinates.
    p_sz          (number)       - Scale factor for Z ordinates.
    p_scale_point (sdo_geometry) - Scale point.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry -- Input geometry scaled using supplied values.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is wrapper over mdsys.SDO_UTIL.AffineTransforms
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With testGeom as (
      select <a href="#robo24">T_GEOMETRY</a>(mdsys.sdo_geometry(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,2,4,8,4,12,4,12,10,8,10,5,14)),0.005,2,1) as tgeom,
             mdsys.sdo_geometry(2001,null,sdo_point_type(2,2,null),null,null) as scale_point
        from dual
       Union All
      select <a href="#robo24">T_GEOMETRY</a>(mdsys.sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,1, 2,4,2, 8,4,3, 12,4,4, 12,10,5, 8,10,6, 5,14,7)),0.005,2,1) as tgeom,
             mdsys.sdo_geometry(3001,null,sdo_point_type(2,2,2),null,null) as scale_point
        from dual
    )
    select a.tgeom.<a href="#robo62">ST_CoordDimension</a>() as coordDimension,
           'ST_Scale(p_sx,p_sy,p_sz,p_scale_point)' as ScaleTest,
           a.tgeom.ST_Scale(p_sx=&gt;2,p_sy=&gt;2,p_sz=&gt;case when a.tgeom.<a href="#robo62">ST_CoordDimension</a>()=2 then null else 0.1 end,p_scale_point=&gt;a.scale_point).geom as geom
      from testGeom a

    COORDDIMENSION SCALETEST                              GEOM
    -------------- -----------------------------------    ----------------------------------------------------------------------------------------------------------------------------------------
                 2 ST_Scale(p_sx,p_sy,p_sz,p_scale_point) SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,2,6,14,6,22,6,22,18,14,18,8,26))
                 3 ST_Scale(p_sx,p_sy,p_sz,p_scale_point) SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,1.9,2,6,2,14,6,2.1,22,6,2.2,22,18,2.3,14,18,2.4,8,26,2.5))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2015 - New implementation to replace original PLSQL based rotation function.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo179"></a>
<a name="T5fGEOMETRY2fST5fSDO5fGType"></a>
<h2>15.142.  T_GEOMETRY/ST_SDO_GType [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SDO_GType</strong> -- Returns underlying mdsys.sdo_geometry's SDO_GTYPE attribute.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SDO_GType</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is a wrapper over the mdsys.sdo_geometry SELF.GEOM.SDO_GTYPE attribute.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry type (Integer) -- eg 2001 for 2D single point etc.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo180"></a>
<a name="T5fGEOMETRY2fST5fSdo5fPoint5fEqual"></a>
<h2>15.143.  T_GEOMETRY/ST_Sdo_Point_Equal [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Sdo_Point_Equal</strong> -- Compares current object (SELF) geometry's GEOM.SDO_POINT with supplied mdsys.sdo_point_type
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Sdo_Point_Equal</strong>(p_sdo_point   in mdsys.sdo_point_type,
                                       p_z_precision in integer default 2)
             Return varchar2 deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function compares current t_geometry object' SELF.GEOM.SDO_POINT object to supplied p_sdo_point.
    Result can be one of the following:
       0 if one or other sdo_point structure is null but not both.
       1 if two non-null structures and all ordinates are equal;
      -1 if sdo_point's X/Y/Z ordinates not equal
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_sdo_point   (SDO_POINT) -- SDO_Point that is to be compared to current object geometry's SELF.GEOM.Sdo_Point element.
    p_z_precision   (integer) -- Z Ordinate precision for comparison using ROUND
</pre>
<p class="item_name">RESULT</p>
<pre>    -1,0,1 (Integer) --  0 if one or other sdo_point structures are null but not both.
                     --  1 if two non-null structures and all ordinates are equal;
                     -- -1 if sdo_point's X/Y/Z ordinates not equal
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo181"></a>
<a name="T5fGEOMETRY2fST5fSdoPoint2Ord"></a>
<h2>15.144.  T_GEOMETRY/ST_SdoPoint2Ord [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SdoPoint2Ord</strong> -- Changes point encoding from SDO_POINT_TYPE to SDO_ELEM_INFO_ARRAY/SDO_ORDINATE_ARRAY.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>   Function <strong>ST_SdoPoint2Ord</strong>
     Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Converts underlying Point encoded in SDO_POINT_TYPE structure to one
    encoded in sdo_elem_info_array/sdo_ordinate_array elements.
    Honours any measure
</pre>
<p class="item_name">RESULT</p>
<pre>    SELF (TO_GEOMETRY) -- Original Point with structure changed.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select &amp;&amp;INSTALL_SCHEMA..T_Geometry(SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(10.719,8.644,NULL),NULL,NULL),0.005,3,1)
                           .<strong>ST_SdoPoint2Ord</strong>()
                           .geom as geom 
     from dual;
    
    GEOM
    -----------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2001, NULL, NULL, SDO_ELEM_INFO_ARRAY(1, 1, 1), SDO_ORDINATE_ARRAY(10.719, 8.644))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener, Jan 2013 - Port to Object method.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo182"></a>
<a name="T5fGEOMETRY2fST5fSegmentize"></a>
<h2>15.145.  T_GEOMETRY/ST_Segmentize [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Segmentize</strong> -- This function processes underlying non-point geometries and returns all segments that fall within the defined parameters eg measures covered by range p_start_value .. p_end_value .
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Segmentize</strong>(p_filter        in varchar2 default 'ALL',
                                  p_id            in integer  default null,
                                  p_vertex        in T_Vertex default null,
                                  p_filter_value  in number   default null,
                                  p_start_value   in number   default null,
                                  p_end_value     in number   default null,
                                  p_unit          in varchar2 default null)
             Return T_Segments deterministic,
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_filter     (varchar2) -- One of ALL, DISTANCE, ID, MEASURE, RANGE, X or Y
    p_id          (integer) -- Segment id should be in range 1..SELF.<a href="#robo151">ST_NumSegments</a>. -1 means last.
    p_vertex     (t_vertex) -- Point object used to return nearest segments/segments.
    p_filter_value  (float) -- Single measure (or length) along line.
    p_start_value   (float) -- Measure/Length defining start point of located geometry.
    p_end_value     (float) -- Measure/Length defining end point of located geometry.
    p_unit       (varchar2) -- Unit of measure (UoM eg Centimeter) for length/distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    Set of segments (T_SEGMENTs) -- A table array of <a href="#robo30">T_SEGMENT</a> objects.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given a start and end length, this function breaks the underlying linestring into its fundamental 2 Point LineString or 3 Point CircularStrings.
    What is returned depends on the value of p_filter. The following values are supported:
      1. ALL      -- All other parameters are ignored, and all segments are extracted and returned.
      2. DISTANCE -- Segments within shortest distance to p_vertex.
      3. ID       -- Returns segment at this position in geometry.
      4. MEASURE  -- All measured segments whose measure range contains p_filter_value value, or if not measured, all segments who length from start contains p_filter_value.
      5. RANGE    -- All segments whose measure range overlaps p_start_value .. p_end_value.
                     If the underlying geometry is not measured, p_start_value .. p_end_value are interpreted as lengths from the staring point ie p_start_Length..p_end_length.
      6. X        -- Find and return all segments whose X ordinate range (eg end.x = start.x) contains the supplied (p_filter_value) X ordinate value.
      7. Y        -- Find and return all segments whose Y ordinate range (eg end.Y = start.Y) contains the supplied (p_filter_value) Y ordinate value.
    If a segment's end point = p_start_value then it is not returned but the next segment, whose StartPoint = p_start_value is returned.
</pre>
<p class="item_name">NOTES</p>
<pre>    Supports linestrings with CircularString elements.
    Return is NOT Pipelined
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Compound line string
    with data as (
    select t_geometry(
             SDO_GEOMETRY(2002,NULL,NULL,
                          SDO_ELEM_INFO_ARRAY(1,4,2, 1,2,1, 3,2,2), -- compound line string
                          SDO_ORDINATE_ARRAY(252000,5526000,
                                             252700,5526700, 252644.346,5526736.414,
                                             252500,5526700, 252280.427,5526697.167, 252230.478,5526918.373
                                            )
             ),0.05,1,1) as tgeom
      from dual
    )
    SELECT a.tgeom.ST_Sdo_Gtype() as sdo_gtype,
           t.segment.<a href="#robo326">ST_AsText</a>()  as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter =&gt; 'ALL' ) ) t;

    SDO_GTYPE SEGMENT
    --------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
         2002 SEGMENT(1,1,1,Start(252000,5526000,NULL,NULL,1,2001,NULL),End(252700,5526700,NULL,NULL,2,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
         2002 SEGMENT(1,1,2,Start(252700,5526700,NULL,NULL,2,2001,NULL),Mid(252644.346,5526736.414,NULL,NULL,3,2001,NULL),End(252500,5526700,NULL,NULL,4,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
         2002 SEGMENT(1,1,3,Start(252500,5526700,NULL,NULL,4,2001,NULL),Mid(252280.427,5526697.167,NULL,NULL,5,2001,NULL),End(252230.478,5526918.373,NULL,NULL,6,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)

    -- Extract second circular arc in linestring
    WITH data as (
      SELECT t_geometry(geom,0.0005,3,1) as tGeom
        FROM (SELECT SDO_GEOMETRY(2002,NULL,NULL,
                                  SDO_ELEM_INFO_ARRAY(1,4,2, 1,2,1, 3,2,2), -- compound line string
                                  SDO_ORDINATE_ARRAY(
                                      252000,5526000,
                                      252700,5526700, 252644.346,5526736.414, 252500,5526700,
                                                                              252280.427,5526697.167, 252230.478,5526918.373
                                  )
                      ) as geom
                FROM DUAL
             ) f
    )
    SELECT 3 as p_id, t.segment.<a href="#robo326">ST_AsText</a>()  as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter =&gt; 'ID',
                                       p_id     =&gt; 3) ) t;

          P_ID SEGMENT
    ---------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
             3 SEGMENT(1,1,3,Start(252500,5526700,NULL,NULL,4,2001,NULL),Mid(252280.427,5526697.167,NULL,NULL,5,2001,NULL),End(252230.478,5526918.373,NULL,NULL,6,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)

    -- All sides of an optimized rectangle with rings
    WITH data as (
      SELECT t_geometry(geom,0.0005,3,1) as tGeom
        FROM (SELECT SDO_GEOMETRY(2003,28355,NULL,
                         SDO_ELEM_INFO_ARRAY(1,1003,3,5,2003,3),
                         SDO_ORDINATE_ARRAY(0,0,10,10,200,100,100,200)) AS GEOM
                FROM DUAL
             ) f
    )
    SELECT t.segment.<a href="#robo326">ST_AsText</a>()  as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter =&gt; 'ALL') ) t;

    SEGMENT
    ----------------------------------------------------------------------------------------------------------------------
    SEGMENT(1,1,1,Start(0,0,NULL,NULL,1,2001,28355),End(10,0,NULL,NULL,2,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
    SEGMENT(1,1,2,Start(10,0,NULL,NULL,2,2001,28355),End(10,10,NULL,NULL,3,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
    SEGMENT(1,1,3,Start(10,10,NULL,NULL,3,2001,28355),End(0,10,NULL,NULL,4,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
    SEGMENT(1,1,4,Start(0,10,NULL,NULL,4,2001,28355),End(0,0,NULL,NULL,5,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
    SEGMENT(1,2,1,Start(100,200,NULL,NULL,1,2001,28355),End(200,200,NULL,NULL,2,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
    SEGMENT(1,2,2,Start(200,200,NULL,NULL,2,2001,28355),End(200,100,NULL,NULL,3,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
    SEGMENT(1,2,3,Start(200,100,NULL,NULL,3,2001,28355),End(100,100,NULL,NULL,4,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
    SEGMENT(1,2,4,Start(100,100,NULL,NULL,4,2001,28355),End(100,200,NULL,NULL,5,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)

     8 rows selected

    -- specific side in optimized rectangle
    WITH data as (
      SELECT t_geometry(geom,0.0005,3,1) as tGeom
        FROM (SELECT SDO_GEOMETRY(2003,28355,NULL,
                         SDO_ELEM_INFO_ARRAY(1,1003,3,5,2003,3),
                         SDO_ORDINATE_ARRAY(0,0,10,10,200,100,100,200)) AS GEOM
                FROM DUAL
             ) f
    )
    SELECT 3 as p_id, t.segment.<a href="#robo326">ST_AsText</a>()  as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter =&gt; 'ID',
                                       p_id     =&gt; 3) ) t;

          P_ID SEGMENT
    ---------- -----------------------------------------------------------------------------------------------------------------
             3 SEGMENT(1,1,3,Start(10,10,NULL,NULL,3,2001,28355),End(0,10,NULL,NULL,4,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)

    -- All segments of a 2D and 3D stroked linestring
    WITH data as (
      select t_geometry(geom,0.0005,3,1) as tGeom
        FROM (select SDO_GEOMETRY(2002,28355,NULL,
                         SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                            571303.231,321126.963, 571551.298,321231.412, 572765.519,321322.805, 572739.407,321845.051,
                            572752.463,322641.476, 573209.428,323398.732, 573796.954,323555.406, 574436.705,323790.416,
                            574945.895,324051.539, 575128.681,324652.122, 575128.681,325161.311, 575898.993,325213.536,
                            576238.453,324521.56, 576251.509,321048.626, 575259.242,322615.364, 574306.144,321296.693)) AS GEOM
                from dual UNION ALL
              select SDO_GEOMETRY(3302,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                             571303.231,321126.963,110.0,   571551.298,321231.412,377.21,   572765.519,321322.805,1586.05,  572739.407,321845.051,2105.16,
                             572752.463,322641.476,2895.92, 573209.428,323398.732,3773.96,  573796.954,323555.406,4377.62,  574436.705,323790.416,5054.23,
                             574945.895,324051.539,5622.33, 575128.681,324652.122,6245.56,  575128.681,325161.311,6751.06,  575898.993,325213.536,7517.55,
                             576238.453,324521.56,8282.72,  576251.509,321048.626,11730.53, 575259.242,322615.364,13571.62, 574306.144,321296.693,15186.88)) as geom
                from dual
             ) f
    )
    select a.tgeom.ST_Sdo_Gtype() as sdo_gtype, t.segment.<a href="#robo326">ST_AsText</a>()  as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter      =&gt; 'ALL',
                                       p_vertex      =&gt; NULL,
                                       p_filter_value=&gt; NULL,
                                       p_start_value =&gt; NULL,
                                       p_end_value   =&gt; NULL,
                                       p_unit        =&gt; null)) t;

     SDO_GTYPE segment
    --------- --------------------------------------------------------------------------------------------------------------------------------------------------------
         2002 segment(1,1,1,Start(571303.231,321126.963,NULL,NULL,1,2001,28355),End(571551.298,321231.412,NULL,NULL,2,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,2,Start(571551.298,321231.412,NULL,NULL,2,2001,28355),End(572765.519,321322.805,NULL,NULL,3,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,3,Start(572765.519,321322.805,NULL,NULL,3,2001,28355),End(572739.407,321845.051,NULL,NULL,4,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,4,Start(572739.407,321845.051,NULL,NULL,4,2001,28355),End(572752.463,322641.476,NULL,NULL,5,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,5,Start(572752.463,322641.476,NULL,NULL,5,2001,28355),End(573209.428,323398.732,NULL,NULL,6,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,6,Start(573209.428,323398.732,NULL,NULL,6,2001,28355),End(573796.954,323555.406,NULL,NULL,7,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,7,Start(573796.954,323555.406,NULL,NULL,7,2001,28355),End(574436.705,323790.416,NULL,NULL,8,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,8,Start(574436.705,323790.416,NULL,NULL,8,2001,28355),End(574945.895,324051.539,NULL,NULL,9,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,9,Start(574945.895,324051.539,NULL,NULL,9,2001,28355),End(575128.681,324652.122,NULL,NULL,10,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,10,Start(575128.681,324652.122,NULL,NULL,10,2001,28355),End(575128.681,325161.311,NULL,NULL,11,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,11,Start(575128.681,325161.311,NULL,NULL,11,2001,28355),End(575898.993,325213.536,NULL,NULL,12,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,12,Start(575898.993,325213.536,NULL,NULL,12,2001,28355),End(576238.453,324521.56,NULL,NULL,13,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,13,Start(576238.453,324521.56,NULL,NULL,13,2001,28355),End(576251.509,321048.626,NULL,NULL,14,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,14,Start(576251.509,321048.626,NULL,NULL,14,2001,28355),End(575259.242,322615.364,NULL,NULL,15,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         2002 segment(1,1,15,Start(575259.242,322615.364,NULL,NULL,15,2001,28355),End(574306.144,321296.693,NULL,NULL,16,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         3302 segment(1,1,1,Start(571303.231,321126.963,110,NULL,1,3301,28355),End(571551.298,321231.412,377.21,NULL,2,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,2,Start(571551.298,321231.412,377.21,NULL,2,3301,28355),End(572765.519,321322.805,1586.05,NULL,3,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,3,Start(572765.519,321322.805,1586.05,NULL,3,3301,28355),End(572739.407,321845.051,2105.16,NULL,4,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,4,Start(572739.407,321845.051,2105.16,NULL,4,3301,28355),End(572752.463,322641.476,2895.92,NULL,5,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,5,Start(572752.463,322641.476,2895.92,NULL,5,3301,28355),End(573209.428,323398.732,3773.96,NULL,6,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,6,Start(573209.428,323398.732,3773.96,NULL,6,3301,28355),End(573796.954,323555.406,4377.62,NULL,7,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,7,Start(573796.954,323555.406,4377.62,NULL,7,3301,28355),End(574436.705,323790.416,5054.23,NULL,8,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,8,Start(574436.705,323790.416,5054.23,NULL,8,3301,28355),End(574945.895,324051.539,5622.33,NULL,9,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,9,Start(574945.895,324051.539,5622.33,NULL,9,3301,28355),End(575128.681,324652.122,6245.56,NULL,10,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,10,Start(575128.681,324652.122,6245.56,NULL,10,3301,28355),End(575128.681,325161.311,6751.06,NULL,11,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,11,Start(575128.681,325161.311,6751.06,NULL,11,3301,28355),End(575898.993,325213.536,7517.55,NULL,12,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,12,Start(575898.993,325213.536,7517.55,NULL,12,3301,28355),End(576238.453,324521.56,8282.72,NULL,13,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,13,Start(576238.453,324521.56,8282.72,NULL,13,3301,28355),End(576251.509,321048.626,11730.53,NULL,14,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,14,Start(576251.509,321048.626,11730.53,NULL,14,3301,28355),End(575259.242,322615.364,13571.62,NULL,15,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
         3302 segment(1,1,15,Start(575259.242,322615.364,13571.62,NULL,15,3301,28355),End(574306.144,321296.693,15186.88,NULL,16,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)

     30 rows selected

    -- Extract 3rd/8th segment of 2D/3D stroked linestring
    WITH data as (
      SELECT t_geometry(geom,0.0005,3,1) as tGeom
        FROM (SELECT SDO_GEOMETRY(2002,28355,NULL,
                         SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                            571303.231,321126.963, 571551.298,321231.412, 572765.519,321322.805, 572739.407,321845.051,
                            572752.463,322641.476, 573209.428,323398.732, 573796.954,323555.406, 574436.705,323790.416,
                            574945.895,324051.539, 575128.681,324652.122, 575128.681,325161.311, 575898.993,325213.536,
                            576238.453,324521.56, 576251.509,321048.626, 575259.242,322615.364, 574306.144,321296.693)) AS GEOM
                FROM DUAL
                UNION ALL
              SELECT SDO_GEOMETRY(2002,NULL,NULL,
                                  SDO_ELEM_INFO_ARRAY(1,4,2, 1,2,1, 3,2,2), -- compound line string
                                  SDO_ORDINATE_ARRAY(
                                      252000,5526000,
                                      252700,5526700, 252644.346,5526736.414,
                                      252500,5526700, 252280.427,5526697.167, 252230.478,5526918.373
                                  )
                      ) as geom
                FROM DUAL
             ) f
    )
    SELECT case when a.tGeom.ST_HasCircularArcs()=1 then 3 else 8 end as id,
           a.tgeom.ST_Sdo_Gtype() as sdo_gtype,
           t.segment.<a href="#robo326">ST_AsText</a>()  as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter =&gt; 'ID',
                                       p_id     =&gt; case when a.tGeom.ST_HasCircularArcs()=1 then 3 else 8 end )) t;

    ID SDO_GTYPE SEGMENT
    -- --------- -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
     8      2002 SEGMENT(1,1,8,Start(574436.705,323790.416,NULL,NULL,1,2001,28355),End(574945.895,324051.539,NULL,NULL,2,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
     3      2002 SEGMENT(1,1,3,Start(252700,5526700,NULL,NULL,1,2001,NULL),Mid(252644.346,5526736.414,NULL,NULL,2,2001,NULL),End(252500,5526700,NULL,NULL,3,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)

    WITH data as (
      select t_geometry(
               SDO_GEOMETRY(2002,28355,NULL,
                            SDO_ELEM_INFO_ARRAY(1,2,1),
                            SDO_ORDINATE_ARRAY(
                              571303.231,321126.963, 571551.298,321231.412, 572765.519,321322.805, 572739.407,321845.051,
                              572752.463,322641.476, 573209.428,323398.732, 573796.954,323555.406, 574436.705,323790.416,
                              574945.895,324051.539, 575128.681,324652.122, 575128.681,325161.311, 575898.993,325213.536,
                              576238.453,324521.56, 576251.509,321048.626, 575259.242,322615.364, 574306.144,321296.693)),
               0.0005,3,1) as tGeom
        from dual
    )
    select a.tgeom.ST_Sdo_Gtype() as sdo_gtype, t.segment.<a href="#robo326">ST_AsText</a>()  as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter      =&gt; 'DISTANCE',
                                       p_vertex      =&gt; NULL,
                                       p_filter_value=&gt; NULL,
                                       p_start_value =&gt; NULL,
                                       p_end_value   =&gt; NULL,
                                       p_unit        =&gt; null)) t;

    Error report:
    SQL Error: ORA-20102: If p_filter DISTANCE, then p_vertex must not be NULL.
    ORA-06512: at "&amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a>", line 1901
    ORA-06512: at line 1

    -- Find nearest segment to supplied vertex.
    WITH data as (
      select t_geometry(geom,0.0005,3,1) as tGeom
        FROM (select SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                            571303.231,321126.963, 571551.298,321231.412, 572765.519,321322.805, 572739.407,321845.051,
                            572752.463,322641.476, 573209.428,323398.732, 573796.954,323555.406, 574436.705,323790.416,
                            574945.895,324051.539, 575128.681,324652.122, 575128.681,325161.311, 575898.993,325213.536,
                            576238.453,324521.56,  576251.509,321048.626, 575259.242,322615.364, 574306.144,321296.693)) as geom
                from dual UNION ALL
              select SDO_GEOMETRY(3302,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                             571303.231,321126.963,110.0,   571551.298,321231.412,377.21,   572765.519,321322.805,1586.05,  572739.407,321845.051,2105.16,
                             572752.463,322641.476,2895.92, 573209.428,323398.732,3773.96,  573796.954,323555.406,4377.62,  574436.705,323790.416,5054.23,
                             574945.895,324051.539,5622.33, 575128.681,324652.122,6245.56,  575128.681,325161.311,6751.06,  575898.993,325213.536,7517.55,
                             576238.453,324521.56,8282.72,  576251.509,321048.626,11730.53, 575259.242,322615.364,13571.62, 574306.144,321296.693,15186.88)) as geom
                from dual
             ) f
    )
    select a.tgeom.ST_Sdo_Gtype() as sdo_gtype, t.segment.<a href="#robo326">ST_AsText</a>()  as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter =&gt; 'DISTANCE',
                                       p_vertex =&gt; T_Vertex(SDO_GEOMETRY(2001,28355,SDO_POINT_TYPE(572804.687,323424.844,NULL),NULL,NULL)) )) t;

    SDO_GTYPE segment
    --------- -------------------------------------------------------------------------------------------------------------------------------------------------------
         2002 segment(1,1,5,Start(572752.463,322641.476,NULL,NULL,5,2001,28355),End(573209.428,323398.732,NULL,NULL,6,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         3302 segment(1,1,5,Start(572752.463,322641.476,2895.92,NULL,5,3301,28355),End(573209.428,323398.732,3773.96,NULL,6,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)

    -- Find segments containing measure value
    WITH data as (
      select t_geometry(geom,0.0005,3,1) as tGeom
        FROM (select SDO_GEOMETRY(2002,28355,NULL,
                         SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                            571303.231,321126.963, 571551.298,321231.412, 572765.519,321322.805, 572739.407,321845.051,
                            572752.463,322641.476, 573209.428,323398.732, 573796.954,323555.406, 574436.705,323790.416,
                            574945.895,324051.539, 575128.681,324652.122, 575128.681,325161.311, 575898.993,325213.536,
                            576238.453,324521.56, 576251.509,321048.626, 575259.242,322615.364, 574306.144,321296.693)) AS GEOM
                from dual UNION ALL
              select SDO_GEOMETRY(3302,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                             571303.231,321126.963,110.0,   571551.298,321231.412,377.21,   572765.519,321322.805,1586.05,  572739.407,321845.051,2105.16,
                             572752.463,322641.476,2895.92, 573209.428,323398.732,3773.96,  573796.954,323555.406,4377.62,  574436.705,323790.416,5054.23,
                             574945.895,324051.539,5622.33, 575128.681,324652.122,6245.56,  575128.681,325161.311,6751.06,  575898.993,325213.536,7517.55,
                             576238.453,324521.56,8282.72,  576251.509,321048.626,11730.53, 575259.242,322615.364,13571.62, 574306.144,321296.693,15186.88)) as geom
                from dual
             ) f
    )
    select a.tgeom.ST_Sdo_Gtype() as sdo_gtype,
           t.segment.<a href="#robo326">ST_AsText</a>()  as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter      =&gt; 'MEASURE',
                                       p_filter_value=&gt; 2100.0 )) t;

    SDO_GTYPE segment
    --------- -------------------------------------------------------------------------------------------------------------------------------------------------------
         2002 segment(1,1,4,Start(572739.407,321845.051,NULL,NULL,4,2001,28355),End(572752.463,322641.476,NULL,NULL,5,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
         3302 segment(1,1,3,Start(572765.519,321322.805,1586.05,NULL,3,3301,28355),End(572739.407,321845.051,2105.16,NULL,4,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)

    -- Find data within measure range if measured or length range if not
    WITH data as (
      select t_geometry(geom,0.0005,3,1) as tGeom
        FROM (select SDO_GEOMETRY(2002,28355,NULL,
                         SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                            571303.231,321126.963, 571551.298,321231.412, 572765.519,321322.805, 572739.407,321845.051,
                            572752.463,322641.476, 573209.428,323398.732, 573796.954,323555.406, 574436.705,323790.416,
                            574945.895,324051.539, 575128.681,324652.122, 575128.681,325161.311, 575898.993,325213.536,
                            576238.453,324521.56, 576251.509,321048.626, 575259.242,322615.364, 574306.144,321296.693)) AS GEOM
                from dual UNION ALL
              select SDO_GEOMETRY(3302,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                             571303.231,321126.963,110.0,   571551.298,321231.412,377.21,   572765.519,321322.805,1586.05,  572739.407,321845.051,2105.16,
                             572752.463,322641.476,2895.92, 573209.428,323398.732,3773.96,  573796.954,323555.406,4377.62,  574436.705,323790.416,5054.23,
                             574945.895,324051.539,5622.33, 575128.681,324652.122,6245.56,  575128.681,325161.311,6751.06,  575898.993,325213.536,7517.55,
                             576238.453,324521.56,8282.72,  576251.509,321048.626,11730.53, 575259.242,322615.364,13571.62, 574306.144,321296.693,15186.88)) as geom
                from dual
             ) f
    )
    select a.tgeom.ST_Sdo_Gtype() as sdo_gtype, t.segment.<a href="#robo285">ST_SdoGeometry</a>(a.tGeom.<a href="#robo242">ST_Dims</a>()) as geom
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter      =&gt; 'RANGE',
                                       p_start_value =&gt; 2100.0,
                                       p_end_value   =&gt; 4300.0
                                       )) t;

    SDO_GTYPE GEOM
    --------- ----------------------------------------------------------------------------------------------------------------------------------------
         2002 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(572739.407,321845.051,572752.463,322641.476))
         2002 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(572752.463,322641.476,573209.428,323398.732))
         2002 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(573209.428,323398.732,573796.954,323555.406))
         2002 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(573796.954,323555.406,574436.705,323790.416))
         3302 SDO_GEOMETRY(3302,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(572765.519,321322.805,1586.05,572739.407,321845.051,2105.16))
         3302 SDO_GEOMETRY(3302,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(572739.407,321845.051,2105.16,572752.463,322641.476,2895.92))
         3302 SDO_GEOMETRY(3302,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(572752.463,322641.476,2895.92,573209.428,323398.732,3773.96))
         3302 SDO_GEOMETRY(3302,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(573209.428,323398.732,3773.96,573796.954,323555.406,4377.62))

     8 rows selected

    -- Select segments which cross X ordinate value
      WITH data as (
      SELECT t_geometry(geom,0.0005,3,1) as tGeom
        FROM (SELECT SDO_GEOMETRY(2002,28355,NULL,
                         SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                            571303.231,321126.963, 571551.298,321231.412, 572765.519,321322.805, 572739.407,321845.051,
                            572752.463,322641.476, 573209.428,323398.732, 573796.954,323555.406, 574436.705,323790.416,
                            574945.895,324051.539, 575128.681,324652.122, 575128.681,325161.311, 575898.993,325213.536,
                            576238.453,324521.56, 576251.509,321048.626, 575259.242,322615.364, 574306.144,321296.693)) AS GEOM
                FROM DUAL UNION ALL
              SELECT SDO_GEOMETRY(3302,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                             571303.231,321126.963,110.0,   571551.298,321231.412,377.21,   572765.519,321322.805,1586.05,  572739.407,321845.051,2105.16,
                             572752.463,322641.476,2895.92, 573209.428,323398.732,3773.96,  573796.954,323555.406,4377.62,  574436.705,323790.416,5054.23,
                             574945.895,324051.539,5622.33, 575128.681,324652.122,6245.56,  575128.681,325161.311,6751.06,  575898.993,325213.536,7517.55,
                             576238.453,324521.56,8282.72,  576251.509,321048.626,11730.53, 575259.242,322615.364,13571.62, 574306.144,321296.693,15186.88)) as geom
                FROM DUAL
             ) f
    )
    SELECT a.tgeom.ST_Sdo_Gtype() as sdo_gtype,
           t.segment.<a href="#robo326">ST_AsText</a>() as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter      =&gt; 'X',
                                       p_filter_value=&gt; 571551.0)) t;

     SDO_GTYPE SEGMENT
    ---------- --------------------------------------------------------------------------------------------------------------------------------------------------
          2002 SEGMENT(1,1,1,Start(571303.231,321126.963,NULL,NULL,1,2001,28355),End(571551.298,321231.412,NULL,NULL,2,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
          3302 SEGMENT(1,1,1,Start(571303.231,321126.963,110,NULL,1,3301,28355),End(571551.298,321231.412,377.21,NULL,2,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)

    -- Find segments containing X ordinate value
    WITH data as (
      SELECT t_geometry(geom,0.0005,3,1) as tGeom
        FROM (SELECT SDO_GEOMETRY(2002,28355,NULL,
                         SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                            571303.231,321126.963, 571551.298,321231.412, 572765.519,321322.805, 572739.407,321845.051,
                            572752.463,322641.476, 573209.428,323398.732, 573796.954,323555.406, 574436.705,323790.416,
                            574945.895,324051.539, 575128.681,324652.122, 575128.681,325161.311, 575898.993,325213.536,
                            576238.453,324521.56, 576251.509,321048.626, 575259.242,322615.364, 574306.144,321296.693)) AS GEOM
                FROM DUAL UNION ALL
              SELECT SDO_GEOMETRY(3302,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(
                             571303.231,321126.963,110.0,   571551.298,321231.412,377.21,   572765.519,321322.805,1586.05,  572739.407,321845.051,2105.16,
                             572752.463,322641.476,2895.92, 573209.428,323398.732,3773.96,  573796.954,323555.406,4377.62,  574436.705,323790.416,5054.23,
                             574945.895,324051.539,5622.33, 575128.681,324652.122,6245.56,  575128.681,325161.311,6751.06,  575898.993,325213.536,7517.55,
                             576238.453,324521.56,8282.72,  576251.509,321048.626,11730.53, 575259.242,322615.364,13571.62, 574306.144,321296.693,15186.88)) as geom
                FROM DUAL
             ) f
    )
    SELECT a.tgeom.ST_Sdo_Gtype() as sdo_gtype,
           t.segment.<a href="#robo326">ST_AsText</a>() as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter      =&gt; 'Y',
                                       p_filter_value=&gt; 321231.412)) t;

     SDO_GTYPE SEGMENT
    ---------- ------------------------------------------------------------------------------------------------------------------------------------------------------------
          2002 SEGMENT(1,1,1,Start(571303.231,321126.963,NULL,NULL,1,2001,28355),End(571551.298,321231.412,NULL,NULL,2,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
          2002 SEGMENT(1,1,2,Start(571551.298,321231.412,NULL,NULL,2,2001,28355),End(572765.519,321322.805,NULL,NULL,3,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
          2002 SEGMENT(1,1,14,Start(576251.509,321048.626,NULL,NULL,14,2001,28355),End(575259.242,322615.364,NULL,NULL,15,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
          3302 SEGMENT(1,1,1,Start(571303.231,321126.963,110,NULL,1,3301,28355),End(571551.298,321231.412,377.21,NULL,2,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
          3302 SEGMENT(1,1,2,Start(571551.298,321231.412,377.21,NULL,2,3301,28355),End(572765.519,321322.805,1586.05,NULL,3,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)
          3302 SEGMENT(1,1,14,Start(576251.509,321048.626,11730.53,NULL,14,3301,28355),End(575259.242,322615.364,13571.62,NULL,15,3301,28355),SDO_GTYPE=3302,SDO_SRID=28355)

     6 rows selected

    -- Circular arc test showing mid point involved in determining if segment is selected for X ordinates.
    WITH data as (
      SELECT t_geometry(
               SDO_GEOMETRY(2002,NULL,NULL,
                            SDO_ELEM_INFO_ARRAY(1,2,2), -- Circular Arc line string
                            SDO_ORDINATE_ARRAY(252230.478,5526918.373, 252400.08,5526918.373,252230.478,5527000.0)
               ),0.0005,3,1)
               as tGeom
        FROM DUAL
    )
    SELECT t.segment.<a href="#robo326">ST_AsText</a>()  as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter       =&gt; 'X',
                                       p_filter_value =&gt; 252309.544 ) ) t;

    SEGMENT
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    SEGMENT(1,1,1,Start(252230.478,5526918.373,NULL,NULL,1,2001,NULL),Mid(252400.08,5526918.373,NULL,NULL,2,2001,NULL),End(252230.478,5527000,NULL,NULL,3,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)


    -- Circular arc test showing mid point involved in determining if segment is selected for Y ordinates.
    WITH data as (
      SELECT t_geometry(
               SDO_GEOMETRY(2002,NULL,NULL,
                            SDO_ELEM_INFO_ARRAY(1,2,2), -- Circular Arc line string
                            SDO_ORDINATE_ARRAY(252700,5526700, 252644.346,5526736.414, 252500,5526700)
               ),0.0005,3,1)
               as tGeom
        FROM DUAL
    )
    SELECT t.segment.<a href="#robo326">ST_AsText</a>() as segment
      FROM data a,
           table(a.tgeom.<strong>ST_Segmentize</strong>(p_filter       =&gt; 'Y',
                                       p_filter_value =&gt; 5526724.224 ) ) t;

    SEGMENT
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    SEGMENT(1,1,1,Start(252700,5526700,NULL,NULL,1,2001,NULL),Mid(252644.346,5526736.414,NULL,NULL,2,2001,NULL),End(252500,5526700,NULL,NULL,3,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)

    -- Circle
    With data As (
    SELECT t_geometry(
             SDO_GEOMETRY(2003,28355,null,
                          sdo_elem_info_array(1,1003,4),
                          SDO_ORDINATE_ARRAY(252315.279,5526865.07512246, 252409.390377544,5526959.1865, 252315.279,5527053.29787754)
                          ),
             0.0005,3,1) as circlePoly
      FROM Dual
    )
    select t.segment.<a href="#robo326">ST_AsText</a>() as segment
      from data a,
           table(a.circlePoly.<strong>ST_Segmentize</strong>()) t;

    SEGMENT
    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    SEGMENT(1,1,1,
            Start(1,252315.279,5526865.07512246,NULL,NULL,2001,28355),
              Mid(2,252409.39037754,5526959.1865,NULL,NULL,2001,28355),
              End(3,252315.279,5527053.29787754,NULL,NULL,2001,28355),
            SDO_GTYPE=2002,SDO_SRID=28355)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2017 - Original PLSQL Coding for Oracle
</pre>
<a name="robo183"></a>
<a name="T5fGEOMETRY2fST5fSegmentN"></a>
<h2>15.146.  T_GEOMETRY/ST_SegmentN [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SegmentN</strong> -- Returns the segment referenced by p_segment in the underlying linear or polygonal geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SegmentN</strong>(p_segment in integer)
             Return &amp;&amp;INSTALL_SCHEMA..T_Segment Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns the 2-point segment identified by p_segment in a polygon or linestring.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
     Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
     select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',null),0.005,3,1) as tgeom From Dual
    )
    select a.tgeom.<a href="#robo91">ST_GeometryType</a>() as gType,
           (row_number() over (partition by a.tgeom.<a href="#robo91">ST_GeometryType</a>() order by 1)) ||
             ' of ' ||
             a.tGeom.<a href="#robo151">ST_NumSegments</a>() as reference,
           a.tGeom.<strong>ST_SegmentN</strong>(t.IntValue).<a href="#robo326">ST_AsText</a>()  as segment
      from data a,
           table(<a href="#robo4">TOOLS</a>.generate_series(1,a.tgeom.<a href="#robo151">ST_NumSegments</a>(),1)) t;

    GTYPE         REFERENCE SEGMENT
    ------------- --------- --------------------------------------------------------------------------------------------------------------
    ST_LINESTRING    1 of 5 SEGMENT(1,1,1,Start(0,0,NULL,NULL,1,2001,NULL),End(10,0,NULL,NULL,2,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_LINESTRING    2 of 5 SEGMENT(1,1,2,Start(10,0,NULL,NULL,2,2001,NULL),End(10,5,NULL,NULL,3,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_LINESTRING    3 of 5 SEGMENT(1,1,3,Start(10,5,NULL,NULL,3,2001,NULL),End(10,10,NULL,NULL,4,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_LINESTRING    4 of 5 SEGMENT(1,1,4,Start(10,10,NULL,NULL,4,2001,NULL),End(5,10,NULL,NULL,5,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_LINESTRING    5 of 5 SEGMENT(1,1,5,Start(5,10,NULL,NULL,5,2001,NULL),End(5,5,NULL,NULL,6,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_POLYGON       1 of 8 SEGMENT(1,1,1,Start(0,0,NULL,NULL,1,2001,NULL),End(20,0,NULL,NULL,2,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_POLYGON       2 of 8 SEGMENT(1,1,2,Start(20,0,NULL,NULL,2,2001,NULL),End(20,20,NULL,NULL,3,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_POLYGON       3 of 8 SEGMENT(1,1,3,Start(20,20,NULL,NULL,3,2001,NULL),End(0,20,NULL,NULL,4,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_POLYGON       4 of 8 SEGMENT(1,1,4,Start(0,20,NULL,NULL,4,2001,NULL),End(0,0,NULL,NULL,5,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_POLYGON       5 of 8 SEGMENT(1,2,1,Start(10,10,NULL,NULL,1,2001,NULL),End(10,11,NULL,NULL,2,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_POLYGON       6 of 8 SEGMENT(1,2,2,Start(10,11,NULL,NULL,2,2001,NULL),End(11,11,NULL,NULL,3,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_POLYGON       7 of 8 SEGMENT(1,2,3,Start(11,11,NULL,NULL,3,2001,NULL),End(11,10,NULL,NULL,4,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_POLYGON       8 of 8 SEGMENT(1,2,4,Start(11,10,NULL,NULL,4,2001,NULL),End(10,10,NULL,NULL,5,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)

     13 rows selected
</pre>
<p class="item_name">RESULT</p>
<pre>    A 2 point segment (<a href="#robo30">T_SEGMENT</a>) -- Function supplied with p_segment of 3 will return 3rd segment composed of 4th and 5th points.
</pre>
<p class="item_name">TODO</p>
<pre>    Support for CircularString elements.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Sept 2015 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo184"></a>
<a name="T5fGEOMETRY2fST5fSetPoint"></a>
<h2>15.147.  T_GEOMETRY/ST_SetPoint [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SetPoint</strong> -- Sets, or replaces, SDO_POINT_TYPE element of underlying SDO_GEOMETRY.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SetPoint</strong> (p_point in mdsys.sdo_point_type),
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Replaces any, or no, SDO_POINT within underlying SDO_GEOMETRY object.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_point : mdsys.sdo_point_type : Any valid mdsys.sdo_point_type object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jun 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo185"></a>
<a name="T5fGEOMETRY2fST5fSetPrecision"></a>
<h2>15.148.  T_GEOMETRY/ST_SetPrecision [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SetPrecision</strong> -- Sets dPrecision property value of object after construction.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SetPrecision</strong> (p_dPrecision in integer default 3),
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The dPrecision object property is normally set when the object is constructed.
    This member function allows the user to change the value dynamically.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_dPrecision : integer : Any valid integer value for the Oracle ROUND function.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jun 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo186"></a>
<a name="T5fGEOMETRY2fST5fSetProjection"></a>
<h2>15.149.  T_GEOMETRY/ST_SetProjection [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SetProjection</strong> -- Sets projected property of object after query of MDSYS CS metadata.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Procedure <strong>ST_SetProjection</strong>  (SELF in out &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a>),
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The projected object property is used by the methods of the <a href="#robo24">T_GEOMETRY</a> object
    when executing SDO functions that require knowledge of whether the mdsys.sdo_geometry is
    coordinate system is projected or geodetic. If the property is not set by a constructor,
    on instantiation, this function can be used to set that property at any time.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo187"></a>
<a name="T5fGEOMETRY2fST5fSetSdoGtype"></a>
<h2>15.150.  T_GEOMETRY/ST_SetSdoGtype [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SetSdoGtype</strong> -- Sets SDO_GTYPE for underlying geometry object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SetSdoGtype</strong> (p_sdo_gtype in integer),
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If the SDO_GTYPE property is not set by a constructor on instantiation,
    this Function can be used to set that property at any time.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_sdo_gtype (integer) : A valid sdo_gtype number.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jul 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo188"></a>
<a name="T5fGEOMETRY2fST5fSetSRID"></a>
<h2>15.151.  T_GEOMETRY/ST_SetSRID [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SetSRID</strong> -- Sets SDO_SRID for underlying geometry object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SetSRID</strong> (SELF in out &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a>),
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If the SDO_SRID property is not set by a constructor on instantiation,
    this Function can be used to set that property at any time.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_srid (integer) - Any valid sdo_srid number;
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jul 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo189"></a>
<a name="T5fGEOMETRY2fST5fSetTolerance"></a>
<h2>15.152.  T_GEOMETRY/ST_SetTolerance [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SetTolerance</strong> -- Sets tolerance value of object after construction.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SetTolerance</strong> (p_tolerance in integer default 0.005),
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The tolerance object property is normally set when the object is constructed.
    This member function allows the user to change the value dynamically.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_tolerance : number : Any valid Oracle Spatial tolerance. Default is 5cm as per geodetic value.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jun 2017 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo190"></a>
<a name="T5fGEOMETRY2fST5fSmoothTile"></a>
<h2>15.153.  T_GEOMETRY/ST_SmoothTile [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SmoothTile</strong> -- Smoothly polygon created from raster to segment conversion
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SmoothTile</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    A polygon created from raster to segment conversion, will have many vertices falling
    along the same straight line. And whose sides will be "stepped".
    This function removes coincident points on a side so that a side will be defined by
    only a start and end vertex. The stepped sies will be replaced with vertices in the midpoint of each step
    so that any consistent stepped side will be replaced by a single line.
</pre>
<p class="item_name">NOTES</p>
<pre>    Only supports polygons and multipolygons.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo24">T_GEOMETRY</a>) -- Grid shaped polygon replaced by polygons with straight sides.
</pre>
<p class="item_name">NOTES</p>
<pre>    Uses
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013 - Original Coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo191"></a>
<a name="T5fGEOMETRY2fST5fSnap"></a>
<h2>15.154.  T_GEOMETRY/ST_Snap [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Snap</strong> -- The function snaps a point to a linestring(2002) or multi-linestring (2006).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Snap</strong> (p_point in mdsys.sdo_geometry,
                             p_unit  in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo17">T_GEOMETRIES</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The function snaps a point to a linestring(2002) or multi-linestring (2006).
    More than one result point may be returned if p_point was equidistant from two
    separate segments/segments of the line-string.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_point (MDSYS.SDO_GEOMETRY) - A point(2001) mdsys.sdo_geometry object describing the
                                   point for splitting the linestring.
    p_unit  (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    snapped_points (<a href="#robo17">T_GEOMETRIES</a>) -- One or more points where supplied point has snapped to the linestring.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo192"></a>
<a name="T5fGEOMETRY2fST5fSnapN"></a>
<h2>15.155.  T_GEOMETRY/ST_SnapN [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SnapN</strong> -- The function snaps a point to a (multi)linestring (2002/2006) and returns the requested point as a single geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SnapN</strong>(p_point in mdsys.sdo_geometry,
                             p_id    in integer,
                             p_unit  in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The function snaps a point to a linestring(2002) or multi-linestring (2006).
    <a href="#robo191">ST_Snap</a> which is called by this function can return more than one point if p_point was equidistant from two
    separate segments/segments of the line-string: this function allows the caller to select a single geometry.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_point (Sdo_Geometry) -- A point(2001) mdsys.sdo_geometry object describing the
                              point for splitting the linestring.
    p_id         (integer) -- Point to return. If p_id is null or &gt; number of geometries the last is returned.
    p_unit      (VarChar2) -- Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    Single Snap Point (T_Geometry) -- Nominated snapped point is returned.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo193"></a>
<a name="T5fGEOMETRY2fST5fSplit28p5fmeasure20p5funit29"></a>
<h2>15.156.  T_GEOMETRY/ST_Split(p_measure p_unit) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Split -- Splits linestring or multi-linestring object at measure point.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Split (p_measure in number,
                              p_unit    in varchar2  DEFAULT null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Wrapper member function allowing split point to be determined by a measure
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    ST_Split(p_vetex in <a href="#robo33">T_VERTEX</a>...);
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_measure (Number)   - Measure defining split point.
    p_unit    (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo17">T_GEOMETRIES</a>) - One or more geometry objects.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Apr 2014 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo194"></a>
<a name="T5fGEOMETRY2fST5fSplit28p5fpoint20p5funit29"></a>
<h2>15.157.  T_GEOMETRY/ST_Split(p_point p_unit) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Split -- Splits linestring or multi-linestring object at closest point on linestring to supplied point mdsys.sdo_geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Split (p_point in mdsys.sdo_geometry,
                              p_unit  in varchar2 DEFAULT null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo17">T_GEOMETRIES</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Wrapper member function allowing mdsys.sdo_geometry 2001 point rather than T_Vertex.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    ST_Split(p_vertex in <a href="#robo33">T_VERTEX</a>...);
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_point (MDSYS.SDO_GEOMETRY) - A point used to split the linestring.
    p_unit  (VarChar2)           - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo17">T_GEOMETRIES</a>) - One or more geometry objects.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2014 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo195"></a>
<a name="T5fGEOMETRY2fST5fSplit28p5fvertex20p5funit29"></a>
<h2>15.158.  T_GEOMETRY/ST_Split(p_vertex p_unit) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Split -- Splits linestring or multi-linestring object at closest point on linestring to supplied T_Vertex.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Split (p_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                              p_unit   in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo17">T_GEOMETRIES</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Using supplied point, this function splits a linestring or multi-linestring object
    at its closest point on linestring. Since the closest point may occur more than once,
    multiple linestrings may be returned. Normally the point should lie on the linestring at
    a vertex or between two vertices but the algorithm used will split a line even if
    the point does not lie on the line. Where the point does not lie on the linestring
    the algorithm approximates the nearest point on the linestring to the supplied point
    and splits it there: the algorithm is ratio based and will not necessarily be accurate
    for geodetic data. The function supports linestrings with circular arcs.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_point (MDSYS.SDO_GEOMETRY) - A point(2001) mdsys.sdo_geometry object describing the point for splitting the linestring.
    p_unit  (VarChar2)           - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (<a href="#robo17">T_GEOMETRIES</a>) - One or more geometry objects.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo196"></a>
<a name="T5fGEOMETRY2fST5fSplit5fSegments28p5fpoint20p5funit20p5fpairs29"></a>
<h2>15.159.  T_GEOMETRY/ST_Split_Segments(p_point p_unit p_pairs) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Split_Segments -- Splits geometry at nearest point to supplied mdsys.sdo_geometry 2001 point.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Split_Segments  (p_point in mdsys.sdo_geometry,
                                       p_unit  in varchar2    DEFAULT null,
                                       p_pairs in integer DEFAULT 0)
             Return &amp;&amp;INSTALL_SCHEMA..T_SEGMENTs Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Wrapper member function allowing mdsys.sdo_geometry 2001 point rather than T_Vertex.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    ST_Split_Segments(p_vertex t_vertex...);
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_point (MDSYS.SDO_GEOMETRY) - A point used to split the linestring.
    p_unit  (VarChar2)           - Unit of measure for distance calculations.
    p_pairs (Integer)            - 0 : Return first split point's segments if more than one exists;
                                   1 : Return all split point segments.
</pre>
<p class="item_name">RESULT</p>
<pre>    segments (<a href="#robo20">T_SEGMENTS</a>) - One or more segment objects.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
  DEPRECATED
    April 30th. Use ....
</pre>
<a name="robo197"></a>
<a name="T5fGEOMETRY2fST5fSplit5fSegments28p5fvertex20p5funit20p5fpairs29"></a>
<h2>15.160.  T_GEOMETRY/ST_Split_Segments(p_vertex p_unit p_pairs) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Split_Segments -- Splits geometry at nearest point on the geometry to supplied vertex.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Split_Segments(p_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                                     p_unit   in varchar2    DEFAULT null,
                                     p_pairs  in integer DEFAULT 0)
                                 Return &amp;&amp;INSTALL_SCHEMA..T_SEGMENTs Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Using supplied vertex, the geometry is split at the nearest point on the geometry.
    Normally the vertex should lie on the linestring at a specific vertex or between two
    vertices but the algorithm used will split a line even if the supplied vertex does not
    lie on the line. Where the point does not lie on the linestring the algorithm approximates
    the nearest point on the linestring to the supplied point and splits it there.
    Where a linestring splits an existing segment between two vertices, two halfs of the segment
    are returned. If the split point is at an exact vertex the segment before and after are returned.
    If the linestring is split at the start, the previous segment returned is null, and for the end
    point the second segment returns is null. Two segments are always returned.
    Since the closest point may occur more than once because the supplied vertex is perfectly between
    two line-string segments all possible results are returned. The first pair occurs earlier in the
    linestring than the later ones.
    If p_pairs is set to 0, only the first split segments are returned.
    The algorithm is ratio based and will not necessarily be accurate for geodetic data.
    The function supports linestrings with circular arcs.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_vertex (<a href="#robo33">T_VERTEX</a>) - A vertex point used to split the linestring.
    p_unit   (VarChar2) - Unit of measure for distance calculations.
    p_pairs  (Integer)  - 0 : Return first split point's segments if more than one exists;
                          1 : Return all split point segments.
</pre>
<p class="item_name">RESULT</p>
<pre>    segments (<a href="#robo20">T_SEGMENTS</a>) - One or more segment objects.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
  DEPRECATED
    April 30th. Use ...
</pre>
<a name="robo198"></a>
<a name="T5fGEOMETRY2fST5fSquareBuffer"></a>
<h2>15.161.  T_GEOMETRY/ST_SquareBuffer [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SquareBuffer</strong> -- Creates a square buffer around (multi)linestrings.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SquareBuffer</strong>(p_distance in number,
                                    p_curved   in number default 0,
                                    p_unit     in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function creates a square buffer around all linestrings in an object.
    A negative buffer is not possible.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_distance (Number)   - value &gt; 0.0
    p_curved   (Number)   - 0 = no; 1 = yes for angles in linestring (See <a href="#robo157">ST_Parallel</a>)
    p_unit     (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    polygon (<a href="#robo24">T_GEOMETRY</a>) - Result of square buffering linestrings
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo199"></a>
<a name="T5fGEOMETRY2fST5fSRID"></a>
<h2>15.162.  T_GEOMETRY/ST_SRID [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SRID</strong> -- Returns underlying mdsys.sdo_geometry's SDO_SRID attribute.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SRID</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Is a wrapper over the mdsys.sdo_geometry SELF.GEOM.SDO_SRID attribute.
</pre>
<p class="item_name">RESULT</p>
<pre>    spatial reference id (Integer) -- eg 8311 etc.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo200"></a>
<a name="T5fGEOMETRY2fST5fStartPoint"></a>
<h2>15.163.  T_GEOMETRY/ST_StartPoint [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_StartPoint</strong> -- Returns first Point in underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_StartPoint</strong>
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns first point in underlying geometry.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5))',null),0.005,3,1) as TPolygon
        From Dual
    )
    select a.TPolygon.<strong>ST_StartPoint</strong>().<a href="#robo326">ST_AsText</a>() as Start_Point
      from data a;

    START_POINT
    ---------------
    POINT (0.0 0.0)
</pre>
<p class="item_name">RESULT</p>
<pre>    Point (<a href="#robo24">T_GEOMETRY</a>) -- First point in underlying geometry.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo201"></a>
<a name="T5fGEOMETRY2fST5fStartSegment"></a>
<h2>15.164.  T_GEOMETRY/ST_StartSegment [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_StartSegment</strong> -- Returns first Segment in underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_StartSegment</strong>
             Return &amp;&amp;INSTALL_SCHEMA..T_Segment Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns first segment in underlying geometry.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
     Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
     select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10))',null),0.005,3,1) as tgeom From Dual
    )
    select a.tgeom.<a href="#robo91">ST_GeometryType</a>()             as geometryType,
           a.tGeom.<strong>ST_StartSegment</strong>().<a href="#robo326">ST_AsText</a>() as start_segment
      from data a;

    GEOMETRYTYPE  START_SEGMENT
    ------------- ------------------------------------------------------------------------------------------------------------
    ST_LINESTRING SEGMENT(1,1,1,Start(0,0,NULL,NULL,1,2001,NULL),End(10,0,NULL,NULL,2,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
    ST_POLYGON    SEGMENT(1,1,1,Start(0,0,NULL,NULL,1,2001,NULL),End(20,0,NULL,NULL,2,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
</pre>
<p class="item_name">RESULT</p>
<pre>    Segment (<a href="#robo24">T_GEOMETRY</a>) -- First segment in underlying geometry.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo202"></a>
<a name="T5fGEOMETRY2fST5fStartVertex"></a>
<h2>15.165.  T_GEOMETRY/ST_StartVertex [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_StartVertex</strong> -- Returns first vertex in underlying geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_StartVertex</strong>
             Return T_Vertex Deterministic
</pre>
<p class="item_name">RESULT</p>
<pre>    Vertex (T_Vertex) -- Vertex at start of geometry.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns first vertex at start of underlying geometry.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,20 0,20 20,10 20,0 20)',null),0.005,3,1) as tLine
        From Dual
    )
    select a.tLine.<strong>ST_StartVertex</strong>().<a href="#robo326">ST_AsText</a>() as start_vertex
      from data a;

    VERTEX
    ----------------------------------------------------------
    T_Vertex(X=0.0,Y=0.0,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo203"></a>
<a name="T5fGEOMETRY2fST5fSwapOrdinates"></a>
<h2>15.166.  T_GEOMETRY/ST_SwapOrdinates [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SwapOrdinates</strong> - Allows for swapping ordinate pairs in a geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SwapOrdinates</strong> (p_pair in varchar2 default 'XY' )
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Sometimes the ordinates of a geometry can be swapped such as latitude for X and Longitude for Y when it should be reversed.
    This function allows for the swapping of pairs of ordinates controlled by the p_pair parameter.
    The following pairs can be swapped in one call:
      * XY, XZ, XM, YZ, YM, ZM
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_pair (varchar2) - One of XY, XZ, XM, YZ, YM, ZM
</pre>
<p class="item_name">RESULT</p>
<pre>    Changed geometry (sdo_geometry) - T_Geometry whose internal geom has had its ordinates swapped.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3001,null,sdo_point_type(1,20,30),null,null),0.005).<strong>ST_SwapOrdinates</strong>('XY').geom as Geom
      from dual;

    GEOM
    ---------------------------------------------------------
    SDO_GEOMETRY(3001,null,SDO_POINT_TYPE(20,1,30),null,null)

    select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3001,null,sdo_point_type(1,20,30),null,null),0.005).<strong>ST_SwapOrdinates</strong>('XZ').geom as Geom
      from dual;

    GEOM
    ---------------------------------------------------------
    SDO_GEOMETRY(3001,null,SDO_POINT_TYPE(30,20,1),null,null)

    select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3001,null,sdo_point_type(1,20,30),null,null),0.005).<strong>ST_SwapOrdinates</strong>('YZ').geom as Geom
      from dual;

    GEOM
    ---------------------------------------------------------
    SDO_GEOMETRY(3001,null,SDO_POINT_TYPE(1,30,20),null,null)

    select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING (-32 147, -33 180)'),0.005).<strong>ST_SwapOrdinates</strong>('XY').geom as Geom
      from dual;

    GEOM
    --------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,null,null,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147,-32, 180,-33))

    select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING (0 50, 10 50, 10 55, 10 60, 20 50)'),0.005).<strong>ST_SwapOrdinates</strong>('XY').geom as Geom
      from dual;

    GEOM
    ------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,null,null,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(50,0, 50,10, 55,10, 60,10, 50,20))

    select <a href="#robo24">T_GEOMETRY</a>(
             sdo_geometry(3002,null,null,
                          sdo_elem_info_array(1,2,1),
                          sdo_ordinate_array(0,50,105, 10,50,110, 10,55,115, 10,60,120, 20,50,125)
                         ),
             0.005)
             .<strong>ST_SwapOrdinates</strong>('XZ').geom as Geom
      from dual;

    GEOM
    --------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3002,null,null,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(105,50,0, 110,50,10, 115,55,10, 120,60,10, 125,50,20))

    select <a href="#robo24">T_GEOMETRY</a>(
             sdo_geometry(3002,null,SDO_POINT_TYPE(1,20,30),
                          sdo_elem_info_array(1,2,1),
                          sdo_ordinate_array(0,50,105, 10,50,110, 10,55,115, 10,60,120, 20,50,125)
                         ),
             0.005)
             .<strong>ST_SwapOrdinates</strong>('YZ').geom as Geom
      from dual;

    GEOM
    ---------------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3002,null,SDO_POINT_TYPE(1,30,20),SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,105,50, 10,110,50, 10,115,55, 10,120,60, 20,125,50))

    select <a href="#robo24">T_GEOMETRY</a>(
             sdo_geometry(3302,null,null,
                          sdo_elem_info_array(1,2,1),
                          sdo_ordinate_array(5,10,0, 20,5,NULL, 35,10,NULL, 55,10,100)
                         ),
             0.005)
             .<strong>ST_SwapOrdinates</strong>('XM').geom as Geom
      from dual;

    GEOM
    --------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,10,5, null,5,20, null,10,35, 100,10,55))

    select <a href="#robo24">T_GEOMETRY</a>(
             sdo_geometry(4402,null,null,
                          sdo_elem_info_array(1,2,1),
                          sdo_ordinate_array(5,10,500,0, 20,5,501,NULL, 35,10,502,NULL, 55,10,503,100)
                         ),
             0.005)
             .<strong>ST_SwapOrdinates</strong>('ZM').geom as Geom
      from dual;

    GEOM
    ------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(4402,null,null,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(5,10,0,500, 20,5,null,501, 35,10,null,502, 55,10,100,503))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2009 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo204"></a>
<a name="T5fGEOMETRY2fST5fTile"></a>
<h2>15.167.  T_GEOMETRY/ST_Tile [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Tile</strong> -- Covers envelope of supplied goemetry with a mesh of tiles of size p_Tile_X and p_Tile_Y.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Tile</strong> (
       p_tile_X    in number,
       p_tile_Y    in number,
       p_grid_type in varchar2 Default 'TILE',
       p_option    in varchar2 default 'TOUCH',
       p_unit      in varchar2 default NULL
    )
    Returns <a href="#robo18">T_GRIDS</a> PIPELINED
</pre>
<p class="item_name">USAGE</p>
<pre>    With poly As (
         select t_geometry(sdo_geometry('POLYGON ((0 0,10 0,10 10,0 10,0 0))',null),0.005,2,1) as poly from dual
    )
    select row_number() over (order by t.gcol, t.grow) as rid,
           t.gCol, t.gRow, t.geom.get_wkt()  as geom
      FROM poly a,
           TABLE(a.poly.<strong>ST_Tile</strong>(5.0,5.0,'TILE','TOUCH',NULL)) t;

    RID GCOL GROW GEOM
    --- ---- ---- ---------------------------------------
      1    0    0 POLYGON ((0 0, 5 0, 5 5, 0 5, 0 0))
      2    0    1 POLYGON ((0 5, 5 5, 5 10, 0 10, 0 5))
      3    1    0 POLYGON ((5 0, 10 0, 10 5, 5 5, 5 0))
      4    1    1 POLYGON ((5 5, 10 5, 10 10, 5 10, 5 5))
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that computes spatial extent of internal geometry, then uses the
    p_tile_x and p_tile_y extents to compute the number of tiles that cover it.
    The number of columns and rows (tiles) that cover this area is calculated using p_Tile_X/p_Tile_Y which are in SRID units.
    The tiles are written out with their col/row reference using the <a href="#robo26">T_GRID</a> object type
    All rows and columns are visited, with geometry objects being created that represent each tile.
    Geometry object created can be:
      TILE  -- Single polygon per grid cell/Tile (optimized rectangle).
      BOTH  -- Single polygon per grid cell/Tile (optimized rectangle) with centre point coded in SDO_POINT_TYPE structure.
    When polygon tiles are to be returned, they can represent:
      MBR       -- The entire extent of the underlying geometry;
      TOUCH     -- Just those touching the input geometry (Intersects);
      CLIP      -- Where tile has geometric intersection with the underlying geometry it is clipped to the underlying geometry.
      HALFCLIP  -- Clipped tiles that touch boundary where area is &gt; 1/2 tile
      HALFTOUCH -- Tiles that touch boundary where area is &gt; 1/2 tile
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_Tile_X      (number) -- Size of a Tile's X dimension in real world units.
    p_Tile_Y      (number) -- Size of a Tile's Y dimension in real world units.
    p_grid_type (varchar2) -- Returned geometry is either 'TILE','POINT' or 'BOTH'
    p_option    (varchar2) -- MBR       -- Tiles for all geometry's MBR
                              TOUCH     -- Only tiles that touch geometry
                              CLIP      -- Return tiles for geometry only but clip using geometry boundary
                              HALFCLIP  -- Return clipped tiles that touch boundary where area is &gt; 1/2 tile
                              HALFTOUCH -- Return tiles that touch boundary where area is &gt; 1/2 tile
    p_unit      (varchar2) -- Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    A Table of the following is returned
    (
      gcol Integer      -- The column reference for a tile
      grow Integer      -- The row reference for a tile
      geom sdo_geometry -- The polygon geometry covering the area of the Tile.
    )
</pre>
<p class="item_name">NOTES</p>
<pre>    Following exceptions can the thrown:
      -20120 'Geometry must not be null or empty (*ERR*)'
      -20121 'Unsupported geometry type (*GTYPE*)'
      -20122 'p_grid_type parameter value (*VALUE*) must be TILE, POINT or BOTH'
      -20123 'p_option value (*VALUE*) must be MBR, TOUCH, CLIP, HALFCLIP or HALFTOUCH.'
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2006 - Original Coding for GEOM package.
    Simon Greener - July 2011     - Port to <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo205"></a>
<a name="T5fGEOMETRY2fST5fTo2D"></a>
<h2>15.168.  T_GEOMETRY/ST_To2D [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_To2D</strong> -- Converts underlying 3D or 4D mdsys.sdo_geometry to 2D (xy).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_To2D</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This Function checks if underlying mdsys.sdo_geometry is 2D and returns unchanged.
    If mdsys.sdo_geometry has more than xy ordinates (ie xyz or xym or xyzm) the geometry
    is stripped of its non-xy ordinates, returning a 2D mdsys.sdo_geometry with only XY ordinates.
</pre>
<p class="item_name">RESULT</p>
<pre>    SELF (TO_GEOMETRY) -- With 2D Underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Albert Godfrind, July 2006, Original Coding
    Bryan Hall,      July 2006, Modified to handle points
    Simon Greener,   July 2006, Integrated into geom with GF.
    Simon Greener,   Aug  2009, Removed GF; Modified Byan Hall's version to handle compound elements.
    Simon Greener,   Jan 2013 - Port to Object method.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo206"></a>
<a name="T5fGEOMETRY2fST5fTo3D28p5fdefault5fz29"></a>
<h2>15.169.  T_GEOMETRY/ST_To3D(p_default_z) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_FixZ -- Replaces and measure/elevation NULL values with supplied value eg -9999
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_FixZ(p_default_z IN Number := -9999 )
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    It is not uncommon to see linear geometries having a Z or W/M value encoded as NULL while others have numeric values.
    This function allows for the replacement of the NULL values with a provided value.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_default_z (Number) -- New geometry with all Z ordinates to the supplied value.
</pre>
<p class="item_name">RESULT</p>
<pre>    SELF (TO_GEOMETRY) -- Corrected mdsys.sdo_geometry object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener,   May 2007 Original coding in GEOM package.
    Simon Greener,   Aug 2009 Added support for interpolating Z values
    Simon Greener,   Jan 2013 - Port to Object method.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo207"></a>
<a name="T5fGEOMETRY2fST5fTo3D28p5fstart5fz20p5fend5fz20p5funit29"></a>
<h2>15.170.  T_GEOMETRY/ST_To3D(p_start_z p_end_z p_unit) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo344">ST_To3D</a> -- Converts underlying 2D or 4D geometry to a 3D geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <a href="#robo344">ST_To3D</a>(p_start_z IN Number,
                            p_end_z   IN Number,
                            p_unit    IN varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If underlying mdsys.sdo_geometry object is a 2D line, it converts it to 3D with supplied start and end z values.
    If mdsys.sdo_geometry is 4D it is reduced to 3D with any measures being removed.
    Z ordinates are using start and end values ie result is XYZ.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_start_z (Number) -- Assigned to first coordinates' new Z ordinate.
    p_end_z   (Number) -- Assigned to last coordinate's new Z ordinate.
    p_unit  (VarChar2) -- Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    New Geom (TO_GEOMETRY) -- 3D mdsys.sdo_geometry line encoded with start and end z ordinate vakyes.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener,   May 2007 Original coding in GEOM package.
    Simon Greener,   Aug 2009 Added support for interpolating Z values
    Simon Greener,   Jan 2013 - Port to Object method.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo208"></a>
<a name="T5fGEOMETRY2fST5fTo3D28p5fzOrdToKeep29"></a>
<h2>15.171.  T_GEOMETRY/ST_To3D(p_zOrdToKeep) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo344">ST_To3D</a> -- Converts underlying 2D or 4D geometry to a 3D geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <a href="#robo344">ST_To3D</a> (p_zOrdToKeep IN Integer)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This Function checks if underlying mdsys.sdo_geometry is 2D, converts it to 3D with NULL Z ordinates.
    If mdsys.sdo_geometry is 4D it is reduced to 3D with p_zordtokeep indicating which non-2D ordinate
    to keep eg if 4 then result is XYW; if 3 then XYZ.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_zOrdToKeep -- Ignored if 2D, otherwise if moving down from 4D to 3D indicates which ord to keep ie 3 or 4 (cf LRS)
</pre>
<p class="item_name">RESULT</p>
<pre>    New 3D Geom (<a href="#robo24">T_GEOMETRY</a>) -- Underlying mdsys.sdo_geometry reduced or increased to 3D.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener,   May 2007 Original coding in GEOM package.
    Simon Greener,   Aug 2009 Added support for interpolating Z values
    Simon Greener,   Jan 2013 - Port to Object method.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo209"></a>
<a name="T5fGEOMETRY2fST5ftoMultiPoint"></a>
<h2>15.172.  T_GEOMETRY/ST_toMultiPoint [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_toMultiPoint</strong> -- Adds SDO_POINT_TYPE to existing SDO_ORDINATE_ARRAY.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>   Function <strong>ST_toMultiPoint</strong>
     Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Converts underlying geometry by adding ordinate data in SDO_POINT_TYPE structure 
    to point data held in sdo_elem_info_array/sdo_ordinate_array elements.
    Honours any measure (if measure is Z ordinate in SDO_POINT_TYPE.
</pre>
<p class="item_name">RESULT</p>
<pre>    SELF (TO_GEOMETRY) -- Original geometry with SDO_POINT added to SDO_ORDINATES
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select &amp;&amp;INSTALL_SCHEMA..T_Geometry(SDO_GEOMETRY(2005,NULL,SDO_POINT_TYPE(10.719,8.644,NULL),SDO_ELEM_INFO_ARRAY(1,1,1),SDO_ORDINATE_ARRAY(8,10)),0.005,3,1)
                           .ST_ToMultiPoint()
                           .geom as geom 
     from dual;
    
    GEOM
    ---------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2005,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1,2),SDO_ORDINATE_ARRAY(8,10,10.719,8.644))
</pre>
<p class="item_name">NOTES</p>
<pre>    See also <a href="#robo181">ST_SdoPoint2Ord</a> and <a href="#robo155">ST_Ord2SdoPoint</a>.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener, January 2013 - Port to Object method.
    Simon Greener, August 2019  - Documented and fixed operation.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo210"></a>
<a name="T5fGEOMETRY2fST5fTranslate28p5ftx20p5fty20p5ftz29"></a>
<h2>15.173.  T_GEOMETRY/ST_Translate(p_tx p_ty p_tz) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Translate -- Function which translates the underlying geometry to a new location.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Translate (p_tx in number,
                                  p_ty in number,
                                  p_tz in number default null )
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function which translates the underlying geometry to a new location, by applying the translation values to its ordinates.
    The function MOVES the geometry to a new location.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_tx (number) - Translation factor for X ordinates.
    p_ty (number) - Translation factor for Y ordinates.
    p_tz (number) - Translation factor for Z ordinates (if null, the Z ordinate is not changed).
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry -- Input geometry translated (moved) using supplied values.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is wrapper over mdsys.SDO_UTIL.AffineTransforms
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With testGeom as (
      select <a href="#robo24">T_GEOMETRY</a>(mdsys.sdo_geometry(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,2,4,8,4,12,4,12,10,8,10,5,14)),0.005,2,1) as tgeom
        from dual
       Union All
      select <a href="#robo24">T_GEOMETRY</a>(mdsys.sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(2,2,1, 2,4,2, 8,4,3, 12,4,4, 12,10,5, 8,10,6, 5,14,7)),0.005,2,1) as tgeom
        from dual
    )
    select a.tgeom.<a href="#robo62">ST_CoordDimension</a>() as coordDimension,
           'ST_Translate(p_tx,p_ty,p_tz)' as TranslateTest,
           a.tgeom.ST_Translate(p_tx=&gt;10.0,p_ty=&gt;10.0,p_tz=&gt;case when a.tgeom.<a href="#robo62">ST_CoordDimension</a>()=2 then null else 5.0 end).geom as geom
      from testGeom a;

    COORDDIMENSION TRANSLATETEST                GEOM
    -------------- ---------------------------- --------------------------------------------------------------------------------------------------------------------------------------
                 2 ST_Translate(p_tx,p_ty,p_tz) SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(12,12,12,14,18,14,22,14,22,20,18,20,15,24))
                 3 ST_Translate(p_tx,p_ty,p_tz) SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(12,12,6,12,14,7,18,14,8,22,14,9,22,20,10,18,20,11,15,24,12))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2015 - New implementation to replace original PLSQL based rotation function.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo211"></a>
<a name="T5fGEOMETRY2fST5fTravellingSalesman"></a>
<h2>15.174.  T_GEOMETRY/ST_TravellingSalesman [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_TravellingSalesman</strong> - Constructs a path through a set of points.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_TravellingSalesman</strong>(p_start_gid   in integer,
                                          p_start_point in mdsys.sdo_point_type,
                                          p_geo_fence   in mdsys.sdo_geometry,
                                          p_unit        in varchar2 default 'Meter' )
             Return &amp;&amp;INSTALL_SCHEMA..T_Geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function implements a very simple traveling salesman's route through a set of points.
    The underlying geometry must be a MultiPoint object.
    The starting point may be a point within the existing underlying geometry or a user provided point.
    When p_geo_fence is provided it should be a MultiLineString object eg a set of street centrelines aggregated using SDO_AGGR_UNION.
    If p_geo_fence is 2D all linestrings in it are of equal weight.
    If p_geo_fence has a Z ordinate, its values define an order in the geofences. 
    The value that must be assigned to the z ordinate of a linestring which forms a hard boundary (such as a physical fence) must be 9.
    All other Z values should be given values below 9. So, z=5 could denote a major road, while z=1 is a local street, and z=0 might mean a walking track.
    When determining the next point to move to, this z ordering is used in determining where to move.
    If the set of nearby objects contained a z=9 object, it would be removed from the set and the next highest chosen.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_start_gid          (integer) - A vertex that exists in the underlying geometry whose Z has this value.
    p_start_point (sdo_point_type) - A vertex that may not exist in the underlying geometry, algorithm finds nearest point in underlying geometry to start.
    p_geo_fence     (sdo_geometry) - A collection of linestrings (multilinestring) containing fences or objects that cannot be crossed unless there is nowhere else to go,
                                     when determining the shortest path.
    p_unit              (varchar2) - Oracle Unit of Measure eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    linestring (t_geometry) - New linestring object which is contains the directed set of points defining the salesman's path.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data As (
      SELECT SDO_GEOMETRY(2005,NULL,NULL,
                          SDO_ELEM_INFO_ARRAY(1,1,50),
                          SDO_ORDINATE_ARRAY(1597.39,170.16,1374.14,4381.71,7720.98,338.55,
                                             9288.02,4197.86,99.25,3835.6,4486.08,769.94,
                                             1172.92,4010.55,7203.14,227.14,4946.58,3065.22,
                                             3922.71,2841.87,2114.37,1038.88,633.82,2754.83,
                                             4911.44,3446.1,4227.88,3860.79,6007.5,2562.07,
                                             109.36,4410.63,7965.02,4621.98,6552.41,4739.78,
                                             2105.39,956.52,7707.73,4672.84,2853.76,424.77,
                                             6436.58,41.46,882.33,4735.71,1196.23,1433.89,
                                             247.33,1300.91,2305.01,4556.07,5322.28,3006.77,
                                             7840.55,2048.4,5852.83,3900.91,7725.62,4559.27,
                                             707.68,0,6445.65,3296.85,9618.51,2502.49,293.1,
                                             900.11,7373.91,4209.42,1707.32,3876.35,6503.14,
                                             1959.38,0,3205.12,139.89,4699.76,5526.69,4247.66,
                                             1165.67,1553.33,6049.36,2047.12,1562.06,1562.93,
                                             3773.35,732.55,8844.67,2498.88,2714.68,3630.44,446.82,
                                             3063.99,727.39,47.89,4120.27,1188.79,6328.6,2695.57)) as geom
        FROM dual
    )
    select T_Geometry(a.geom,0.005,2,1).<strong>ST_TravellingSalesman</strong>(3,null).geom as tsGeom
      from data a;

    TSGEOM
    --------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(7720.98,338.55,7203.14,227.14,6436.58,41.46,6503.14,1959.38,6049.36,2047.12,6007.5,2562.07,
                                    6328.6,2695.57,6445.65,3296.85,5852.83,3900.91,5526.69,4247.66,4911.44,3446.1,4946.58,3065.22,
                                    5322.28,3006.77,4227.88,3860.79,3922.71,2841.87,2714.68,3630.44,2305.01,4556.07,1707.32,3876.35,
                                    1172.92,4010.55,1374.14,4381.71,882.33,4735.71,139.89,4699.76,109.36,4410.63,99.25,3835.6,0,
                                    3205.12,446.82,3063.99,633.82,2754.83,1165.67,1553.33,1196.23,1433.89,1562.06,1562.93,2114.37,1038.88,
                                    2105.39,956.52,2853.76,424.77,3773.35,732.55,4120.27,1188.79,4486.08,769.94,1597.39,170.16,727.39,47.89,
                                    707.68,0,293.1,900.11,247.33,1300.91,6552.41,4739.78,7373.91,4209.42,7725.62,4559.27,7707.73,4672.84,
                                    7965.02,4621.98,9288.02,4197.86,9618.51,2502.49,8844.67,2498.88,7840.55,2048.4))

     With data As (
      SELECT SDO_GEOMETRY(2005,NULL,NULL,
                          SDO_ELEM_INFO_ARRAY(1,1,50),
                          SDO_ORDINATE_ARRAY(1597.39,170.16,1374.14,4381.71,7720.98,338.55,
                                             9288.02,4197.86,99.25,3835.6,4486.08,769.94,
                                             1172.92,4010.55,7203.14,227.14,4946.58,3065.22,
                                             3922.71,2841.87,2114.37,1038.88,633.82,2754.83,
                                             4911.44,3446.1,4227.88,3860.79,6007.5,2562.07,
                                             109.36,4410.63,7965.02,4621.98,6552.41,4739.78,
                                             2105.39,956.52,7707.73,4672.84,2853.76,424.77,
                                             6436.58,41.46,882.33,4735.71,1196.23,1433.89,
                                             247.33,1300.91,2305.01,4556.07,5322.28,3006.77,
                                             7840.55,2048.4,5852.83,3900.91,7725.62,4559.27,
                                             707.68,0,6445.65,3296.85,9618.51,2502.49,293.1,
                                             900.11,7373.91,4209.42,1707.32,3876.35,6503.14,
                                             1959.38,0,3205.12,139.89,4699.76,5526.69,4247.66,
                                             1165.67,1553.33,6049.36,2047.12,1562.06,1562.93,
                                             3773.35,732.55,8844.67,2498.88,2714.68,3630.44,446.82,
                                             3063.99,727.39,47.89,4120.27,1188.79,6328.6,2695.57)) as geom
        FROM dual
    )
    select T_Geometry(a.geom,0.005,2,1).<strong>ST_TravellingSalesman</strong>(null,Sdo_Point_Type(359052.5,5407258.2,NULL)).geom as tsGeom
      from data a;

    TSGEOM
    ------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(359052.5,5407258.2,7707.73,4672.84,7725.62,4559.27,7965.02,4621.98,7373.91,
                                    4209.42,6552.41,4739.78,5852.83,3900.91,5526.69,4247.66,4911.44,3446.1,4946.58,
                                    3065.22,5322.28,3006.77,6007.5,2562.07,6328.6,2695.57,6445.65,3296.85,6049.36,2047.12,
                                    6503.14,1959.38,7840.55,2048.4,8844.67,2498.88,9618.51,2502.49,9288.02,4197.86,7720.98,338.55,
                                    7203.14,227.14,6436.58,41.46,4486.08,769.94,4120.27,1188.79,3773.35,732.55,2853.76,424.77,
                                    2105.39,956.52,2114.37,1038.88,1562.06,1562.93,1196.23,1433.89,1165.67,1553.33,247.33,
                                    1300.91,293.1,900.11,727.39,47.89,707.68,0,1597.39,170.16,633.82,2754.83,446.82,3063.99,0,
                                    3205.12,99.25,3835.6,109.36,4410.63,139.89,4699.76,882.33,4735.71,1374.14,4381.71,1172.92,
                                    4010.55,1707.32,3876.35,2305.01,4556.07,2714.68,3630.44,3922.71,2841.87,4227.88,3860.79))
  NOTE
    This is a naive, simple, and inefficient algorithm.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2016 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo212"></a>
<a name="T5fGEOMETRY2fST5fUpdateVertex2820p5fold5fvertex20p5fnew5fvertex2029"></a>
<h2>15.175.  T_GEOMETRY/ST_UpdateVertex( p_old_vertex p_new_vertex ) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_UpdateVertex -- Function that updates (replaces) all geometry points that are equal to the supplied point with the replacement point.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_UpdateVertex (p_old_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                                     p_new_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that updates all coordinates that equal p_old_vertex with the supplied p_old_vertex.
    SELF.dprecision is used when comparing geometry point's XY ordinates to p_old_vertex's.
    Note that this version of ST_UpdateVertex allows for the update of the first and last vertex in a polygon thereby not invalidating it.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_old_vertex (T_Vertex) - Original coordinate to be replaced.
    p_new_vertex (T_Vertex) - Replacement coordinate
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (geometry) - Underlying geometry with one or more coordinates replaced.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_geometry(sdo_geometry('POLYGON((0 0,10 0,10 10,0 10,0 0))',NULL),0.005,2,1)
             .ST_UpdateVertex(
               T_Vertex(p_x         =&gt; 0.0,
                        p_y         =&gt; 0.0,
                        p_id        =&gt; 1,
                        p_sdo_gtype =&gt; 2001,
                        p_sdo_srid  =&gt; NULL),
               T_Vertex(p_x         =&gt; 1.0,
                        p_y         =&gt; 1.0,
                        p_id        =&gt; 1,
                        p_sdo_gtype =&gt; 2001,
                        p_sdo_srid  =&gt; NULL)
           ).<a href="#robo326">ST_AsText</a>() as updatedGeom
      from dual;

    UPDATEDGEOM
    ---------------------------------------
    POLYGON ((1 1, 10 0, 10 10, 0 10, 1 1))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2006 - Original Coding for GEOM package.
    Simon Greener - July 2011     - Port to <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2008-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo213"></a>
<a name="T5fGEOMETRY2fST5fUpdateVertex28p5fvertex29"></a>
<h2>15.176.  T_GEOMETRY/ST_UpdateVertex(p_vertex) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_UpdateVertex -- Function which updates the coordinate at position v_vertex.id of the underlying geometry with ordinates in v_vertex.x etc.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>   Member Function ST_UpdateVertex (p_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex)
            Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_geometry(sdo_geometry('LINESTRING(0 0,2 2)',NULL),0.005,2,1)
             .ST_UpdateVertex(
                T_Vertex(p_x         =&gt; 1.0,
                         p_y         =&gt; 1.0,
                         p_id        =&gt; 2,
                         p_sdo_gtype =&gt; 2001,
                         p_sdo_srid  =&gt; NULL)
                  ).<a href="#robo326">ST_AsText</a>() as updatedGeom
       from dual;

    UPDATEDGEOM
    -------------------
    LINESTRING(0 0,1 1)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that updates coordinate in the underlying geometry identified by p_vertex.id with the ordinate values in p_vertex.
    p_verted.id Values:
      1. null -&gt; defaults to 1;
      2. -1   -&gt; maximum number of points ie STNumPoints(p_geometry)
      3. Greater than <a href="#robo148">ST_NumPoints</a>(p_geometry) -&gt; maximum number of points ie <a href="#robo148">ST_NumPoints</a>(p_geometry)
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_vertex (t_vertex) - Replacement coordinate.
</pre>
<p class="item_name">RESULT</p>
<pre>    updated geom (geometry) - Geometry with coordinate replaced.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2006 - Original Coding for GEOM package.
    Simon Greener - July 2011     - Port to <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo214"></a>
<a name="T5fGEOMETRY2fST5fValidate"></a>
<h2>15.177.  T_GEOMETRY/ST_Validate [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo105">ST_isValid</a> -- Executes sdo_geom.validate_geometry or validate_geometry_with_context against underlying geometry and returns value.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Validate</strong>
             Return varchar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If p_context = 0 then this function executes the SDO_GEOM.VALIDATE_GEOMETRY function and returns the result.
    If p_context = 1 then this function executes the SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT function and returns the result.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_context (integer) -- Value of 0 (no context); 1 (context)
</pre>
<p class="item_name">RESULT</p>
<pre>    result (varchar2) -- Returns result of SDO_GEOM.VALIDATE_GEOMETRY/SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT function.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo215"></a>
<a name="T5fGEOMETRY2fST5fVertexN"></a>
<h2>15.178.  T_GEOMETRY/ST_VertexN [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_VertexN</strong> -- Returns number of vertices (coordinates) in underlying mdsys.sdo_geometry.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_VertexN</strong> (p_vertex in integer)
             Return T_Vertex Deterministic
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_vertex (integer) -- Vertex number between 1 and <a href="#robo153">ST_NumVertices</a>().
</pre>
<p class="item_name">RESULT</p>
<pre>    Vertex (T_Vertex) -- Vertex at position p_vertex.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns p_vertex vertex within underlying geometry.
    p_vertex can be -1 which means the last vertex.
    If p_vertex is -1, the actual point id of the last vertex is returned in the T_Vertex structure.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5))',null),0.005,3,1) as TPolygon
       From Dual
    )
    select a.TPolygon.<strong>ST_VertexN</strong>(-1).<a href="#robo326">ST_AsText</a>() as VertexN
      from data a;

    VERTEXN
    -----------------------------------------------------------
    T_Vertex(X=5.0,Y=5.0,Z=NULL,W=NULL,ID=15,GT=2001,SRID=NULL)

    With data As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,20 0,20 20,10 20,0 20)',null),0.005,3,1) as tLine
        From Dual
    )
    select a.tLine.<strong>ST_VertexN</strong>(t.IntValue).<a href="#robo326">ST_AsText</a>() as vertex
      from data a,
           table(tools.generate_series(1,a.tLine.<a href="#robo153">ST_NumVertices</a>(),1)) t;

    VERTEX
    ------------------------------------------------------------
    T_Vertex(X=0.0,Y=0.0,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
    T_Vertex(X=20.0,Y=0.0,Z=NULL,W=NULL,ID=2,GT=2001,SRID=NULL)
    T_Vertex(X=20.0,Y=20.0,Z=NULL,W=NULL,ID=3,GT=2001,SRID=NULL)
    T_Vertex(X=10.0,Y=20.0,Z=NULL,W=NULL,ID=4,GT=2001,SRID=NULL)
    T_Vertex(X=0.0,Y=20.0,Z=NULL,W=NULL,ID=5,GT=2001,SRID=NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo216"></a>
<a name="T5fGEOMETRY2fST5fVertices"></a>
<h2>15.179.  T_GEOMETRY/ST_Vertices [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Vertices</strong> -- Extracts all vertices of the underlying geometry, and outputs them as a pipelined set of T_Vertex objects.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Vertices</strong>()
             Return &amp;&amp;INSTALL_SCHEMA..T_VERTICES Pipelined
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function allows a user to extract all the vertices of the underlying geometry as a set of <a href="#robo33">T_VERTEX</a> objects.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With geometries As (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('POLYGON((0 0,20 0,20 20,0 20,0 0),(10 10,10 11,11 11,11 10,10 10),(5 5,5 7,7 7,7 5,5 5))',null),
                        0.005,3,1) as tPolygon
        From dual
    )
    Select t.<a href="#robo326">ST_AsText</a>() as vertex
      from GEOMETRIES a,
           Table(a.tPolygon.<strong>ST_Vertices</strong>()) t;

    VERTEX
    -------------------------------------
    T_Vertex(X=0.0,Y=0.0,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
    T_Vertex(X=20.0,Y=0.0,Z=NULL,W=NULL,ID=2,GT=2001,SRID=NULL)
    T_Vertex(X=20.0,Y=20.0,Z=NULL,W=NULL,ID=3,GT=2001,SRID=NULL)
    T_Vertex(X=0.0,Y=20.0,Z=NULL,W=NULL,ID=4,GT=2001,SRID=NULL)
    T_Vertex(X=0.0,Y=0.0,Z=NULL,W=NULL,ID=5,GT=2001,SRID=NULL)
    T_Vertex(X=10.0,Y=10.0,Z=NULL,W=NULL,ID=6,GT=2001,SRID=NULL)
    T_Vertex(X=10.0,Y=11.0,Z=NULL,W=NULL,ID=7,GT=2001,SRID=NULL)
    T_Vertex(X=11.0,Y=11.0,Z=NULL,W=NULL,ID=8,GT=2001,SRID=NULL)
    T_Vertex(X=11.0,Y=10.0,Z=NULL,W=NULL,ID=9,GT=2001,SRID=NULL)
    T_Vertex(X=10.0,Y=10.0,Z=NULL,W=NULL,ID=10,GT=2001,SRID=NULL)
    T_Vertex(X=5.0,Y=5.0,Z=NULL,W=NULL,ID=11,GT=2001,SRID=NULL)
    T_Vertex(X=5.0,Y=7.0,Z=NULL,W=NULL,ID=12,GT=2001,SRID=NULL)
    T_Vertex(X=7.0,Y=7.0,Z=NULL,W=NULL,ID=13,GT=2001,SRID=NULL)
    T_Vertex(X=7.0,Y=5.0,Z=NULL,W=NULL,ID=14,GT=2001,SRID=NULL)
    T_Vertex(X=5.0,Y=5.0,Z=NULL,W=NULL,ID=15,GT=2001,SRID=NULL)

     15 rows selected
</pre>
<p class="item_name">RESULT</p>
<pre>    vertices (T_VERTICES) -- Table of T_Vertex objects.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo217"></a>
<a name="T5fGEOMETRY2fST5fWhich5fSide"></a>
<h2>15.180.  T_GEOMETRY/ST_Which_Side [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo24">T_GEOMETRY</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Which_Side</strong> -- Returns the side the supplied point lies on.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Which_Side</strong>(p_point in mdsys.sdo_geometry,
                                  p_unit  in varchar2 default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo24">T_GEOMETRY</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given a point this function returns the side the point lies on.
    Wrapper over ST_Find_Offset
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    ST_Find_Offset(p_point in mdsys.sdo_geometry...);
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_point (MDSYS.SDO_GEOMETRY) - Point geometry for which a measure is needed.
    p_unit  (VarChar2)           - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    side (VarChar2) - L if negative offset; R is positive offset; O if on line.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo25"></a>
<a name="OBJECT20TYPE2fT5fGEOMETRY5fROW"></a>
<h1>16.  OBJECT TYPE/T_GEOMETRY_ROW [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_GEOMETRY_ROW</strong> - Object Type used when returning sdo_geometry objects in a pipelined function.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that allows for a SDO_GEOMETRY geometry object to be represented as a single object.
    Mainly for use in PIPELINED Functions.
    If one PIPES a single sdo_geometry object, it appears at the end of the pipeline as the individual 5 attributes of an sdo_geometry object and not a single sdo_geometry attribute object.
</pre>
<p class="item_name">NOTES</p>
<pre>    No methods are declared on this type.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
    Simon Greener - Jan 2013 - Port from GEOM Package for &amp;&amp;INSTALL_SCHEMA..
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo218"></a>
<a name="T5fGEOMETRY5fROW2fATTRIBUTES28T5fGEOMETRY5fROW29"></a>
<h2>16.1.  T_GEOMETRY_ROW/ATTRIBUTES(T_GEOMETRY_ROW) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo25">T_GEOMETRY_ROW</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    gid        number,             -- geometry id (cf rownum).
    geometry   mdsys.sdo_geometry, -- geometry object.
    tolerance  number,             -- Tolerance value associated with geometry object (normally <a href="#robo24">T_GEOMETRY</a>.tolerance object)
    dPrecision integer,            -- Decimal digits of precision value associated with geometry object (normally <a href="#robo24">T_GEOMETRY</a>.dPrecision object)
    projected  integer,            -- Projected value associated with geometry object (normally <a href="#robo24">T_GEOMETRY</a>.projected object)
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">   gid        number<span class="sign">,</span>
   geometry   mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
   Tolerance  number<span class="sign">,</span>
   dPrecision integer<span class="sign">,</span>
   projected  integer
</pre>
<a name="robo26"></a>
<a name="OBJECT20TYPE2fT5fGRID"></a>
<h1>17.  OBJECT TYPE/T_GRID [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_GRID</strong> -- Object type representing a single cell in a matrix of non-overlapping (no gaps) cells.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that represents a single cell within an array of 
    optimized rectanges representing a grid or matrix of "raster" style objects.
    Used mainly with <a href="#robo18">T_GRIDS</a> in PIPELINED <a href="#robo24">T_GEOMETRY</a> methods.
</pre>
<p class="item_name">NOTES</p>
<pre>    No methods are declared on this type.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
    Simon Greener - Jan 2013 - Port from GEOM Package.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo219"></a>
<a name="T5fGRID2fATTRIBUTES28T5fGRID29"></a>
<h2>17.1.  T_GRID/ATTRIBUTES(T_GRID) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo26">T_GRID</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    gCol -- Column Reference 
    gRow -- Row Reference
    geom -- SDO_GEOMETRY coded as Optimized Rectangle.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  gcol  number<span class="sign">,</span>
  grow  number<span class="sign">,</span>
  geom  mdsys<span class="sign">.</span>sdo_geometry
</pre>
<a name="robo27"></a>
<a name="OBJECT20TYPE2fT5fINTVALUE"></a>
<h1>18.  OBJECT TYPE/T_INTVALUE [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_INTVALUE</strong> -- Object type representing a single integer in a series of integers.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that gives a name (IntValue) to a single integer within a series of integers generated by <a href="#robo4">TOOLS</a>.<a href="#robo351">Generate_Series</a>.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
    Simon Greener - Jan 2013 - Port from GEOM Package.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2012-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo220"></a>
<a name="T5fINTVALUE2fATTRIBUTES28T5fINTVALUE29"></a>
<h2>18.1.  T_INTVALUE/ATTRIBUTES(T_INTVALUE) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo27">T_INTVALUE</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    IntValue -- Integer value returned by generate_series
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  IntValue Integer
</pre>
<a name="robo28"></a>
<a name="OBJECT20TYPE2fT5fMBR"></a>
<h1>19.  OBJECT TYPE/T_MBR [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_MBR</strong> - Object Type representing a Minimum Bounding Rectangle (MBR) or a geometry Envelope
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that represents an MBR/Envelope of a geometry.
    Includes methods to manipulate eg Expand/Contract, convert to SDO_DIM_ARRAY.
</pre>
<p class="item_name">NOTES</p>
<pre>    Only supports Planar / 2D ordinates.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo221"></a>
<a name="T5fMBR2fATTRIBUTES28T5fMBR29"></a>
<h2>19.1.  T_MBR/ATTRIBUTES(T_MBR) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo28">T_MBR</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    MinX -- X Ordinate of lower left (LL) corner of MBR.
    MinY -- Y Ordinate of lower left (LL) corner of MBR.
    MaxX -- X Ordinate of upper right (UR) corner of MBR.
    MaxY -- Y Ordinate of upper right (UR) corner of MBR.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">   MinX  Number<span class="sign">,</span>
   MinY  Number<span class="sign">,</span>
   MaxX  Number<span class="sign">,</span>
   MaxY  Number<span class="sign">,</span>
</pre>
<a name="robo222"></a>
<a name="T5fMBR2fCONSTRUCTORS28T5fMBR29"></a>
<h2>19.2.  T_MBR/CONSTRUCTORS(T_MBR) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo28">T_MBR</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    A collection of &amp;&amp;INSTALL_SCHEMA..<a href="#robo28">T_MBR</a> Constructors.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">   Constructor Function <a href="#robo28">T_MBR</a><span class="sign">(</span>SELF IN OUT NOCOPY <a href="#robo28">T_MBR</a><span class="sign">)</span>
                   Return SELF as Result<span class="sign">,</span>

   Constructor Function <a href="#robo28">T_MBR</a><span class="sign">(</span>SELF IN OUT NOCOPY <a href="#robo28">T_MBR</a><span class="sign">,</span>
                              p_mbr in <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a><span class="sign">)</span>
                   Return SELF as Result<span class="sign">,</span>

   Constructor Function <a href="#robo28">T_MBR</a><span class="sign">(</span> SELF        IN OUT NOCOPY <a href="#robo28">T_MBR</a><span class="sign">,</span>
                               p_geometry  IN MDSYS<span class="sign">.</span>SDO_GEOMETRY<span class="sign">,</span>
                               p_tolerance IN NUMBER DEFAULT 0<span class="sign">.</span>005<span class="sign">)</span>
                   Return SELF as Result<span class="sign">,</span>

   Constructor Function <a href="#robo28">T_MBR</a><span class="sign">(</span> SELF       IN OUT NOCOPY <a href="#robo28">T_MBR</a><span class="sign">,</span>
                               p_geometry IN MDSYS<span class="sign">.</span>SDO_GEOMETRY<span class="sign">,</span>
                               p_dimarray IN MDSYS<span class="sign">.</span>SDO_DIM_ARRAY <span class="sign">)</span>
                   Return SELF as Result<span class="sign">,</span>

   Constructor Function <a href="#robo28">T_MBR</a><span class="sign">(</span> SELF      IN OUT NOCOPY <a href="#robo28">T_MBR</a><span class="sign">,</span>
                               p_Vertex  In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                               p_dExtent In Number<span class="sign">)</span>
                   Return SELF as Result<span class="sign">,</span>

   Constructor Function <a href="#robo28">T_MBR</a><span class="sign">(</span> SELF      IN OUT NOCOPY <a href="#robo28">T_MBR</a><span class="sign">,</span>
                               p_dX      In NUMBER<span class="sign">,</span>
                               p_dY      In Number<span class="sign">,</span>
                               p_dExtent In Number<span class="sign">)</span>
                   Return SELF as Result<span class="sign">,</span>
</pre>
<a name="robo223"></a>
<a name="T5fMBR2fInspectors28T5fMBR29"></a>
<h2>19.3.  T_MBR/Inspectors(T_MBR) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo28">T_MBR</a> ] [ Variables ]</p>
<p class="item_name">SOURCE</p>
<pre class="source">  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>property  <span class="sign">:</span> X
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Returns the centre X ordinate of the MBR<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> <span class="sign">(</span>maxx <span class="sign">-</span> minx<span class="sign">)</span> <span class="sign">/</span> 2
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> Number
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG August 2006 <span class="sign">-</span> Original Coding
  Member Function X
           Return Number Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>property  <span class="sign">:</span> Y
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Returns the centre Y ordinate of the MBR<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> <span class="sign">(</span>maxy <span class="sign">-</span> miny<span class="sign">)</span> <span class="sign">/</span> 2
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> Number
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG August 2006 <span class="sign">-</span> Original Coding
  Member Function Y
           Return Number Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>property  <span class="sign">:</span> Width
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Returns the width of the MBR<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span>              Width is defined as the difference between the maximum and minimum x values<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> width <span class="sign">(</span>ie maxx <span class="sign">-</span> minx<span class="sign">)</span> or Empty if MBR has not been set<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> Number
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG November 2004 <span class="sign">-</span> Original Coding
  Member Function Width
           Return Number Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>property  <span class="sign">:</span> Height
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Returns the height of the current MBR<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span>              Height is defined as the difference between the maximum and minimum y values<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> height <span class="sign">(</span>ie maxy <span class="sign">-</span> miny<span class="sign">)</span> or Empty if MBR has not been set<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> Number
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG November 2004 <span class="sign">-</span> Original Coding
  Member Function Height
           Return Number Deterministic<span class="sign">,</span>

  Member Function Area
           Return Number Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>property  <span class="sign">:</span> Centre
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Returns the centre via a T_Vertex<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> xy
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> T_Vertex
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG August 2006 <span class="sign">-</span> Original Coding
  Member Function Centre
           Return <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>property  <span class="sign">:</span> Center
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Returns the center via a T_Vertex<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> xy
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> T_Vertex
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG August 2006 <span class="sign">-</span> Original Coding
  Member Function Center
           Return <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> AsDimArray
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Method that returns MBR as a MdSys<span class="sign">.</span>Sdo_Dim_Array
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> SELF
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> MdSys<span class="sign">.</span>Sdo_Dim_Array
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG September 2005 <span class="sign">-</span> Original Coding
  Member Function AsDimArray
           Return MDSYS<span class="sign">.</span>SDO_DIM_ARRAY Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> AsString
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Method that returns MBR as a <span class="sign">&lt;</span>MBR<span class="sign">&gt;</span> XML
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> <span class="sign">&lt;</span>MBR<span class="sign">.</span><span class="sign">.</span><span class="sign">.</span><span class="sign">&gt;</span> XML
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> VarChar2
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG April 2002 <span class="sign">-</span> Original Coding
  Member Function AsString
           Return VarChar2 Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> AsCSV
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Provides a comma delimited string representation<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> Comma delimited MBR string
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> VarChar2
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SJH Feb 2003 <span class="sign">-</span> Original Coding
  Member Function AsCSV
           Return VarChar2 Deterministic<span class="sign">,</span>

  Member Function AsWKT
           Return VARCHAR2 Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> AsSVG
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Returns MBR object as SVG <span class="sign">&lt;</span>rect <span class="sign">&gt;</span> xml
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> SVG <span class="sign">&lt;</span>rect<span class="sign">&gt;</span> XML
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> VarChar2
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG April 2002 <span class="sign">-</span> Original Coding
  Member Function AsSVG
           Return VarChar2 Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> getCentreAsSVG
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Returns centre coordinate of MBR object as SVG <span class="sign">&lt;</span>point<span class="sign">&gt;</span> xml
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> SVG <span class="sign">&lt;</span>point<span class="sign">&gt;</span> XML
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> VarChar2
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG April 2002 <span class="sign">-</span> Original Coding
  Member Function getCentreAsSVG
           Return VarChar2 Deterministic<span class="sign">,</span>
</pre>
<a name="robo224"></a>
<a name="T5fMBR2fModifiers28T5fMBR29"></a>
<h2>19.4.  T_MBR/Modifiers(T_MBR) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo28">T_MBR</a> ] [ Variables ]</p>
<p class="item_name">SOURCE</p>
<pre class="source">  Member Procedure SetEmpty<span class="sign">(</span>SELF IN OUT NOCOPY <a href="#robo28">T_MBR</a><span class="sign">)</span><span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>procedure  <span class="sign">:</span> SetToPart
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis     <span class="sign">:</span> initialiser that sets SELF to MBR of the smallest<span class="sign">/</span>largest part in a multi<span class="sign">-</span>part shape<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version    <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>description<span class="sign">:</span> Occasionally the MBR of the smallest<span class="sign">/</span>largest part of a multi<span class="sign">-</span>part shape is
  <span class="sign">-</span><span class="sign">-</span>               needed <span class="sign">-</span> see sdo_centroid<span class="sign">.</span>  SELF<span class="sign">.</span>function iterates over all the parts of
  <span class="sign">-</span><span class="sign">-</span>               a multi<span class="sign">-</span>part <span class="sign">(</span>SDO_GTYPE <span class="sign">=</span><span class="sign">=</span> 2007<span class="sign">)</span> shape<span class="sign">,</span> computes their individual MBRs
  <span class="sign">-</span><span class="sign">-</span>               and returns the smallest<span class="sign">/</span>largest<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>usage      <span class="sign">:</span> FUNCTION SetToPart <span class="sign">(</span> p_geometry IN MDSYS<span class="sign">.</span>SDO_GEOMETRY <span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span>               eg SetToPart<span class="sign">(</span>shape<span class="sign">,</span>diminfo<span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>param      <span class="sign">:</span> p_geometry  <span class="sign">:</span> MDSYS<span class="sign">.</span>SDO_GEOMETRY <span class="sign">:</span> A shape<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>param      <span class="sign">:</span> p_which     <span class="sign">:</span> integer        <span class="sign">:</span> Flag indicating smallest <span class="sign">(</span>0<span class="sign">)</span> part required or largest <span class="sign">(</span>1<span class="sign">)</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history    <span class="sign">:</span> Simon Greener <span class="sign">-</span> Feb 2012 <span class="sign">-</span> Original coding<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>copyright  <span class="sign">:</span> GPL <span class="sign">-</span> Free for public use
  Member Function SetToPart<span class="sign">(</span>p_geometry in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span> 
                            p_which    in integer <span class="comment">/* 0 smallest, 1 largest */</span> <span class="sign">)</span>
           Return <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>procedure  <span class="sign">:</span> SetSmallestPart
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis     <span class="sign">:</span> initialiser that sets SELF to MBR of the smallest part in a multi<span class="sign">-</span>part shape<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version    <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>description<span class="sign">:</span> Occasionally the MBR of the smallest part of a multi<span class="sign">-</span>part shape is
  <span class="sign">-</span><span class="sign">-</span>               needed <span class="sign">-</span> see sdo_centroid<span class="sign">.</span>  SELF<span class="sign">.</span>function iterates over all the parts of
  <span class="sign">-</span><span class="sign">-</span>               a multi<span class="sign">-</span>part <span class="sign">(</span>SDO_GTYPE <span class="sign">=</span><span class="sign">=</span> 2007<span class="sign">)</span> shape<span class="sign">,</span> computes their individual MBRs
  <span class="sign">-</span><span class="sign">-</span>               and returns the smallest<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>usage      <span class="sign">:</span> FUNCTION SetSmallestPart <span class="sign">(</span> p_geometry IN MDSYS<span class="sign">.</span>SDO_GEOMETRY <span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span>               eg SetSmallestPart<span class="sign">(</span>shape<span class="sign">,</span>diminfo<span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>param      <span class="sign">:</span> p_geometry  <span class="sign">:</span> A shape<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>paramtype  <span class="sign">:</span> p_geomery   <span class="sign">:</span> MDSYS<span class="sign">.</span>SDO_GEOMETRY
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history    <span class="sign">:</span> Simon Greener <span class="sign">-</span> Feb 2012 <span class="sign">-</span> Original coding<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>copyright  <span class="sign">:</span> GPL <span class="sign">-</span> Free for public use
  Member Function SetSmallestPart<span class="sign">(</span>p_geometry IN MDSYS<span class="sign">.</span>SDO_GEOMETRY <span class="sign">)</span>
           Return <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span><span class="sign">-</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>procedure  <span class="sign">:</span> SetLargestPart
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis     <span class="sign">:</span> initialiser that sets SELF to MBR of the largest part in a multi<span class="sign">-</span>part shape<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version    <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>description<span class="sign">:</span> Occasionally the MBR of the largest part of a multi<span class="sign">-</span>part shape is
  <span class="sign">-</span><span class="sign">-</span>               needed <span class="sign">-</span> see sdo_centroid<span class="sign">.</span>  SELF<span class="sign">.</span>function iterates over all the parts of
  <span class="sign">-</span><span class="sign">-</span>               a multi<span class="sign">-</span>part <span class="sign">(</span>SDO_GTYPE <span class="sign">=</span><span class="sign">=</span> 2007<span class="sign">)</span> shape<span class="sign">,</span> computes their individual MBRs
  <span class="sign">-</span><span class="sign">-</span>               and returns the largest<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>usage      <span class="sign">:</span> FUNCTION SetLargestPart <span class="sign">(</span> p_geometry IN MDSYS<span class="sign">.</span>SDO_GEOMETRY <span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span>               eg SetLargestPart<span class="sign">(</span>shape<span class="sign">,</span>diminfo<span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>param      <span class="sign">:</span> p_geometry  <span class="sign">:</span> A shape<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>paramtype  <span class="sign">:</span> p_geomery   <span class="sign">:</span> MDSYS<span class="sign">.</span>SDO_GEOMETRY
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history    <span class="sign">:</span> Simon Greener <span class="sign">-</span> Apr 2003 <span class="sign">-</span> Original coding<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>copyright  <span class="sign">:</span> GPL <span class="sign">-</span> Free for public use
  Member Function SetLargestPart<span class="sign">(</span>p_geometry IN MDSYS<span class="sign">.</span>SDO_GEOMETRY <span class="sign">)</span>
           Return <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> Deterministic<span class="sign">,</span>

  Member Function Intersection<span class="sign">(</span>p_other In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> <span class="sign">)</span>
           Return <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> Deterministic<span class="sign">,</span>
  
  Member Function Expand<span class="sign">(</span>p_Vertex IN <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">)</span>
           Return <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> Expand
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Enlarges the boundary of the Current MBR so that it contains <span class="sign">(</span>x<span class="sign">,</span>y<span class="sign">)</span><span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span>              Does nothing if <span class="sign">(</span>x<span class="sign">,</span>y<span class="sign">)</span> is already on or within the boundaries<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>param     <span class="sign">:</span> dX <span class="sign">-</span> the value to lower the minimum x to or to raise the maximum x to
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>paramType <span class="sign">:</span> double
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>param     <span class="sign">:</span> dY <span class="sign">-</span>  the value to lower the minimum y to or to raise the maximum y to
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>paramType <span class="sign">:</span> double
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG November 2004 <span class="sign">-</span> Original Coding
  Member Function Expand<span class="sign">(</span>p_dX IN NUMBER<span class="sign">,</span>
                         p_dY IN NUMBER<span class="sign">)</span>
           Return <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>procedure <span class="sign">:</span> Expand
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Enlarges the boundary of the Current MBR so that it contains another MBR<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span>              Does nothing if other is wholly on or within the boundaries<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>param     <span class="sign">:</span> p_other <span class="sign">-</span> MBR to merge with
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>paramType <span class="sign">:</span> <a href="#robo28">T_MBR</a>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG November 2004 <span class="sign">-</span> Original Coding
  Member Function Expand<span class="sign">(</span>p_other IN <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a><span class="sign">)</span>
           Return <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> <a href="#robo315">Normalize</a><span class="sign">(</span>ratio<span class="sign">)</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Method that adjusts width<span class="sign">/</span>height etc based on passed ratio eg imageWidth<span class="sign">/</span>imageHeight<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span>              If <span class="sign">&gt;</span> 0 then the MBR<span class="squote">'s width is changed to height * ratio.
  --              If &lt; 0 then the MBR'</span>s height is changed to width <span class="sign">*</span> ratio<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG August 2006 <span class="sign">-</span> Original Coding
  Member Function <a href="#robo315">Normalize</a><span class="sign">(</span>p_dRatio In Number<span class="sign">)</span>
           Return <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> Deterministic<span class="sign">,</span>
</pre>
<a name="robo225"></a>
<a name="T5fMBR2fSorting28T5fMBR29"></a>
<h2>19.5.  T_MBR/Sorting(T_MBR) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo28">T_MBR</a> ] [ Variables ]</p>
<p class="item_name">SOURCE</p>
<pre class="source">  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> <a href="#robo310">Equals</a>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Tests to see if an MBR is equal to another<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> True if p_other is equal to Current else false
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> Boolean
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG November 2004 <span class="sign">-</span> Original Coding
  Member Function <a href="#robo310">Equals</a><span class="sign">(</span>   p_other In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> <span class="sign">)</span>
           Return Boolean Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> Evaluate
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Returns value that can be used to company two MBRs in an expression of type MBR <span class="sign">&lt;</span> OTHER MBR
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> Computed number<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> Number
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG August 2006 <span class="sign">-</span> Original Coding
  Order 
  Member Function Evaluate<span class="sign">(</span>p_other In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a><span class="sign">)</span>
           Return Integer
</pre>
<a name="robo226"></a>
<a name="T5fMBR2fTesters28T5fMBR29"></a>
<h2>19.6.  T_MBR/Testers(T_MBR) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo28">T_MBR</a> ] [ Variables ]</p>
<p class="item_name">SOURCE</p>
<pre class="source">   Member Function isEmpty
            Return Boolean Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> contains
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Returns true if all points on the boundary of p_other
  <span class="sign">-</span><span class="sign">-</span>              lie in the interior or on the boundary of current MBR<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> True or False
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> Boolean
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG November 2004 <span class="sign">-</span> Original Coding
  Member Function Contains<span class="sign">(</span> p_other In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo28">T_MBR</a> <span class="sign">)</span>
           Return Boolean Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> Contains
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> Method that tests if a point is within the current MBR
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> True or False
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>returntype<span class="sign">:</span> Boolean
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>history   <span class="sign">:</span> SGG November 2004 <span class="sign">-</span> Original Coding
  Member Function Contains<span class="sign">(</span> p_dX In Number<span class="sign">,</span>
                            p_dY In Number <span class="sign">)</span>
           Return Boolean Deterministic<span class="sign">,</span>

  Member Function Contains<span class="sign">(</span> p_vertex In mdsys<span class="sign">.</span>vertex_type <span class="sign">)</span>
           Return Boolean Deterministic<span class="sign">,</span>

  Member Function Contains<span class="sign">(</span> p_vertex In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex <span class="sign">)</span> 
           Return Boolean Deterministic<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>function  <span class="sign">:</span> Compare
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>version   <span class="sign">:</span> 1<span class="sign">.</span>0
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>precis    <span class="sign">:</span> compares 2 MBRs and returns percentage area of overlap<span class="sign">.</span>
  <span class="sign">-</span><span class="sign">-</span> <span class="sign">@</span>return    <span class="sign">:</span> 0 <span class="sign">(</span>don<span class="squote">'t overlap) - 100 (equal)
  -- @returntype: Number
  -- @history   : SGG May 2005 - Original Coding
  --
  Member Function Compare( p_other In spdba.<a href="#robo28">T_MBR</a> )
           Return Integer Deterministic,

  -- @function  : Overlap
  -- @version   : 1.0
  -- @precis    : Returns true if any points on the boundary of another MBR
  --              coincide with any points on the boundary of SELF.MBR.
  -- @return    : True or False
  -- @returntype: Boolean
  -- @history   : SGG November 2004 - Original Coding
  Member Function Overlap( p_other in &amp;&amp;INSTALL_SCHEMA..<a href="#robo28">T_MBR</a> )
           Return Boolean Deterministic,

  -- @function : Intersects
  -- @version  : 1.0
  -- @precis   : Test the point q to see whether it intersects the Envelope defined by p1-p2
  -- @param    : p1 one extremal point of the envelope
  -- @param    : p2 another extremal point of the envelope
  -- @param    : q the point to test for intersection
  -- @return   : true if q intersects the envelope p1-p2
  Static Function Intersects(p1 in spdba.T_Vertex, p2 in spdba.T_Vertex, q in spdba.T_Vertex)
           Return boolean Deterministic,
           

  /**
   * Tests whether the envelope defined by p1-p2
   * and the envelope defined by q1-q2
   * intersect.
   * 
   * @param p1 one extremal point of the envelope P
   * @param p2 another extremal point of the envelope P
   * @param q1 one extremal point of the envelope Q
   * @param q2 another extremal point of the envelope Q
   * @return &lt;code&gt;true&lt;/code&gt; if Q intersects P
   */
  Static Function Intersects (
                      p1 in spdba.t_vertex, p2 in spdba.T_Vertex, 
                      q1 in spdba.t_vertex, q2 in spdba.t_vertex)
                  Return boolean Deterministic,
</pre>
<a name="robo29"></a>
<a name="OBJECT20TYPE2fT5fPrecisionModel"></a>
<h1>20.  OBJECT TYPE/T_PrecisionModel [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_PrecisionModel</strong> -- Object type holding ordinate precision values
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    JTS has a PrecisionModel class. With the use of NUMBER data type most of the JTS PrecisionModel types (eg FIXED, FLOATING_SINGLE etc)
    are not neded. What is needed is a single place one can record XY, Z and M ordinate precision (scale) values.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo30"></a>
<a name="OBJECT20TYPE2fT5fSEGMENT"></a>
<h1>21.  OBJECT TYPE/T_SEGMENT [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_SEGMENT</strong> -- Object type representing a single 2-point linestring or single 3 point circular arc.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that represents a single segment of a linestring.
    A segment is composed of a minimum of two <a href="#robo33">T_VERTEX</a> objects with Implied director (SEGMENT) from start to end.
    When a segment/segment contains a mid coordinate, that segment defines a circular arc.
    Includes Methods on that type.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo227"></a>
<a name="T5fSEGMENT2fATTRIBUTES"></a>
<h2>21.1.  T_SEGMENT/ATTRIBUTES [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    element_id    -- Top level part identifier of multi-part geometry
                     eg multi-linestring composed of two lines generates element_ids 1 and 2.
    subelement_id -- Part id of any sub-elements of a single geometry part
                     eg inner ring of a single polygon; circular curve of single linestring.
    segment_id    -- Id of segments in sequential order appears in original geometry
    startCoord    -- Ordinates of start point
    midCoord      -- Ordinates of mid point of circular arc
    endCoord      -- Ordinates of end point
    sdo_gtype     -- Geometry Type of segment
    sdo_srid      -- Spatial Reference ID of segment
    projected      -- If planar then 1 else 0 
    precisionModel -- Holds precision information for object
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  element_id     integer<span class="sign">,</span>
  subelement_id  integer<span class="sign">,</span>
  segment_Id     Integer<span class="sign">,</span>
  startCoord     <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
  midCoord       <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span> <span class="comment">/* If circular arc */</span>
  endCoord       <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
  sdo_gtype      integer<span class="sign">,</span>
  sdo_srid       integer<span class="sign">,</span>
  projected      integer<span class="sign">,</span>
  PrecisionModel <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo29">T_PrecisionModel</a><span class="sign">,</span>  <span class="comment">/* Holds XYZM ordinate scale/precision values */</span>
</pre>
<a name="robo228"></a>
<a name="T5fSEGMENT2fATTRIBUTES28T5fSEGMENT29"></a>
<h2>21.2.  T_SEGMENT/ATTRIBUTES(T_SEGMENT) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>           XY -- Single scale/precision value for X and Y ordinates.
            Z -- Scale/precision value for the Z ordinate.
            W -- Scale/precision value for the W ordinate.
    tolerance -- Standard Oracle Spatial tolerance value eg 0.005.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  xy        integer<span class="sign">,</span>
  z         integer<span class="sign">,</span>
  w         integer<span class="sign">,</span>
  tolerance number
</pre>
<a name="robo229"></a>
<a name="T5fSEGMENT2fCONSTRUCTORS28T5fSEGMENT29"></a>
<h2>21.3.  T_SEGMENT/CONSTRUCTORS(T_SEGMENT) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    A collection of <a href="#robo30">T_SEGMENT</a> Constructors.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  <span class="sign">-</span><span class="sign">-</span> Useful as an <span class="quote">"Empty"</span> constructor<span class="sign">.</span>
  Constructor Function <a href="#robo30">T_SEGMENT</a><span class="sign">(</span>SELF IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a><span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo30">T_SEGMENT</a><span class="sign">(</span>SELF     IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a><span class="sign">,</span>
                                 p_segment in <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo30">T_SEGMENT</a><span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo30">T_SEGMENT</a><span class="sign">(</span>SELF         IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a><span class="sign">,</span>
                                 p_line       in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">,</span>
                                 p_segment_id in integer default 0<span class="sign">,</span>
                                 p_precision  in integer default 3<span class="sign">,</span>
                                 p_tolerance  in number default 0<span class="sign">.</span>005
                       <span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo30">T_SEGMENT</a><span class="sign">(</span>SELF        IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a><span class="sign">,</span>
                                 p_sdo_gtype In Integer<span class="sign">,</span>
                                 p_sdo_srid  In Integer<span class="sign">,</span>
                                 p_projected in integer default 1<span class="sign">,</span>
                                 p_precision in integer default 3<span class="sign">,</span>
                                 p_tolerance in number  default 0<span class="sign">.</span>005<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> <a href="#robo33">T_VERTEX</a> Constructors
  Constructor Function <a href="#robo30">T_SEGMENT</a><span class="sign">(</span>SELF         IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a><span class="sign">,</span>
                                 p_segment_id In Integer<span class="sign">,</span>
                                 p_startCoord In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                 p_endCoord   In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                 p_sdo_gtype  In Integer default null<span class="sign">,</span>
                                 p_sdo_srid   In Integer default null<span class="sign">,</span>
                                 p_projected  in integer default 1<span class="sign">,</span>
                                 p_precision  in integer default 3<span class="sign">,</span>
                                 p_tolerance  in number  default 0<span class="sign">.</span>005<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo30">T_SEGMENT</a><span class="sign">(</span>SELF         IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a><span class="sign">,</span>
                                 p_segment_id In Integer<span class="sign">,</span>
                                 p_startCoord In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                 p_midCoord   In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                 p_endCoord   In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                 p_sdo_gtype  In Integer default null<span class="sign">,</span>
                                 p_sdo_srid   In Integer default null<span class="sign">,</span>
                                 p_projected  in integer default 1<span class="sign">,</span>
                                 p_precision  in integer default 3<span class="sign">,</span>
                                 p_tolerance  in number  default 0<span class="sign">.</span>005 <span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo30">T_SEGMENT</a><span class="sign">(</span>SELF            IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a><span class="sign">,</span>
                                 p_element_id    In Integer<span class="sign">,</span>
                                 p_subelement_id In Integer<span class="sign">,</span>
                                 p_segment_id    In Integer<span class="sign">,</span>
                                 p_startCoord    In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                 p_endCoord      In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                 p_sdo_gtype     In Integer default null<span class="sign">,</span>
                                 p_sdo_srid      In Integer default null<span class="sign">,</span>
                                 p_projected     in integer default 1<span class="sign">,</span>
                                 p_precision     in integer default 3<span class="sign">,</span>
                                 p_tolerance     in number default 0<span class="sign">.</span>005<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo30">T_SEGMENT</a><span class="sign">(</span>SELF            IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a><span class="sign">,</span>
                                 p_element_id    In Integer<span class="sign">,</span>
                                 p_subelement_id In Integer<span class="sign">,</span>
                                 p_segment_id    In Integer<span class="sign">,</span>
                                 p_startCoord    In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                 p_midCoord      In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                 p_endCoord      In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                 p_sdo_gtype     In Integer default null<span class="sign">,</span>
                                 p_sdo_srid      In Integer default null<span class="sign">,</span>
                                 p_projected     in integer default 1<span class="sign">,</span>
                                 p_precision     in integer default 3<span class="sign">,</span>
                                 p_tolerance     in number default 0<span class="sign">.</span>005<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  <span class="sign">-</span><span class="sign">-</span> MDSYS<span class="sign">.</span>VERTEX_TYPE Constructors
  Constructor Function <a href="#robo30">T_SEGMENT</a><span class="sign">(</span>SELF         IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a><span class="sign">,</span>
                                 p_segment_id In Integer<span class="sign">,</span>
                                 p_startCoord In mdsys<span class="sign">.</span>vertex_type<span class="sign">,</span>
                                 p_endCoord   In mdsys<span class="sign">.</span>vertex_type<span class="sign">,</span>
                                 p_sdo_gtype  In Integer default null<span class="sign">,</span>
                                 p_sdo_srid   In Integer default null<span class="sign">,</span>
                                 p_projected  in integer default 1<span class="sign">,</span>
                                 p_precision  in integer default 3<span class="sign">,</span>
                                 p_tolerance  in number default 0<span class="sign">.</span>005
                        <span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo30">T_SEGMENT</a><span class="sign">(</span>SELF         IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a><span class="sign">,</span>
                                 p_segment_id In Integer<span class="sign">,</span>
                                 p_startCoord In mdsys<span class="sign">.</span>vertex_type<span class="sign">,</span>
                                 p_midCoord   In mdsys<span class="sign">.</span>vertex_type<span class="sign">,</span>
                                 p_endCoord   In mdsys<span class="sign">.</span>vertex_type<span class="sign">,</span>
                                 p_sdo_gtype  In Integer default null<span class="sign">,</span>
                                 p_sdo_srid   In Integer default null<span class="sign">,</span>
                                 p_projected  in integer default 1<span class="sign">,</span>
                                 p_precision  in integer default 3<span class="sign">,</span>
                                 p_tolerance  in number  default 0<span class="sign">.</span>005<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>
</pre>
<a name="robo230"></a>
<a name="T5fSEGMENT2fOrderBy"></a>
<h2>21.4.  T_SEGMENT/OrderBy [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>OrderBy</strong> -- Implements ordering function that can be used to sort a collection of T_Vertex objects.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Order Function <strong>OrderBy</strong>(p_segment in &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>)
            Return Number deterministic
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment (<a href="#robo30">T_SEGMENT</a>) - Order pair
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This order by function allows a collection of T_Vertex objects to be sorted.
    For example in the ORDER BY clause of a SELECT statement.
    Comparison only uses ordinates: X, Y, Z and W.
    If precision is an issue, the two segments have to be rounded before this method can be used.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With segments as (
      select <a href="#robo30">T_SEGMENT</a>(p_segment_id=&gt; LEVEL,
                       p_startCoord=&gt;T_Vertex(p_x=&gt;dbms_random.value(0,level),
                                              p_y=&gt;dbms_random.value(0,level),
                                              p_id=&gt;1,
                                              p_sdo_gtype=&gt;2001,
                                              p_sdo_srid=&gt;null),
                         p_endCoord=&gt;T_Vertex(p_x=&gt;dbms_random.value(0,level),
                                              p_y=&gt;dbms_random.value(0,level),
                                              p_id=&gt;2,
                                              p_sdo_gtype=&gt;2001,
                                              p_sdo_srid=&gt;null),
                         p_sdo_gtype=&gt;3002,
                          p_sdo_srid=&gt;null
             ) as segment
        from dual
        connect by level &lt; 5
    )
    select a.segment.st_astext(2) as segment
      from segments a
     order by a.segment;

    SEGMENT
    ---------------------------------------------------------------------------------------------------------------------------
    SEGMENT(NULL,NULL,1,Start(.51,.86,NULL,NULL,1,2001,NULL),End(.2,.43,NULL,NULL,2,2001,NULL),SDO_GTYPE=3002,SDO_SRID=NULL)
    SEGMENT(NULL,NULL,2,Start(1.3,1.31,NULL,NULL,1,2001,NULL),End(.96,1.56,NULL,NULL,2,2001,NULL),SDO_GTYPE=3002,SDO_SRID=NULL)
    SEGMENT(NULL,NULL,3,Start(.84,2.03,NULL,NULL,1,2001,NULL),End(.55,.23,NULL,NULL,2,2001,NULL),SDO_GTYPE=3002,SDO_SRID=NULL)
    SEGMENT(NULL,NULL,4,Start(2.69,1.34,NULL,NULL,1,2001,NULL),End(2.65,1.37,NULL,NULL,2,2001,NULL),SDO_GTYPE=3002,SDO_SRID=NULL)

  4 rows selected
</pre>
<p class="item_name">RESULT</p>
<pre>    order value (NUMBER) - -1 less than; 0 equal; 1 greater than
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo231"></a>
<a name="T5fSEGMENT2fST5fAddCurveBetweenSegments"></a>
<h2>21.5.  T_SEGMENT/ST_AddCurveBetweenSegments [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AddCurveBetweenSegments</strong> -- Adds Circular Curve between two segments
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AddCurveBetweenSegments</strong>(
                         p_segment   In &amp;&amp;INSTALL_SCHEMA..T_Segment,
                         p_iVertex   in &amp;&amp;INSTALL_SCHEMA..T_Verex default NULL,
                         p_radius    In number        default null,
                         p_unit      In varchar2      default NULL)
               Return mdsys.sdo_Geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Adds Circular Curve between two segments. 
    The segments can be 2 point linestrings or 3 point circular curves.
    How the circular cuve is added depends on the parameters.
    1. If SELF and p_segment do not meet, and the intersectoin point between 
       SELF.endCoord and p_segment.startCoord is not provided, the intersection point
       is computed using <a href="#robo254">ST_IntersectDetail</a>.
    2. If p_radius is provided a circular curve is fitted between end/mid/start of radius p_radius.
    3. If p_iVertex, p_radius are not provided, the best circular arc is fittd.
    The implementation honours 3D and 4D shapes and averages these dimension values
    for the new vertices.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment (T_Segment) -- Other, unconnected, segment
    p_iVertex  (T_Vertex) -- The intersectoin point between the two segments.
    p_radius     (number) -- Optional Radius.
    p_unit     (Varchar2) -- If NULL, the calculations are done using the underlying projection default units.
                             If an Oracle Unit of Measure is supplied (eg unit=M) that is value for the SRID,
                             this value is used when calculating the p_offset distance.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (sdo_geometry) -- sdo_geometry with self and p_segment joined by circular arc.
</pre>
<p class="item_name">EXAMPLE</p>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013 -- Original coding.
    Simon Greener - August 2018  -- Ensure all cases correct esp for 3D (XYZ)
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo232"></a>
<a name="T5fSEGMENT2fST5fAngle"></a>
<h2>21.6.  T_SEGMENT/ST_Angle [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Angle</strong> -- Computes the angle that the vector defined by this segment makes with the X-axis.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>      Member Function <strong>ST_Angle</strong>
               Return number Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Computes the angle that the vector defined by this segment makes with the X-axis.
    The angle will be in the range [ -<a href="#robo10">PI</a>, <a href="#robo10">PI</a> ] radians.
</pre>
<p class="item_name">RESULT</p>
<pre>    angle (Number) -- The angle this segment makes with the X-axis (in radians)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Simple angle 
    select round(
            T_Segment(
              sdo_geometry('LINESTRING(0 0,10 10)',null)
            ).<strong>ST_Angle</strong>(),
            3
           ) as angle
      from dual;

         ANGLE
    ----------
          .785
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo30">T_SEGMENT</a>.<a href="#robo235">ST_Bearing</a>
    <a href="#robo0">COGO</a>.<a href="#robo12">ST_Degrees</a>
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo233"></a>
<a name="T5fSEGMENT2fST5fAsText"></a>
<h2>21.7.  T_SEGMENT/ST_AsText [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AsText</strong> -- Returns text Description of underlying segment
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AsText</strong>
             Return Varchar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns textual description of segment.
</pre>
<p class="item_name">RESULT</p>
<pre>    String - <a href="#robo30">T_SEGMENT</a> in text format.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select sdo_geometry(4402,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0.0023763,0.18349,1.3456,0.0005, 10.87365,11.983645,1.98434,14.38573)) as geom
        From Dual
       Union all
      select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0.0023763,0.18349,1.3456,10.87365,11.983645,1.98434)) as geom
        From Dual
       Union all
      select sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0.0023763,0.18349,       10.87365,11.983645        )) as geom
        from dual
    )
    select T_Segment(a.geom).<strong>ST_AsText</strong>() as geomText
     from data a;

    GEOMTEXT
    ------------------------------------------------------------------------------------------------------------------------------------------------
    SEGMENT(NULL,NULL,0,Start(1,.0023763,.18349,1.346,.001,4401,NULL),End(2,10.87365,11.983645,1.984,14.386,4401,NULL),SDO_GTYPE=4402,SDO_SRID=NULL)
    SEGMENT(NULL,NULL,0,Start(1,.0023763,.18349,1.346,NULL,3001,NULL),End(2,10.87365,11.983645,1.984,NULL,3001,NULL),SDO_GTYPE=3002,SDO_SRID=NULL)
    SEGMENT(NULL,NULL,0,Start(1,.0023763,.18349,NULL,NULL,2001,NULL),End(2,10.87365,11.983645,NULL,NULL,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
</pre>
<p class="item_name">TODO</p>
<pre>    Create Function, <a href="#robo89">ST_FromText</a>(), to create T_Segment from <strong>ST_AsText</strong> representation.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo234"></a>
<a name="T5fSEGMENT2fST5fAsWKT"></a>
<h2>21.8.  T_SEGMENT/ST_AsWKT [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AsWKT</strong> -- Exports <a href="#robo30">T_SEGMENT</a> object to its Extended Well Known Text (EWKT).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AsWKT</strong>
             Return varchar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns Extended Well Known Text representation of underlying T_GEOEMTRY.
    Supports 2D/3D/4D t_segments.
    Formatting of ordinates supported by supplied p_format_model eg TM9 or FM999999999999990D0
</pre>
<p class="item_name">RESULT</p>
<pre>    WKT (CLOB) -- eg Well Known Text encoding of mdsys.sdo_geometry object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
     select t_segment(sdo_geometry(2002,28355,NULL,
                                  sdo_elem_info_array(1,2,2),
                                  sdo_ordinate_array(252230.4743434348,5526918.37343433, 252400.034348,5526918.33434333473,252230.4434343378,5527000.433445660))) as segment
     from dual union all
     select t_segment(SDO_GEOMETRY(3002,28355,NULL,
                                  sdo_elem_info_array(1,2,2),
                                  sdo_ordinate_array(252230.478,5526918.373,1.5, 252400.08,5526918.373,1.5, 252230.478,5527000.0,1.5))) as segment
     from dual union all
     select t_segment(SDO_GEOMETRY(3302,28355,NULL,
                                  sdo_elem_info_array(1,2,2),
                                  sdo_ordinate_array(252230.478,5526918.373,0.0, 252400.08,5526918.373,417.4, 252230.478,5527000.0,506.88))) as segment
     from dual union all
     select t_segment(SDO_GEOMETRY(4402,28355,NULL,
                                  sdo_elem_info_array(1,2,2),
                                  sdo_ordinate_array(252230.478,5526918.373,1.5,0.0, 252400.08,5526918.373,1.5,417.4, 252230.478,5527000.0,1.5,506.88))) as segment
     from dual union all
     select t_segment(sdo_geometry(2002,NULL,NULL,
                                   sdo_elem_info_array(1,2,1),
                                   sdo_ordinate_array(100,100,900,900.0))) as segment
     from dual union all
     select t_segment(sdo_geometry(3002,NULL,NULL,
                                   sdo_elem_info_array(1,2,1),
                                   sdo_ordinate_array(0,0,1, 10,0,2))) as segment
     from dual union all
     select t_segment(sdo_geometry(3302,NULL,NULL,
                                   sdo_elem_info_array(1,2,1),
                                   sdo_ordinate_array(0,0,1.5, 10,0,1.5, 10,5,1.5 ))) as segment
     from dual union all
     select t_segment(sdo_geometry(4402,4283,null,
                                   sdo_elem_info_array(1,2,1),
                                   sdo_ordinate_array(147.5,-42.5,849.9,102.0, 147.6,-42.5,1923.0,2100.0))) as segment
     From Dual
    )
    select a.segment.sdo_gtype as gtype,
         a.segment
          .<a href="#robo177">ST_Round</a>(3)
          .<a href="#robo47">ST_AsEWKT</a>('TM9') as ewkt
    from data a;
    
    GTYPE EWKT
    ----- ------------------------------------------------------------------------------------------------------------------------
     2002 SRID=28355;CIRCULARSTRING (252230.474 5526918.373,252400.034 5526918.334,252230.443 5527000.433)
     3002 SRID=28355;CIRCULARSTRINGZ (252230.478 5526918.373 1.5,252400.08 5526918.373 1.5,252230.478 5527000 1.5)
     3302 SRID=28355;CIRCULARSTRINGM (252230.478 5526918.373 0,252400.08 5526918.373 417.4,252230.478 5527000 506.88)
     4402 SRID=28355;CIRCULARSTRINGZM (252230.478 5526918.373 1.5 0,252400.08 5526918.373 1.5 417.4,252230.478 5527000 1.5 506.88)
     2002 LINESTRING (100 100,900 900)
     3002 LINESTRINGZ (0 0 1,10 0 2)
     3302 LINESTRINGM (0 0 1.5,10 0 1.5)
     4402 SRID=4283;LINESTRINGZM (147.5 -42.5 849.9 102,147.6 -42.5 1923 2100)
    
     8 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo235"></a>
<a name="T5fSEGMENT2fST5fBearing"></a>
<h2>21.9.  T_SEGMENT/ST_Bearing [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Bearing</strong> -- Returns Bearing, in degrees, from start to end (possibly normalized to 0..360 degree range.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Bearing</strong>(p_normalize in integer default 1)
             Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes a bearing from the current object point's startCoord to its EndCoord.
    <strong>ST_Bearing</strong> returns a whole circle bearing in range 0..360 is normalize flag is set.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_normalize (integer) -- 1 is normalise bearing to 0..360 degree range, 0 leave as calculated
</pre>
<p class="item_name">RESULT</p>
<pre>    bearing (Number) -- Bearing in Degrees.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Simple bearing for projected data
    select round(
             T_Segment(
                sdo_geometry('LINESTRING(0 0,10 10)',null)
              ).<strong>ST_Bearing</strong>(
              ),3) as bearing
      from dual;

    BEARING
    -------
         45

    -- Simple geodetic bearing (2D)
    select <a href="#robo0">COGO</a>.<a href="#robo7">DD2DMS</a>(
             T_Segment(
               sdo_geometry(2002,4283,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.5,-42.5, 147.6,-42.5))
              ).<strong>ST_Bearing</strong>(
              )) as bearing
      from dual;

    BEARING
    -----------
    90°2'1.606"
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo33">T_VERTEX</a>.<strong>ST_Bearing</strong>
    <a href="#robo0">COGO</a>.<a href="#robo12">ST_Degrees</a>
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo236"></a>
<a name="T5fSEGMENT2fST5fCheckZ"></a>
<h2>21.10.  T_SEGMENT/ST_CheckZ [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_CheckZ</strong> -- Checks Z values on linString or CircularArc
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_CheckZ</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The circularArc mathematics are considered to be 2D; 
    If a circularArc coordinate contains a Z ordinate, then its value has to be the same for all coordinates to remain in the same plane;
    If the segment is a lineString, its Z values don't need checking;.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 1 if segment's Z ordinates pass checking.
</pre>
<p class="item_name">NOTES</p>
<pre>    See also t_segment constructors that take a valid midCoord t_vertex parameter value.
    Where <strong>ST_CheckZ</strong> fails for a t_segment constructor, the error message is the same as for SQL Server Spatial.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Check <strong>ST_CheckZ</strong> for valid planar circularArc segment
    select T_Segment(
             SDO_GEOMETRY(3002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(252230.478,5526918.373,1.0, 252400.08,5526918.373,1.0, 252230.478,5527000.0,1.0))
           ).<strong>ST_CheckZ</strong>() as tsegment 
      from dual;

      TSEGMENT
    ----------
             1

    -- Test <strong>ST_CheckZ</strong> built in to circularArc segment constructors 
    select T_Segment(
             SDO_GEOMETRY(3002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(252230.478,5526918.373,2.0, 252400.08,5526918.373,2.5, 252230.478,5527000.0,3.0))
           ) as tsegment 
      from dual;

    Error starting at line 129 in command:
    select T_Segment(SDO_GEOMETRY(3002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(252230.478,5526918.373,2.0, 252400.08,5526918.373,2.5, 252230.478,5527000.0,3.0)))
             as geom from dual
    Error report:
    SQL Error: ORA-20214: Circular arc segments with Z values must have equal Z value for all 3 points.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo237"></a>
<a name="T5fSEGMENT2fST5fClosest28p5fgeometry20p5funit29"></a>
<h2>21.11.  T_SEGMENT/ST_Closest(p_geometry p_unit) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_Closest -- Finds nearest point on line where supplied geometry comes closest (snap to).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_Closest(p_geometry  in mdys.sdo_geometry,
                               p_unit      In varchar2 DEFAULT NULL
                              )
             Return &amp;&amp;INSTALL_SCHEMA..T_Vertex Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Finds nearest point on segment where supplied geometry comes closest (snap).
    Computations respect SRID and unit as uses SDO_GEOM.SDO_CLOSEST_POINTS.
    If SDO_GEOM.SDO_CLOSEST_POINTS fails, a result is calculated using planar arithmetic.
    This function handles fact that SDO_GEOM function does not support measured segments.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geometry (sdo_geometry) - Any sdo_geometry object.
    p_unit    (Varchar2) - Oracle Unit of Measure eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    vertex    (T_Vertex) -- Nearest point on line supplied vertex is nearest to.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Planar
    -- Planar 3D
    With tGeom as (
     select sdo_geometry(3001,90000006,Sdo_point_type(562038.848,1013262.454,0.0),NULL,NULL) as geometry,
            t_geometry(SDO_GEOMETRY(3002,90000006,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                                    SDO_ORDINATE_ARRAY(
                                       562046.642,1013077.602,0, 562032.193,1013252.074,0.035,
                                       562028.848,1013292.454,0.043, 562018.682,1013424.977,0.07,
                                       562007.163,1013575.247,0.099, 561981.686,1013900.825,0.16,
                                       561971.702,1014043.346,0.187, 561968.808,1014089.436,0.196,
                                       561966.077,1014146.249,0.207, 561957.494,1014376.425,0.25,
                                       561941.333,1014879.5,0.345,   561934.844,1015013.849,0.37,
                                       561930.843,1015108.115,0.388, 561926.975,1015245.592,0.414,
                                       561922.233,1015468.243,0.456, 561918.631,1015586.912,0.478,
                                       561912.301,1015756.343,0.51,  561910.44,1015825.101,0.523,
                                       561909.946,1015874.059,0.532, 561910.027,1015909.594,0.539,
                                       561910.765,1015948.408,0.547, 561913.6,1016019.49,0.561,
                                       561917.047,1016069.767,0.57,  561919.944,1016103.33,0.577,
                                       561927.81,1016171.894,0.59,   561934.889,1016220.292,0.599,
                                       561939.73,1016249.091,0.605,  561949.697,1016302.867,0.615,
                                       561965.347,1016374.268,0.629, 561972.535,1016402.687,0.634
                                       )),
                        0.0005,3,1)
                as lrs_tgeom
       from dual
    )
    select t.segment
            .ST_Closest(
               p_geometry  =&gt; a.geometry,
               p_unit      =&gt; 'unit=M'
            )
            .<a href="#robo177">ST_Round</a>(3)
            .<a href="#robo326">ST_AsText</a>() as closestPoint
      from tGeom a,
            table(a.lrs_tgeom.<a href="#robo182">ST_Segmentize</a>(p_filter=&gt;'DISTANCE',
                                            p_vertex=&gt;SELF.T_Vertex(a.geometry)) t;

    CLOSESTPOINT
    ----------------------------------------------------------
    T_Vertex(562031.384,1013261.836,.037,NULL,NULL,3001,90000006)

    -- Geodetic
    With data as (
     select SDO_GEOMETRY(2001,4326,SDO_POINT_TYPE(147.439,-43.195,NULL),NULL,NULL) as point,
            sdo_geometry(3002,4326,NULL,sdo_elem_info_array(1,2,1),
                         sdo_ordinate_array(147.50,-43.132,100.0, 147.41,-43.387,30000.0)) as line
       from dual
    )
    select T_Segment(a.line)
            .ST_Closest(
               p_vertex    =&gt; T_Vertex(a.point),
               p_unit      =&gt; 'unit=M'
            )
           .<a href="#robo177">ST_Round</a>(8)
           .<a href="#robo326">ST_AsText</a>() as closestPoint
      from data a;

    CLOSESTPOINT
    ------------------------------------------------------------
    T_Vertex(147.47543293,-43.20182579,NULL,NULL,NULL,2001,4326)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo238"></a>
<a name="T5fSEGMENT2fST5fComputeDeflectionAngle"></a>
<h2>21.12.  T_SEGMENT/ST_ComputeDeflectionAngle [ Functions ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Functions ]</p>
<p class="item_name">NAME</p>
<pre>   <strong>ST_ComputeDeflectionAngle</strong> - Computes deflection angle between two segments.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_ComputeDeflectionAngle</strong>
             p_segment   t_segment default null,
           )
      Return Number
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes the deflection angle between two segments: SELF.start-&gt;(bearing)-&gt;SELF.end deflect p_segment.start-&gt;(bearing)-&gt;p_segment.end
    The deflection angle from the projection of the first line to the direction(bearing) of the first line.
    If the underlying segment is a circular arc, p_segment is ignored and a deflection angle is computed between the circular arc's three vertices.
    If p_segment is supplied its first coordinate is assumed to be the same as the last point of SELF; if not a "virtual" deflection is computed.
    If SELF.projected = 0 deflection angle is computed using geodetic math (see MDSYS.SDO_UTIL.BEARING_TILT_FOR_POINTS)
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_segment (t_segment) - A linestring segment
</pre>
<p class="item_name">RESULT</p>
<pre>    angle        (number) - Deflection angle in degrees.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - April 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2008-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo239"></a>
<a name="T5fSEGMENT2fST5fComputeTangentLine"></a>
<h2>21.13.  T_SEGMENT/ST_ComputeTangentLine [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_ComputeTangentLine</strong> -- Computes point that would define a tangential line at the nominated position on the circular arc
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_ComputeTangentLine</strong>(p_position  in VarChar2,
                                          p_fraction  In Number   default 0.0,
                                          p_unit      IN varchar2 default NULL)
             Return T_Segment Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    There is a need to be able to create a tangent line at any point on a circular arc.
    This function computes a tangential line at the start/mid or end coord.
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_position (varchar2) -- Requests tangent point for 'START', 'MID', 'END' point, or 'FRACTION' of circular arc.
    p_fraction   (number) -- Fractional value between 0.0 and 1.0 (length)
    p_unit     (varchar2) -- If NULL, the calculations are done using the underlying projection default units.
                             If an Oracle Unit of Measure is supplied (eg unit=M) that is value for the SRID.
</pre>
<p class="item_name">RESULT</p>
<pre>    line      (T_Segment) -- A tangent line.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select T_Segment(
               SDO_GEOMETRY('CIRCULARSTRING(252230.478 5526918.373, 252400.08 5526918.373, 252230.478 5527000.0)',null)
             ) as circular_string
        from dual
    )
    select a.circular_string.<a href="#robo285">ST_SdoGeometry</a>() as geom
      from data a
     union all
    select b.circular_string
            .<strong>ST_ComputeTangentLine</strong>(
                p_position=&gt;case t.IntValue
                            when 1 then 'START'
                            when 2 then 'MID'
                            when 3 then 'END'
                            end
            ).<a href="#robo285">ST_SdoGeometry</a>() as geom
      from data b,
           table(tools.generate_series(1,3,1)) t;

    GEOM
    ----------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(252230.478,5526918.373, 252400.08,5526918.373, 252230.478,5527000.0))
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252230.478,5526918.373, 252250.88475,5526875.9725))
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252400.08,5526918.373, 252420.48675,5526960.7735))
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252230.478,5527000.0, 252250.88475,5527042.4005))

    -- Fraction.
    with data as (
      select T_Segment(
               SDO_GEOMETRY('CIRCULARSTRING(252230.478 5526918.373, 252400.08 5526918.373, 252230.478 5527000.0)',28355)
             ) as circular_string
        from dual
    )
    select CAST(NULL AS Number) as fraction,
           a.circular_string.<a href="#robo285">ST_SdoGeometry</a>() as geom
      from data a
     union all
    select CAST(t.IntValue as number) / 10.0 as fraction,
           b.circular_string
            .<strong>ST_ComputeTangentLine</strong>(
                p_position  =&gt;'FRACTION',
                p_fraction  =&gt; CAST(t.IntValue as number) / 10.0,
                p_unit      =&gt; 'unit=M' )
           .<a href="#robo177">ST_Round</a>(3)
           .<a href="#robo285">ST_SdoGeometry</a>() as tangentLine
      from data b,
           table(tools.generate_series(0,10,1)) t;

      FRACTION GEOM
    ---------- --------------------------------------------------------------------------------------------------------------------------------------------
          NULL SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(252230.478,5526918.373,252400.08,5526918.373,252230.478,5527000))
             0 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252230.478,5526918.373,252250.885,5526875.973))
           0.1 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252221.549,5526967.649,252217.318,5526920.784))
           0.2 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252239.159,5527014.529,252211.488,5526976.469))
           0.3 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252278.323,5527045.738,252235.047,5527027.261))
           0.4 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252327.951,5527052.441,252281.324,5527058.777))
           0.5 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252373.991,5527032.738,252337.215,5527062.094))
           0.6 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252403.406,5526992.209,252419.918,5526948.146))
           0.7 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252407.868,5526942.33,252399.44,5526896.035))
           0.8 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252386.114,5526897.224,252355.132,5526861.806))
           0.9 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252344.302,5526869.662,252299.54,5526855.151))
             1 SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(252294.273,5526867.449,252248.404,5526877.953))

     12 rows selected
</pre>
<p class="item_name">NOTES</p>
<pre>    If SELF.projected is 1 then calculations are PLANAR or PROJECTED, otherwise GEODETIC/GEOGRAPHIC.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>   Simon Greener - June 2011 - Original Coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo240"></a>
<a name="T5fSEGMENT2fST5fComputeTangentPoint"></a>
<h2>21.14.  T_SEGMENT/ST_ComputeTangentPoint [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_ComputeTangentPoint</strong> -- Computes point that would define a tandential line at the start, mid or end point of a circular arc
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_ComputeTangentPoint</strong>(p_position  In VarChar2,
                                           p_fraction  In Number   default 0.0,
                                           p_unit      IN varchar2 default NULL)
             Return T_Vertex Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    There is a need to be able to compute an angle between a linestring and a circularstring.
    To do this, one needs to compute a tangential line at the start, mid, end or user fraction of a circularstring.
    This function computes point that would define a tangential line at the start, mid or end of a circular arc.
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_position (varchar2) -- Requests tangent point for 'START', 'MID', 'END' point, or 'FRACTION' of circular arc.
    p_fraction   (number) -- Fractional value between 0.0 and 1.0 (length)
    p_unit     (varchar2) -- If NULL, the calculations are done using the underlying projection default units.
                             If an Oracle Unit of Measure is supplied (eg unit=M) that is value for the SRID.
</pre>
<p class="item_name">RESULT</p>
<pre>    point      (T_Vertex) -- A tangent point that combined with the start, mid or end of the circularstring creates a tangential line.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(
             p_Segment_id =&gt; 0,
             p_startCoord =&gt; T_Vertex(
                               p_id        =&gt;  1,
                               p_x         =&gt; 10,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_midCoord   =&gt; T_Vertex(
                               p_id        =&gt;  2,
                               p_x         =&gt; 15,
                               p_y         =&gt;  5,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_endCoord   =&gt; T_Vertex(
                               p_id        =&gt;  3,
                               p_x         =&gt; 20,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_sdo_gtype  =&gt; 2002,
             p_sdo_srid   =&gt; NULL
           )
           .<strong>ST_ComputeTangentPoint</strong>(p_position =&gt;'START')
           .<a href="#robo326">ST_AsText</a>() as tangentPoint
      from dual;

    TANGENTPOINT
    ------------------------------------
    T_Vertex(10,5,NULL,NULL,1,2001,NULL)

    -- Circular String all points tangent
    with data as (
      select T_Segment(
               SDO_GEOMETRY('CIRCULARSTRING(252230.478 5526918.373, 252400.08 5526918.373, 252230.478 5527000.0)',null)
             ) as circular_string
        from dual
    )
    select a.circular_string.<a href="#robo285">ST_SdoGeometry</a>() as geom
      from data a
     union all
    select b.circular_string
            .<strong>ST_ComputeTangentPoint</strong>(
                 p_position=&gt;cast(case t.IntValue
                                  when 1 then 'START'
                                  when 2 then 'MID'
                                  when 3 then 'END'
                                  end as varchar(5))
            ).<a href="#robo285">ST_SdoGeometry</a>() as geom
      from data b,
           table(tools.generate_series(1,3,1)) t;

    GEOM
    -------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(252230.478,5526918.373,252400.08,5526918.373,252230.478,5527000))
    SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(252189.6645,5527003.174,NULL),NULL,NULL)
    SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(252440.8935,5527003.174,NULL),NULL,NULL)
    SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(252189.6645,5526915.199,NULL),NULL,NULL)

    -- Fraction
    select CAST(t.IntValue as number) / 10.0 as fraction,
           T_Segment(
             p_Segment_id =&gt; 0,
             p_startCoord =&gt; T_Vertex(
                               p_id        =&gt;  1,
                               p_x         =&gt; 10,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_midCoord   =&gt; T_Vertex(
                               p_id        =&gt;  2,
                               p_x         =&gt; 15,
                               p_y         =&gt;  5,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_endCoord   =&gt; T_Vertex(
                               p_id        =&gt;  3,
                               p_x         =&gt; 20,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_sdo_gtype  =&gt; 2002,
             p_sdo_srid   =&gt; NULL
           )
           .<strong>ST_ComputeTangentPoint</strong>(p_position  =&gt;'FRACTION',
                                   p_fraction  =&gt; CAST(t.IntValue as number) / 10.0)
           .<a href="#robo177">ST_Round</a>(3)
           .<a href="#robo285">ST_SdoGeometry</a>() as tangentPoint
      from table(tools.generate_series(0,10,1)) t;

      FRACTION TANGENTPOINT
    ---------- -------------------------------------------------------------------
             0 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(10,-2.5,NULL),NULL,NULL)
           0.1 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(9.472,-0.833,NULL),NULL,NULL)
           0.2 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(9.485,0.916,NULL),NULL,NULL)
           0.3 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(10.039,2.576,NULL),NULL,NULL)
           0.4 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(11.077,3.983,NULL),NULL,NULL)
           0.5 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(12.5,5,NULL),NULL,NULL)
           0.6 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(18.923,3.983,NULL),NULL,NULL)
           0.7 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(19.961,2.576,NULL),NULL,NULL)
           0.8 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(20.515,0.916,NULL),NULL,NULL)
           0.9 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(20.528,-0.833,NULL),NULL,NULL)
             1 SDO_GEOMETRY(2001,NULL,SDO_POINT_TYPE(20,-2.5,NULL),NULL,NULL)

     11 rows selected
</pre>
<p class="item_name">NOTES</p>
<pre>    If SELF.projected is 1 then calculations are PLANAR or PROJECTED, otherwise GEODETIC/GEOGRAPHIC.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>   Simon Greener - June 2011 - Original Coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo241"></a>
<a name="T5fSEGMENT2fST5fDensify"></a>
<h2>21.15.  T_SEGMENT/ST_Densify [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Densify</strong> -- Implements a basic geometry densification algorithm.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Densify</strong>(p_distance in number)
                               p_unit      IN varchar2 default NULL)
             Return mdsys.sdo_Geometry Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function add vertices to an existing vertex-to-vertex described geometry segment.
    New vertices are added in such a way as to ensure that no two vertices will
    ever fall with SELF.PrecisionModel.XY.
    Also, because of the nature of the implementation there is no guarantee that the
    added vertices will be p_distance apart.
    The implementation prefers to balance the added vertices across a complete segment
    such that an even number are added. The final vertex separation will be
    BETWEEN p_distance AND p_distance * 2 .

    The implementation honours 3D and 4D shapes and averages these dimension values
    for the new vertices.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_distance     (Number) -- The desired optimal distance between added vertices. Must be &gt; SELF.tolerance.
</pre>
<p class="item_name">RESULT</p>
<pre>    geometry (sdo_geometry) -- Densified geometry.
</pre>
<p class="item_name">EXAMPLE</p>
<p class="item_name">NOTES</p>
<pre>    Does not support CircularArc segments.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013 -- Original coding.
    Simon Greener - August 2018  -- Ensure all cases correct esp for 3D (XYZ)
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo242"></a>
<a name="T5fSEGMENT2fST5fDims"></a>
<h2>21.16.  T_SEGMENT/ST_Dims [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Dims</strong> -- Returns number of ordinate dimensions
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Dims</strong>
             Return INTEGER Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (2XXX etc) and extracts coordinate dimensions.
    If SDO_GTYPE is null, examines ordinates eg XY not null, Z null -&gt; 2.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 2 if data 2D; 3 if 3D; 4 if 4D
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select T_Segment(
               SDO_GEOMETRY('CIRCULARSTRING(252230.478 5526918.373, 252400.08 5526918.373, 252230.478 5527000.0)',28355)
             ) as circular_segment
        from dual
    )
    select a.circular_segment.<strong>ST_Dims</strong>() as Dims
      from data a;

    DIMS
    ----
       2
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo243"></a>
<a name="T5fSEGMENT2fST5fDistance28p5fsegment20p5funit29"></a>
<h2>21.17.  T_SEGMENT/ST_Distance(p_segment p_unit) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo70">ST_Distance</a> -- Returns Distance from segment to the supplied segment (T_Segment)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <a href="#robo70">ST_Distance</a>(p_segment    in &amp;&amp;INSTALL_SCHEMA..T_Segment,
                                p_unit       in varchar2 DEFAULT NULL)
             Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    (Wrapper over sdo_geometry <a href="#robo70">ST_Distance</a> method).
    This function computes a distance from the input T_Segment object to the underlying <a href="#robo30">T_SEGMENT</a>.
    Result is in the distance units of the SDO_SRID, or in p_units where supplied.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment  (<a href="#robo30">T_SEGMENT</a>) - A single T_Segment from which a distance to the segment is calculated.
    p_unit      (VARCHAR2) - Oracle Unit of Measure eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    distance (Number) -- Distance in SRID unit of measure or in supplied units (p_unit)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Examples of <a href="#robo70">ST_Distance</a> to T_Vertex single poins
    with data as (
      select 'Planar LineString to Point' as test,
             sdo_geometry('LINESTRING(0 0,10 10)',null) as geom,
             sdo_geometry('POINT(5 0)',null) as dGeom
        from dual
        union all
      select 'Geo LineString to Point' as test,
             sdo_geometry('LINESTRING(147.50 -43.132,147.41 -43.387)',4326) as geom,
             sdo_geometry('POINT(147.3 -43.2)',4326) as dGeom
        from dual
       union all
       select 'Planar CircularString to Point' as test,
             SDO_GEOMETRY(2002,28355,NULL,
                          SDO_ELEM_INFO_ARRAY(1,2,2), -- Circular Arc line string
                          SDO_ORDINATE_ARRAY(252230.478,5526918.373, 252400.08,5526918.373,252230.478,5527000.0)) as geom,
             SDO_GEOMETRY('POINT(252429.706 5527034.024)',28355) as dGeom
        from dual
    )
    select a.test,
           T_Segment(a.geom).<a href="#robo70">ST_Distance</a>(p_vertex=&gt;T_Vertex(a.dGeom),p_unit=&gt;NULL) as d_in_meters,
           T_Segment(a.geom).<a href="#robo70">ST_Distance</a>(p_vertex=&gt;T_Vertex(a.dGeom),p_unit=&gt;'unit=KM') as l_in_km
      from data a;

    TEST                           D_IN_METERS    L_IN_KM
    ------------------------------ ----------- ----------
    Planar LineString to Point        3.535534   3.535534
    Geo LineString to Point        13820.16185  13.820162
    Planar CircularString to Point    42.61532   0.042615
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo244"></a>
<a name="T5fSEGMENT2fST5fDistance28p5fvertex20p5funit29"></a>
<h2>21.18.  T_SEGMENT/ST_Distance(p_vertex p_unit) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo70">ST_Distance</a> -- Returns Distance from segment supplied T_Vertex (Wrapper)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <a href="#robo70">ST_Distance</a>(p_vertex     in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                                p_unit       in varchar2 DEFAULT NULL)
             Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    (Wrapper over sdo_geometry <a href="#robo70">ST_Distance</a> method).
    This function computes a distance from the input T_Vertex object to the underlying <a href="#robo30">T_SEGMENT</a>.
    Result is in the distance units of the SDO_SRID, or in p_units where supplied.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_geom      (<a href="#robo33">T_VERTEX</a>) - A single vertex from which a bearing to the segment is calculated.
    p_unit      (VARCHAR2) - Oracle Unit of Measure eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    distance (Number) -- Distance in SRID unit of measure or in supplied units (p_unit)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Examples of <a href="#robo70">ST_Distance</a> to T_Vertex single poins
    with data as (
      select 'Planar LineString to Point' as test,
             sdo_geometry('LINESTRING(0 0,10 10)',null) as geom,
             sdo_geometry('POINT(5 0)',null) as dGeom
        from dual
        union all
      select 'Geo LineString to Point' as test,
             sdo_geometry('LINESTRING(147.50 -43.132,147.41 -43.387)',4326) as geom,
             sdo_geometry('POINT(147.3 -43.2)',4326) as dGeom
        from dual
       union all
       select 'Planar CircularString to Point' as test,
             SDO_GEOMETRY(2002,28355,NULL,
                          SDO_ELEM_INFO_ARRAY(1,2,2), -- Circular Arc line string
                          SDO_ORDINATE_ARRAY(252230.478,5526918.373, 252400.08,5526918.373,252230.478,5527000.0)) as geom,
             SDO_GEOMETRY('POINT(252429.706 5527034.024)',28355) as dGeom
        from dual
    )
    select a.test,
           T_Segment(a.geom).<a href="#robo70">ST_Distance</a>(p_vertex=&gt;T_Vertex(a.dGeom),p_unit=&gt;NULL) as d_in_meters,
           T_Segment(a.geom).<a href="#robo70">ST_Distance</a>(p_vertex=&gt;T_Vertex(a.dGeom),p_unit=&gt;'unit=KM') as l_in_km
      from data a;

    TEST                           D_IN_METERS    L_IN_KM
    ------------------------------ ----------- ----------
    Planar LineString to Point        3.535534   3.535534
    Geo LineString to Point        13820.16185  13.820162
    Planar CircularString to Point    42.61532   0.042615
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo245"></a>
<a name="T5fSEGMENT2fST5fEquals"></a>
<h2>21.19.  T_SEGMENT/ST_Equals [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Equals</strong> -- Compares current object (SELF) with supplied segment.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Equals</strong>(p_segment    in &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>,
                              p_coords     In Integer default 1)
             Return Integer deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function compares current segment object (SELF) to supplied segment (p_vertex).
    If all ordinates (to supplied precision) are equal, returns True (1) else False (0).
    SDO_GTYPE, SDO_SRID and ID are not compared uinless p_coords = 0
</pre>
<p class="item_name">NOTES</p>
<pre>    To compare all 4 ordinates, use <a href="#robo177">ST_Round</a> on both segments before calling <strong>ST_Equals</strong>
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment  (T_Segment) -- Segment that is to be compared to current object (SELF).
    p_coords     (Integer) -- Boolean. If 1, only coordinates are compared; if 0, then all elements including segment_id etc are compared.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) - 1 is True (Equal); 0 is False.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    set serveroutput on size unlimited
    Declare
      v_segment1 T_Segment;
      v_segment2 T_Segment;
    Begin
      v_segment1 :=
          T_Segment(
             p_segment_id =&gt; 0,
             p_startCoord =&gt; t_Vertex(
                               p_id=&gt;1,
                               p_x=&gt;0.0023763,
                               p_y=&gt;0.18349,
                               p_z=&gt;1.346,
                               p_w=&gt;0.001,
                               p_sdo_gtype=&gt;4401,
                               p_sdo_srid=&gt;NULL
                             ),
             p_EndCoord   =&gt; T_Vertex(
                               p_id=&gt;2,
                               p_x=&gt;10.87365,
                               p_y=&gt;11.983645,
                               p_z=&gt;1.984,
                               p_w=&gt;14.386,
                               p_sdo_gtype=&gt;4401,
                               p_sdo_srid=&gt;NULL
                             ),
             p_sdo_gtype=&gt;4402,
             p_sdo_srid =&gt;NULL
          );
      v_segment2 := T_Segment(v_segment1);
      v_segment2.segment_id := 2;
      dbms_output.put_line('<a href="#robo310">Equals</a>(With Metadata): ' ||
                             v_segment1.<strong>ST_Equals</strong>(p_segment    =&gt;v_segment2,
                                                  p_coords     =&gt; 0 ));
      dbms_output.put_line('<a href="#robo310">Equals</a>(Only Coords): ' ||
                             v_segment1.<strong>ST_Equals</strong>(p_segment    =&gt;v_segment2,
                                                  p_coords     =&gt; 1 ));
    END;

    anonymous block completed
    <a href="#robo310">Equals</a>(With Metadata): 0
    <a href="#robo310">Equals</a>(Only Coords): 1
</pre>
<p class="item_name">TODO</p>
<pre>    Consider extending to support precision for xy, z and W.
    Need to do so in all other objects (T_Geometry currently only supports SELF.precision not SELF.precision XY/Z/W).
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo246"></a>
<a name="T5fSEGMENT2fST5fFindCircle"></a>
<h2>21.20.  T_SEGMENT/ST_FindCircle [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_FindCircle</strong> -- Finds a centre X and Y and Radius from three points of underlying circular arc.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_FindCircle</strong> (
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If the underlying object is a circular arc segment, then this function computes the centre and radius defining it.
    If segment is not a circular arc, null is returned.
</pre>
<p class="item_name">NOTES</p>
<pre>    Assumes planar projection eg UTM.
    Works only on 2D circular segments
</pre>
<p class="item_name">RESULT</p>
<pre>    Circle Properties (T_Vertex) : X ordinate of centre of circle.
                                   Y ordinate of centre of circle.
                                   Z ordinate contains radius of circle.
                                   SRID as underlying <a href="#robo30">T_SEGMENT</a>.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Compute measure of point
    with data as (
      select 'LineString' as test,
             sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,2),sdo_ordinate_array(0,0,5,5,10,0)) as geom
        from dual
       union all
      select 'CircularString' as test,
              SDO_GEOMETRY(2002,28355,NULL,
                          SDO_ELEM_INFO_ARRAY(1,2,2), -- Circular Arc line string
                          SDO_ORDINATE_ARRAY(252230.478,5526918.373, 252400.08,5526918.373,252230.478,5527000.0)) as geom
        from dual
    )
    select a.test,
           T_Segment(a.geom)
             .<strong>ST_FindCircle</strong>()
             .<a href="#robo326">ST_AsText</a>() as circle_params
      from data a;

    TEST           CIRCLE_PARAMS
    -------------- ----------------------------------------------------------
    LineString     T_Vertex(5,0,5,NULL,0,2001,NULL)
    CircularString T_Vertex(252315.279,5526959.1865,94.111,NULL,0,2001,28355)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo247"></a>
<a name="T5fSEGMENT2fST5fGetProjected"></a>
<h2>21.21.  T_SEGMENT/ST_GetProjected [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_getProjected -- Rerturns whether underlying segment is planar/projected (1) or geographic/geodetic (0).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Static Function ST_GetProjection
             Return integer deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function can be used to discover whether the underlying SRID is projeccted/planar or not.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo248"></a>
<a name="T5fSEGMENT2fST5fhasM"></a>
<h2>21.22.  T_SEGMENT/ST_hasM [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_hasM</strong> -- Tests segment to see if coordinates include a measure.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_hasM</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (DLNN etc) to see if sdo_gtype has measure ordinate eg 3302 not 3002.
    If SDO_GTYPE is null, examines coordinates to see if W ordinate is not null.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 1 means segment has measure ordinate, 0 otherwise.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry(3302,4283,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.5, -42.5,0.0, 147.6, -42.5, 10923.0))).<strong>ST_hasM</strong>() as hasM
      from dual;

    HASM
    ----
       1
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo249"></a>
<a name="T5fSEGMENT2fST5fhasZ"></a>
<h2>21.23.  T_SEGMENT/ST_hasZ [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_hasZ</strong> -- Tests segment to see if coordinates include a Z ordinate.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_hasZ</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (DLNN etc). If D position is 2 then segment does not have a Z ordinate.
    If D position is 3 and measure ordinate position (L) is 0 then segment has Z ordinate.
    If D position is 3 and measure ordinate position (L) is not equal to 0 then segment does not have a Z ordinate.
    If D position is 4 and measure ordinate position (L) is equal to 0 or equal to D (4) then segment has a Z ordinate.
    If D position is 4 and measure ordinate position (L) is equal to 3 then segment does not have a Z ordinate.
    If SDO_GTYPE is null, examines Z and W ordinates of the segment's coordinates to determine if segment has Z ordinate.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 1 means segment has Z ordinate, 0 otherwise.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry(3002,4283,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.5, -42.5,10.0, 147.6, -42.5, 10.0))).<strong>ST_hasZ</strong>() as hasZ
      from dual;

    HASZ
    ----
       1
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo250"></a>
<a name="T5fSEGMENT2fST5fIntersect"></a>
<h2>21.24.  T_SEGMENT/ST_Intersect [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Intersect</strong> -- Computes intersection point between two 2D or 3D segments, returning a single intersection vertex.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Intersect</strong>(p_segment   IN <a href="#robo30">T_SEGMENT</a>,
                                 p_unit      IN varchar2 default NULL)
             Return T_Vertex Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes the intersection point between the underlying 2D/3D segment and the provided 2D/3D segment.
    The intersection point computed is always physical ie a physical intersection or an empty vertex is returned if no intersection is computed.
    If segments are parallel an empty <a href="#robo33">T_VERTEX</a> is returned with <a href="#robo33">T_VERTEX</a>.id set to -9.
    Intersection between a linestring segment and circular arc segment is supported.
    However, the intersection between two circular arc segments is not yet supported.
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_segment (T_Segment) -- Second segment for which an intersection with current is computed.
    p_unit     (varchar2) -- Oracle Unit of Measure eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    Intersection (T_Vertex) -- The intersection point or empty point with id = -9 for parallel segments.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(
             p_Segment_id =&gt; 0,
             p_startCoord =&gt; T_Vertex(
                               p_id        =&gt;  1,
                               p_x         =&gt; 10,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_endCoord   =&gt; T_Vertex(
                               p_id        =&gt;  3,
                               p_x         =&gt; 20,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_sdo_gtype  =&gt; 2002,
             p_sdo_srid   =&gt; NULL
           )
           .<strong>ST_Intersect</strong>(p_segment =&gt;
           .<a href="#robo326">ST_AsText</a>() as Intersection3D
      from dual;

    INTERSECTION3D
    ------------------------------------
    T_Vertex(10,5,NULL,NULL,1,2001,NULL)

    -- <strong>ST_Intersect</strong> of line segment and circular arc segment
    With data As (
    SELECT SDO_GEOMETRY('CIRCULARSTRING(252230.478 5526918.373, 252400.08 5526918.373, 252230.478 5527000.0)',null) as cString,
           SDO_GEOMETRY('LINESTRING(252257.745 5526951.808, 252438.138 5526963.252)',null) as lString
      FROM Dual
    )
    select t_geometry(SDO_GEOM.SDO_Intersection(cString,lString,0.005),0.005,3,1)
             .<a href="#robo177">ST_Round</a>(3,3,1)
             .geom as iGeom,
           T_Segment(lString)
             .<strong>ST_Intersect</strong>(T_Segment(cString),3)
             .<a href="#robo177">ST_Round</a>(3)
             .<a href="#robo285">ST_SdoGeometry</a>() as iPoint
      from data a;

    IGEOM
    IPOINT
    -------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2001,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1,1),SDO_ORDINATE_ARRAY(252409.364,5526961.427))
    SDO_GEOMETRY(2001,NULL,                                    SDO_POINT_TYPE(252409.364,5526961.427,NULL),NULL,NULL)

     -- <strong>ST_Intersect</strong> two 3D segments: No intersection in Z
     with data as (
     select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(  0,0, 500, 100,100,1000)) as line1,
            sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(100,0,1000,   0,100, 501)) as line2
       from dual
     )
     select f.intersection.ST_IsNull() as intersectAlwaysNull,
            f.intersection.id          as intersectMarker,
            f.intersection.<a href="#robo326">ST_AsText</a>() as IntersectCoordValues
       from (select T_Segment(line1)
                      .<strong>ST_Intersect</strong>(
                          T_Segment(line2)
                      ) as intersection
               from data a
            ) f;

     INTERSECTALWAYSNULL INTERSECTMARKER INTERSECTCOORDVALUES
     ------------------- --------------- ----------------------------------------
                       1             -99 T_Vertex(NULL,NULL,NULL,NULL,-99,1,NULL)

     -- <strong>ST_Intersect</strong> 3D has intersection in Z
     -- Compare to SDO_GEOM.SDO_Intersection
     with data as (
     select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,  0, 0, 100,100,10)) as line1,
            sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,100,10, 100,  0, 0)) as line2
       from dual
     )
     select sdo_geom.sdo_intersection(line1,line2,0.005) as geom from data
     union all
     select T_Segment(line1)
            .<strong>ST_Intersect</strong>(
                T_Segment(line2)
            )
            .<a href="#robo177">ST_Round</a>(3,3)
            .<a href="#robo285">ST_SdoGeometry</a>(3) as int3D
       from data a;

     GEOM
     ---------------------------------------------------------------------------------------------
     SDO_GEOMETRY(3001,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1,1),SDO_ORDINATE_ARRAY(50,50,0))
     SDO_GEOMETRY(3001,NULL,                                    SDO_POINT_TYPE(50,50,5),NULL,NULL)
</pre>
<p class="item_name">NOTES</p>
<pre>    Calculations are always planar.
    3D computations use T_Vector3D object methods.
</pre>
<p class="item_name">TODO</p>
<pre>    Enable calculation of intersection between geodetic/geographic segments.
    Support intersections including circular arcs
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>   Simon Greener - June 2011 - Original Coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo251"></a>
<a name="T5fSEGMENT2fST5fIntersect2CircularArcs"></a>
<h2>21.25.  T_SEGMENT/ST_Intersect2CircularArcs [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Intersect2CircularArcs</strong> -- Computes intersecton point between two 2D CircularArc segments.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Intersect2CircularArcs</strong>(
                       p_segment   in &amp;&amp;INSTALL_SCHEMA..T_Segment,
                       p_unit      in varchar2 default NULL)
             Return &amp;&amp;INSTALL_SCHEMA..T_Segment Deterministic(
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes the intersection point between the underlying circularArc segment and the provided circularArc segment.
    If one of the segments is a LineString, <a href="#robo250">ST_Intersect</a> is called.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment  (T_Segment) -- CircularArc Segment that is to be intersected with the current CircularArc object (SELF).
    p_unit      (varchar2) -- Oracle Unit of Measure for functions such as SDO_DISTANCE.
</pre>
<p class="item_name">RESULT</p>
<pre>    intersection (T_Vertex) -- The intersection point.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select &amp;&amp;INSTALL_SCHEMA..t_segment(mdsys.sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,2),sdo_ordinate_array(0,0,10,10,20,0)))
                .<strong>ST_Intersect2CircularArcs</strong>(
                    p_segment =&gt; &amp;&amp;INSTALL_SCHEMA..t_segment(mdsys.sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,2),SDO_ORDINATE_ARRAY(9.959,-0.004, 14.719,5.245, 8.133,13.623))),
                    p_unit    =&gt; null)
                .<a href="#robo177">ST_Round</a>(3) as intersection
      from dual;

    INTERSECTION
    ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>(NULL,NULL,1,&amp;&amp;INSTALL_SCHEMA..<a href="#robo33">T_VERTEX</a>(14.477,8.942,NULL,NULL,1,2001,NULL,0),NULL,&amp;&amp;INSTALL_SCHEMA..<a href="#robo33">T_VERTEX</a>(1.189,4.729,NULL,NULL,3,2001,NULL,0),2002,NULL,1,&amp;&amp;INSTALL_SCHEMA..T_PRECISIONMODEL(3,3,3,0.005))
</pre>
<p class="item_name">NOTES</p>
<pre>    Two intersections are returned for the two possible points where two circles defined by CircularArcs intersect.
    Calculations are always planar.
</pre>
<p class="item_name">TODO</p>
<pre>    Enable calculation of intersection between geodetic/geographic segments.
    Return only the actual intersections.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>   Simon Greener - 2011 - Original Coding nuary 2018\
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo252"></a>
<a name="T5fSEGMENT2fST5fIntersectCircularArc"></a>
<h2>21.26.  T_SEGMENT/ST_IntersectCircularArc [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_IntersectCircularArc</strong> -- Computes intersecton point between a CircularArc and a LineString segment.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_IntersectCircularArc</strong>(
                       p_segment   in &amp;&amp;INSTALL_SCHEMA..T_Segment,
                       p_unit      in varchar2 default NULL)
             Return &amp;&amp;INSTALL_SCHEMA..T_Segment Deterministic(
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes the intersection point between a CircularArc and a LineString.
    If both of the segments is a LineString, <a href="#robo250">ST_Intersect</a> is called.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment  (T_Segment) -- CircularArc Segment that is to be intersected with the current CircularArc object (SELF).
    p_unit      (varchar2) -- Oracle Unit of Measure for functions such as SDO_DISTANCE.
</pre>
<p class="item_name">RESULT</p>
<pre>    intersection (T_Vertex) -- The intersection point.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select &amp;&amp;INSTALL_SCHEMA..t_segment(mdsys.sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,2),sdo_ordinate_array(0,0,10,10,20,0)))
                .<strong>ST_IntersectCircularArc</strong>(
                    p_segment =&gt; &amp;&amp;INSTALL_SCHEMA..t_segment(mdsys.sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),SDO_ORDINATE_ARRAY(10,0,10,12))),
                    p_unit    =&gt; null)
                .<a href="#robo177">ST_Round</a>(3)
                .<a href="#robo285">ST_SdoGeometry</a>() as intersection
      from dual;
    
    INTERSECTION
    -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    MDSYS.SDO_GEOMETRY(2002,NULL,NULL,MDSYS.SDO_ELEM_INFO_ARRAY(1,2,1),MDSYS.SDO_ORDINATE_ARRAY(10,-10,0,0))
</pre>
<p class="item_name">NOTES</p>
<pre>    Two intersections are returned for the two possible points where two circles defined by CircularArcs intersect.
    Calculations are always planar.
</pre>
<p class="item_name">TODO</p>
<pre>    Fix as result is incorrect.
    Enable calculation of intersection between geodetic/geographic segments.
    Return only the actual intersections.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>   Simon Greener - 2011 - Original Coding nuary 2018\
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo253"></a>
<a name="T5fSEGMENT2fST5fIntersectDescription"></a>
<h2>21.27.  T_SEGMENT/ST_IntersectDescription [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_IntersectDescription</strong> -- Interprets intersection that results from a call to STIntersectionDetail with same parameter values.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_IntersectDescription</strong>(p_segment    in <a href="#robo30">T_SEGMENT</a>,
                                            p_unit       in varchar2 default NULL)
             Return T_Vertex Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Describes intersection point between two lines.
    Internal code is same as STIntersectionDetail with same parameters so see its documentation.
    Determines intersections as per STIntersectionDetail but determines nature of intersection ie whether physical, virtual, nearest point on segment etc.
    Returned interpretation is one of:
      Intersection at End 1 End 2
      Intersection at End 1 Start 2
      Intersection at Start 1 End 2
      Intersection at Start 1 Start 2
      Intersection within both segments
      Parallel
      Unknown
      Virtual Intersection Near End 1 and End 2
      Virtual Intersection Near End 1 and Start 2
      Virtual Intersection Near Start 1 and End 2
      Virtual Intersection Near Start 1 and Start 2
      Virtual Intersection Within 1 and Near End 2
      Virtual Intersection Within 1 and Near Start 2
      Virtual Intersection Within 2 and Near End 1
      Virtual Intersection Within 2 and Near Start 1
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment  (T_Segment) -- Segment that is to be intersections with current object (SELF).
    p_unit      (varchar2) -- Oracle Unit of Measure for functions such as SDO_DISTANCE.
</pre>
<p class="item_name">RESULT</p>
<pre>    intersection (varchar2) -- Intersection description as in DESCRIPTION above.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(
             p_Segment_id =&gt; 0,
             p_startCoord =&gt; T_Vertex(
                               p_id        =&gt;  1,
                               p_x         =&gt; 10,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_endCoord   =&gt; T_Vertex(
                               p_id        =&gt;  3,
                               p_x         =&gt; 20,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_sdo_gtype  =&gt; 2002,
             p_sdo_srid   =&gt; NULL
           )
           .<strong>ST_IntersectDescription</strong>(p_segment =&gt;
           .<a href="#robo326">ST_AsText</a>() as Intersection
      from dual;

    INTERSECTION
    ------------------------------------
    T_Vertex(10,5,NULL,NULL,1,2001,NULL)

    select T_Segment(
             sdo_geometry('LINESTRING(0 0,10 10)',null)
           ).<strong>ST_IntersectDescription</strong>(
                T_Segment(
                  sdo_geometry('LINESTRING(0 10,10 0)',null)
                )
            ).<a href="#robo326">ST_AsText</a>() as iPoint
      from dual;

    IPOINT
    -----------------------------------------
    SEGMENT(NULL,NULL,1,
            Start(5,5,NULL,NULL,0,2001,NULL),
            Mid(5,5,NULL,NULL,-1,2001,NULL),
            End(5,5,NULL,NULL,-2,2001,NULL),
            SDO_GTYPE=2002,SDO_SRID=NULL)

    -- Physical 1, virtual 2
    select T_Segment(
             sdo_geometry('LINESTRING(0 0,10 0)',null)
           ).<strong>ST_IntersectDescription</strong>(
                T_Segment(
                  sdo_geometry('LINESTRING(-5 10,-2 7)',null)
                )
            ).<a href="#robo326">ST_AsText</a>() as iPoint
      from dual;

    IPOINT
    -----------------------------------------
    SEGMENT(NULL,NULL,1,
            Start(5,0,NULL,NULL,0,2001,NULL),
            Mid(5,0,NULL,NULL,-1,2001,NULL),
            End(-2,7,NULL,NULL,-2,2001,NULL),
            SDO_GTYPE=2002,SDO_SRID=NULL)

     -- Virtual 1, Virtual 2
    select T_Segment(
             sdo_geometry('LINESTRING(10 10,5 5)',null)
           ).<strong>ST_IntersectDescription</strong>(
                T_Segment(
                  sdo_geometry('LINESTRING(-10 10,-5 5)',null)
                )
            ).<a href="#robo326">ST_AsText</a>() as iPoint
      from dual;

    IPOINT
    -----------------------------------------
    SEGMENT(NULL,NULL,1,
            Start(0,0,NULL,NULL,0,2001,NULL),
            Mid(5,5,NULL,NULL,-1,2001,NULL),
            End(-5,5,NULL,NULL,-2,2001,NULL),
            SDO_GTYPE=2002,SDO_SRID=NULL)

    -- Parallel
    select T_Segment(
             sdo_geometry('LINESTRING(10 10,0 10)',null)
           ).<strong>ST_IntersectDescription</strong>(
                T_Segment(
                  sdo_geometry('LINESTRING(-10 5,-5 5)',null)
                )
            ).<a href="#robo326">ST_AsText</a>() as iPoint
      from dual;

    IPOINT
    -----------------------------------------
    SEGMENT(NULL,NULL,1,
            Start(,,NULL,NULL,-9,2001,NULL),
            Mid(,,NULL,NULL,NULL,2001,NULL),
            End(,,NULL,NULL,NULL,2001,NULL),
            SDO_GTYPE=2002,SDO_SRID=NULL)
</pre>
<p class="item_name">NOTES</p>
<pre>    Calculations are always planar.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - March 2018 - Original TSQL Coding for SQL Server.
    Simon Greener - June 2011 - Original Coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo254"></a>
<a name="T5fSEGMENT2fST5fIntersectDetail"></a>
<h2>21.28.  T_SEGMENT/ST_IntersectDetail [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_IntersectDetail</strong> -- Computes intersecton point between two 2D segments.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_IntersectDetail</strong>(p_segment   in <a href="#robo30">T_SEGMENT</a>,
                                       p_unit      in varchar2 default NULL)
             Return T_Vertex Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes the intersection point between the underlying segment and the provided segment.
    If segments are parallel an empty <a href="#robo33">T_VERTEX</a> is returned with <a href="#robo33">T_VERTEX</a>.id set to -9.
    The intersection point is always returned in startCoord of returned T_Segment.
    This version of <a href="#robo250">ST_Intersect</a> returns details about the nature of the Intersection.
    These details include the coding of the returned midCoord and endCoords as follows:
    1.  If intersection is physical both are set to startCoord (cf <a href="#robo250">ST_Intersect</a>).
    2.  If intersection is physical in SELF but virtual in p_segment, midCoord is set to physical intersection point, and endCoord is set to projected (virtual) point from p_segment.
    3.  If intersection is physical in p_segment but virtual in SELF, midCoord is set to projected (virtual) point from SELF, and endCoord is set to physical intersection point in p_segment.
    4.  If intersection is virtual in p_segment and SELF, midCoord and endCoord are both set to virtual point (same as startCoord).
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment  (T_Segment) -- Segment that is to be intersections with current object (SELF).
    p_unit      (varchar2) -- Oracle Unit of Measure for functions such as SDO_DISTANCE.
</pre>
<p class="item_name">RESULT</p>
<pre>    intersection (T_Vertex) -- The intersection point or empty point with id = -9 for parallel segments.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(
             p_Segment_id =&gt; 0,
             p_startCoord =&gt; T_Vertex(
                               p_id        =&gt;  1,
                               p_x         =&gt; 10,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_endCoord   =&gt; T_Vertex(
                               p_id        =&gt;  3,
                               p_x         =&gt; 20,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_sdo_gtype  =&gt; 2002,
             p_sdo_srid   =&gt; NULL
           )
           .<strong>ST_IntersectDetail</strong>(p_segment =&gt;
           .<a href="#robo326">ST_AsText</a>() as Intersection
      from dual;

    INTERSECTION
    ------------------------------------
    T_Vertex(10,5,NULL,NULL,1,2001,NULL)

    select T_Segment(
             sdo_geometry('LINESTRING(0 0,10 10)',null)
           ).<strong>ST_IntersectDetail</strong>(
                T_Segment(
                  sdo_geometry('LINESTRING(0 10,10 0)',null)
                )
            ).<a href="#robo326">ST_AsText</a>() as iPoint
      from dual;

    IPOINT
    -----------------------------------------
    SEGMENT(NULL,NULL,1,
            Start(5,5,NULL,NULL,0,2001,NULL),
            Mid(5,5,NULL,NULL,-1,2001,NULL),
            End(5,5,NULL,NULL,-2,2001,NULL),
            SDO_GTYPE=2002,SDO_SRID=NULL)

    -- Physical 1, virtual 2
    select T_Segment(
             sdo_geometry('LINESTRING(0 0,10 0)',null)
           ).<strong>ST_IntersectDetail</strong>(
                T_Segment(
                  sdo_geometry('LINESTRING(-5 10,-2 7)',null)
                )
            ).<a href="#robo326">ST_AsText</a>() as iPoint
      from dual;

    IPOINT
    -----------------------------------------
    SEGMENT(NULL,NULL,1,
            Start(5,0,NULL,NULL,0,2001,NULL),
            Mid(5,0,NULL,NULL,-1,2001,NULL),
            End(-2,7,NULL,NULL,-2,2001,NULL),
            SDO_GTYPE=2002,SDO_SRID=NULL)

     -- Virtual 1, Virtual 2
    select T_Segment(
             sdo_geometry('LINESTRING(10 10,5 5)',null)
           ).<strong>ST_IntersectDetail</strong>(
                T_Segment(
                  sdo_geometry('LINESTRING(-10 10,-5 5)',null)
                )
            ).<a href="#robo326">ST_AsText</a>() as iPoint
      from dual;

    IPOINT
    -----------------------------------------
    SEGMENT(NULL,NULL,1,
            Start(0,0,NULL,NULL,0,2001,NULL),
            Mid(5,5,NULL,NULL,-1,2001,NULL),
            End(-5,5,NULL,NULL,-2,2001,NULL),
            SDO_GTYPE=2002,SDO_SRID=NULL)

    -- Parallel
    select T_Segment(
             sdo_geometry('LINESTRING(10 10,0 10)',null)
           ).<strong>ST_IntersectDetail</strong>(
                T_Segment(
                  sdo_geometry('LINESTRING(-10 5,-5 5)',null)
                )
            ).<a href="#robo326">ST_AsText</a>() as iPoint
      from dual;

    IPOINT
    -----------------------------------------
    SEGMENT(NULL,NULL,1,
            Start(,,NULL,NULL,-9,2001,NULL),
            Mid(,,NULL,NULL,NULL,2001,NULL),
            End(,,NULL,NULL,NULL,2001,NULL),
            SDO_GTYPE=2002,SDO_SRID=NULL)
</pre>
<p class="item_name">NOTES</p>
<pre>    Calculations are always planar.
</pre>
<p class="item_name">TODO</p>
<pre>    Enable calculation of intersection between geodetic/geographic segments.
    Support intersections including circular arcs
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>   Simon Greener - June 2011 - Original Coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo255"></a>
<a name="T5fSEGMENT2fST5fisCircularArc"></a>
<h2>21.29.  T_SEGMENT/ST_isCircularArc [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isCircularArc</strong> -- Checks if segment is a CircularArc
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isCircularArc</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If segment start/mid/end coordinates are all not null then is CircularString.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 1 if segment is CircularArc.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select T_Segment(
               SDO_GEOMETRY('CIRCULARSTRING(252230.478 5526918.373, 252400.08 5526918.373, 252230.478 5527000.0)',null)
             ) as circular_segment
        from dual
    )
    select a.circular_segment.<strong>ST_isCircularArc</strong>() as isCString
      from data a;

    ISCSTRING
    ---------
            1
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo256"></a>
<a name="T5fSEGMENT2fST5fisCollinear"></a>
<h2>21.30.  T_SEGMENT/ST_isCollinear [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isCollinear</strong> -- Checks if two segments' coordinates are collinar.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isCollinear</strong>(p_segment in &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>)
             Return Integer Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function determines if the two segments (underlying and supplied) have coordinates that fall in a line (collinear)
    The segments should touch with a end/start relationship.
    Supplied segments cannot be CircularArcs.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment  (T_Segment) -- Other, possibly connected, segment (LineString not CircularString)
</pre>
<p class="item_name">RESULT</p>
<pre>    boolean      (integer) -- 1 is true (collinear) 0 if false.
</pre>
<p class="item_name">NOTES</p>
<pre>    Ignores any measure ordinates.
    Calculations are always planar.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- 0. Uses T_Vector3D to compute whether segments can be merged by sharing vertex and having same normalized vectors.
    with data as (
    select sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(  0,  0, 100,100)) as line1,
           sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(100,100, 200,200)) as line2
      from dual
     UNION ALL
    select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(  0,  0, 0, 100,100,10)) as line1,
           sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(100,100,10, 200,200,20)) as line2
      from dual
    )
    select T_Segment(a.line1)
             .ST_IsCollinear(p_segment=&gt;T_Segment(a.line2)) as isCollinear
      from data a;

    MS2
    ----------------
    0
    1
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 -- Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo257"></a>
<a name="T5fSEGMENT2fST5fisEmpty"></a>
<h2>21.31.  T_SEGMENT/ST_isEmpty [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isEmpty</strong> -- Checks if segment has any valid data.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isEmpty</strong>
             Return INTEGER Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If segment object data values are NULL returns 1 (TRUE) ie is Empty; else 0 (False)
    cf "LINESTRING EMPTY" EKT.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 1 if segment has no non null values; 0 if has values
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment().<a href="#robo326">ST_AsText</a>()  as TSegment,
           T_Segment().<strong>ST_isEmpty</strong>() as isEmpty
      from dual;

    TSEGMENT
    -------------------------------------------------------------------------------------------------------------------------------------- --------
    SEGMENT(NULL,NULL,NULL,Start(NULL,NULL,NULL,NULL,NULL,2001,NULL),End(NULL,NULL,NULL,NULL,NULL,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)        0
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo258"></a>
<a name="T5fSEGMENT2fST5fisHorizontal"></a>
<h2>21.32.  T_SEGMENT/ST_isHorizontal [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isHorizontal</strong> - Returns true if the segment is horizonal or parallel to X axis.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isHorizontal</strong>
             Return integer Determinsitic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a non-NULL segment, this function checks if segment is horizontal or parallel to X axis
</pre>
<p class="item_name">RESULT</p>
<pre>    true/false (integer) -- 1 is horizontal 0 otherwise
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry('LINESTRING(0 0,10 0)',NULL)).<strong>ST_isHorizontal</strong>() as isHorizontal
      from dual;

    ISHORIZONTAL
    ------------
               1
    
    select T_Segment(sdo_geometry('LINESTRING(0 0,10 10)',NULL)).<strong>ST_isHorizontal</strong>() as isHorizontal
      from dual;
      
    ISHORIZONTAL
    ------------
               0
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo259"></a>
<a name="T5fSEGMENT2fST5fisPointOnSegment"></a>
<h2>21.33.  T_SEGMENT/ST_isPointOnSegment [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isPointOnSegment</strong> -- Checks if supplied point falls on the underlying segment.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    <strong>ST_isPointOnSegment</strong>(p_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                        p_unit   in varchar2)
     Return integer deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function checks if the supplied point falls on the underlying segment.
    
    Computes for LineString or CircularString.
</pre>
<p class="item_name">NOTES</p>
<pre>    Geodetic/geographic CircularArc segments treated as planar
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_vertex (t_vertex) - Point on to linestring or CircularString.
    p_unit   (varchar2) - Unit of measure for SRID.
</pre>
<p class="item_name">RESULT</p>
<pre>    booelan (integer) -- 1 if point on segment; 0 otherwise
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(MDSYS.SDO_GEOMETRY(3302,8307,NULL,MDSYS.SDO_ELEM_INFO_ARRAY(1,2,1),MDSYS.SDO_ORDINATE_ARRAY(147.41,-43.132,100, 147.5,-43.387,30000)))
             .<strong>ST_isPointOnSegment</strong> (
                t_vertex(SDO_GEOMETRY(3301,8307,SDO_POINT_TYPE(147.44551945,-43.23290209,11930.116),NULL,NULL))
           ) as is_on 
      from dual union all
    select T_Segment(MDSYS.SDO_GEOMETRY(3302,8307,NULL,MDSYS.SDO_ELEM_INFO_ARRAY(1,2,1),MDSYS.SDO_ORDINATE_ARRAY(147.41,-43.132,100, 147.5,-43.387,30000)))
             .<strong>ST_isPointOnSegment</strong> (
                t_vertex(SDO_GEOMETRY(3301,8307,SDO_POINT_TYPE(147.445,-43.232,11930.116),NULL,NULL))
           ) as is_on 
      from dual;

          IS_ON
    ----------
             1
             0
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2008-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo260"></a>
<a name="T5fSEGMENT2fST5fisReversed"></a>
<h2>21.34.  T_SEGMENT/ST_isReversed [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isReversed</strong> -- Returns 1 (true) if the underlying segment has its start/end coordinates reversed to supplied segment.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isReversed</strong>(p_other     IN &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>)
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Compares underlying <a href="#robo30">T_SEGMENT</a>'s start and end coordinates against those of the supplied segment parameter.
    If self.start = p_other.end and self.end = p_other.start, the function returns 1 (True) otherwise 0 (False).
    If SDO_GTYPE is null, examines coordinates to see if W ordinate is not null.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_other   (T_Segment) -- Compared to SELF with return of 1 if reversed start/end coordinates
</pre>
<p class="item_name">RESULT</p>
<pre>    True/False  (Integer) -- 1 if two segments have opposite direction.
    select T_Segment(
             sdo_geometry('LINESTRING(0 0,10 10)',null)
           ).<strong>ST_isReversed</strong>(
                p_other    =&gt;T_Segment(sdo_geometry('LINESTRING(10 10,0 0)',null))
            ) as isReversed
      from dual;

    ISREVERSED
    ----------
             1
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo261"></a>
<a name="T5fSEGMENT2fST5fisVertical"></a>
<h2>21.35.  T_SEGMENT/ST_isVertical [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isVertical</strong> - Returns true if the segment is Vertical or parallel to Y axis.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isVertical</strong>
             Return integer Determinsitic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a non-NULL segment, this function checks if segment is vertical or parallel to Y axis
</pre>
<p class="item_name">RESULT</p>
<pre>    true/false (integer) -- 1 is Vertical 0 otherwise
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry('LINESTRING(0 0,0 10)',NULL)).<strong>ST_isVertical</strong>() as isVertical
      from dual;

    ISVERTICAL
    ----------
             1
    
    select T_Segment(sdo_geometry('LINESTRING(0 0,10 10)',NULL)).<strong>ST_isVertical</strong>() as isVertical
      from dual;
      
    ISVERTICAL
    ----------
             0
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo262"></a>
<a name="T5fSEGMENT2fST5fLength"></a>
<h2>21.36.  T_SEGMENT/ST_Length [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Length</strong> -- Returns Length of the segment
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Length</strong>(p_unit      in varchar2 DEFAULT NULL)
             Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes a length from the underlying <a href="#robo30">T_SEGMENT</a>.
    Result is in the distance units of the SDO_SRID, or in p_units where supplied.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_unit      (VARCHAR2) - Oracle Unit of Measure eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    distance (Number) -- Distance in SRID unit of measure or in supplied units (p_unit)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    TO DO
    -- Simple length for mixed planar and geodetic data
    with data as (
      select 'Planar LineString' as test, sdo_geometry('LINESTRING(0 0,10 10)',null) as geom
        from dual
        union all
      select 'Geo LineString' as test, sdo_geometry('LINESTRING(147.50 -43.132,147.41 -43.387)',4326) as geom
        from dual
       union all
       select 'Planar CircularString' as test,
             SDO_GEOMETRY(2002,28355,NULL,
                          SDO_ELEM_INFO_ARRAY(1,2,2), -- Circular Arc line string
                          SDO_ORDINATE_ARRAY(252230.478,5526918.373, 252400.08,5526918.373,252230.478,5527000.0)) as geom
        from dual
    )
    select a.test,
           T_Segment(a.geom).<strong>ST_Length</strong>(p_unit=&gt;NULL)      as l_in_meters,
           T_Segment(a.geom).<strong>ST_Length</strong>(p_unit=&gt;'unit=KM') as l_in_km
      from data a;

    TEST                  L_IN_METERS    L_IN_KM
    --------------------- ----------- ----------
    Planar LineString     14.14213562 14.14213562
    Geo LineString        29257.27111 29.25727111
    Planar CircularString 506.8892138 0.5068892138
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo263"></a>
<a name="T5fSEGMENT2fST5fLineSubstring"></a>
<h2>21.37.  T_SEGMENT/ST_LineSubstring [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LineSubstring</strong> -- Creates a new segment by cutting out the line defined by p_start_fraction and p_end_fraction.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LineSubstring</strong>(p_start_fraction In Number   Default 0.0,
                                     p_end_fraction   In Number   Default 1.0,
                                     p_unit           In Varchar2 Default NULL)
             Return &amp;&amp;INSTALL_SCHEMA..T_Segment Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with two ratio values between (0.0 -&gt; 1.0), this function uses those values to find the
    points along its segment where they lie. If offset values of 0.0 and 1.0 are supplied, the underlying
    segment is returned. Otherwise, the function finds the position of the point defined by p_start_fraction
    and the point defined by p_end_fraction and creates a new segment based on those points.
    For circular arcs a new midCoord is created at position p_start_fraction + (p_end_fraction-p_start_Fraction)/2.0.
    If p_start_fraction == p_end_fraction a single point is returned in the T_Segment's startCoord with the others being NULL.
    The substring operation uses length and not LRS measure.
    Any Z and M ordinates are calculated by ratio.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_start_fraction (Number) -- A value between 0 and 1, from the start vertex of the segment,
                                 which describes the position of the first point in the substring.
    p_end_fraction   (Number) -- A value &gt; p_start_fraction, from the start vertex of the segment,
                                 which describes the position of the last point in the substring.
    p_unit         (Varchar2) -- If NULL, the calculations are done using the underlying projection default units.
                                 If an Oracle Unit of Measure is supplied (eg unit=M) that is value for the SRID,
                                 this value is used when calculating the p_offset distance.
</pre>
<p class="item_name">RESULT</p>
<pre>    segment  (T_Segment)  - - New segment between the start and end measures.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Substring of XYZ LineString.
    With data as (
     select SDO_GEOMETRY(3002,90000006,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(562046.642,1013077.602,0, 562032.193,1013252.074,0.035)) as geom
      from dual
    )
    select T_Segment(a.geom)
             .<strong>ST_LineSubstring</strong>(p_start_fraction =&gt; 0.25,
                               p_end_fraction   =&gt; 0.75,
                               p_unit           =&gt; 'unit=M'
              )
             .<a href="#robo177">ST_Round</a>(3)
             .<a href="#robo285">ST_SdoGeometry</a>() as substring
      from data a;

    SUBSTRING
    ---------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3302,90000006,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(562043.03,1013121.22,0.009,562035.805,1013208.456,0.026))

    -- Fractions equal...
    With data as (
     select SDO_GEOMETRY(3302,90000006,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(562046.642,1013077.602,0, 562032.193,1013252.074,0.035)) as geom
      from dual
    )
    select T_Segment(a.geom)
             .<strong>ST_LineSubstring</strong>(p_start_fraction =&gt; 0.5,
                               p_end_fraction   =&gt; 0.5,
                               p_unit           =&gt; 'unit=M'
              )
             .<a href="#robo177">ST_Round</a>(3)
             .<a href="#robo285">ST_SdoGeometry</a>() as substring
      from data a;

    SUBSTRING
    ----------------------------------------------------------------------------------
    SDO_GEOMETRY(3301,90000006,SDO_POINT_TYPE(562039.418,1013164.838,0.018),NULL,NULL)

    -- Geodetic.
    With data as (
     select sdo_geometry(2002,4326,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.50,-43.132,147.41,-43.387)) as geom
       from dual
       union all
     select sdo_geometry(3302,4326,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.50,-43.132,100.0,147.41,-43.387,30000.0)) as geom
       from dual
       union all
      select sdo_geometry(3002,4326,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.50,-43.132,100.0, 147.41,-43.387,30000.0)) as geom
        from dual
    )
    select T_Segment(a.geom)
             .<strong>ST_LineSubstring</strong>(p_start_fraction =&gt; 0.5,
                               p_end_fraction   =&gt; 0.9,
                               p_unit           =&gt; 'unit=M'
              )
             .<a href="#robo177">ST_Round</a>(8)
             .<a href="#robo285">ST_SdoGeometry</a>() as substring
      from data a;

    SUBSTRING
    -------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,4326,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147.455,-43.2595,147.419,-43.3615))
    SDO_GEOMETRY(3302,4326,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147.455,-43.2595,15050,147.419,-43.3615,27010))
    SDO_GEOMETRY(3002,4326,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147.455,-43.2595,15050,147.419,-43.3615,27010))

    -- Circular Arc line string
    With data as (
      select sdo_geometry(2002,NULL,NULL,
                          sdo_elem_info_array(1,2,2),
                          sdo_ordinate_array(252230.478,5526918.373, 252400.08,5526918.373,252230.478,5527000.0)) as geom
        from dual
    )
    select T_Segment(a.geom)
             .<strong>ST_LineSubstring</strong>(p_start_fraction =&gt; 0.25,
                               p_end_fraction   =&gt; 0.75,
                               p_unit           =&gt; 'unit=M'
              )
             .<a href="#robo177">ST_Round</a>(3)
             .<a href="#robo285">ST_SdoGeometry</a>() as substring
      from data a;

    SUBSTRING
    ------------------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(252256.627,5527032.786,252373.991,5527032.738,252400.046,5526918.303))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo264"></a>
<a name="T5fSEGMENT2fST5fLRS5fAdd5fMeasure"></a>
<h2>21.38.  T_SEGMENT/ST_LRS_Add_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Add_Measure</strong> -- Adds measures to 2D segment linestring/circularString
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Add_Measure</strong>(p_start_measure IN Number Default NULL,
                                       p_end_measure   IN Number Default NULL,
                                       p_unit          IN VarChar2 Default NULL)
             Return &amp;&amp;INSTALL_SCHEMA..T_Segment deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Takes a 2D geometry and assigns supplied measures to the start/end vertices
    and adds proportioned measure values to all vertices in between.
    If p_start_measure/p_end_measure are null, length is used to add measures.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_start_measure (Number)   - Measure defining start point for segment .
    p_end_measure   (Number)   - Measure defining end point for segment.
    p_unit          (VarChar2) - Unit of measure for distance calculations.
</pre>
<p class="item_name">RESULT</p>
<pre>    segment (T_segment) -- Measured segment
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_geometry(SDO_GEOMETRY(2002,28355,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(
                    571303.231,321126.963, 571551.298,321231.412, 572765.519,321322.805, 572739.407,321845.051,
                    572752.463,322641.476, 573209.428,323398.732, 573796.954,323555.406, 574436.705,323790.416,
                    574945.895,324051.539, 575128.681,324652.122, 575128.681,325161.311, 575898.993,325213.536,
                    576238.453,324521.56, 576251.509,321048.626, 575259.242,322615.364, 574306.144,321296.693)),
                    0.0005,3,1)
             .ST_LRS_ADD_Measure(110.0)
             .<a href="#robo177">ST_Round</a>(3,3,1,2)
             .geom as mGeom
      from dual;

    MGEOM
    ---------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3302,28355,NULL,
                 SDO_ELEM_INFO_ARRAY(1,2,1),
                 SDO_ORDINATE_ARRAY(
                     571303.231,321126.963,110.0,   571551.298,321231.412,377.21,   572765.519,321322.805,1586.05,  572739.407,321845.051,2105.16,
                     572752.463,322641.476,2895.92, 573209.428,323398.732,3773.96,  573796.954,323555.406,4377.62,  574436.705,323790.416,5054.23,
                     574945.895,324051.539,5622.33, 575128.681,324652.122,6245.56,  575128.681,325161.311,6751.06,  575898.993,325213.536,7517.55,
                     576238.453,324521.56,8282.72,  576251.509,321048.626,11730.53, 575259.242,322615.364,13571.62, 574306.144,321296.693,15186.88))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original Coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo265"></a>
<a name="T5fSEGMENT2fST5fLRS5fCompute5fMeasure"></a>
<h2>21.39.  T_SEGMENT/ST_LRS_Compute_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Compute_Measure</strong> -- Computes measure for supplied p_vertex against underlying LRS measured <a href="#robo30">T_SEGMENT</a>.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Compute_Measure</strong>(p_vertex    In &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                                           p_unit      IN varchar2 Default null)
             Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes a measure value for the supplied point (must be a point
    on the underlying segment). All calculations are done on 2D versions of segment
    and point.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_vertex  (<a href="#robo33">T_VERTEX</a>) - Finds p_vertex on LRS Segment and computes M ordinate
    p_unit    (VARCHAR2) - Oracle Unit of Measure eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    -- Compute measure of point
    with data as (
      select 'Planar LineString' as test,
             sdo_geometry(3302,NULL,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(1,1,1.1,6,6,5.95)) as geom,
             sdo_geometry('POINT(5 4.9)',null) as dGeom
        from dual
        union all
       select 'Geo LineString' as test,
             sdo_geometry(3302,4326,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.50,-43.132,100.0,147.41,-43.387,30000.0)) as geom,
             sdo_geometry('POINT(147.3 -43.2)',4326) as dGeom
        from dual
    )
    select a.test,
           T_Segment(a.geom).<strong>ST_LRS_Compute_Measure</strong>(p_vertex=&gt;<a href="#robo33">T_VERTEX</a>(a.dGeom),p_unit=&gt;NULL) as measure
      from data a;

    TEST              MEASURE
    ----------------- ----------
    Planar LineString 4.93180695
    Geo LineString     18427.043
</pre>
<p class="item_name">TODO</p>
<pre>    Support CircularString (Circular Arcs).
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo266"></a>
<a name="T5fSEGMENT2fST5fLRS5fDim"></a>
<h2>21.40.  T_SEGMENT/ST_LRS_Dim [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Dim</strong> -- Tests segment to see if coordinates include a measure ordinate and returns measure ordinate's position.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Dim</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (DLNN etc) measure ordinate position (L) and returns it.
    If SDO_GTYPE is null, examines coordinates to see if W ordinate is not null.
</pre>
<p class="item_name">RESULT</p>
<pre>    dimension (integer) -- L from DLNN.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry(3302,4283,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.5, -42.5,0.0, 147.6, -42.5, 10923.0))).<strong>ST_LRS_Dim</strong>() as lrs_dim
      from dual;

    LRS_DIM
    -------
          3
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo267"></a>
<a name="T5fSEGMENT2fST5fLRS5fisMeasured"></a>
<h2>21.41.  T_SEGMENT/ST_LRS_isMeasured [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_isMeasured</strong> -- Tests to see if segment is measured.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_isMeasured</strong>
             Return Integer Deterministic,
    With data as (
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry('LINESTRING(0 0,10 0,10 5,10 10,5 10,5 5)',null),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual UNION ALL
      Select <a href="#robo24">T_GEOMETRY</a>(sdo_geometry(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0,0,1,10,0,2,10,5,3,10,10,4,5,10,5,5,5,6)),0.005,3,1) as tgeom From Dual
    )
    select a.tgeom.<a href="#robo92">ST_GType</a>()          as sdo_gtype,
           a.tgeom.<strong>ST_LRS_isMeasured</strong>() as isMeasured
      from data a;

    SDO_GTYPE GEOMTYPE       COORDDIM isMeasured
    --------- -------------- -------- ----------
            2 ST_LINESTRING         2          0
            2 ST_LINESTRING         3          0
            2 ST_LINESTRING         3          1
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (<a href="#robo266">ST_LRS_Dim</a>) to see if sdo_gtype has measure ordinate eg 3302 not 3002.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (Integer) -- 1 is measure ordinate exists, 0 otherwise.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo268"></a>
<a name="T5fSEGMENT2fST5fLRS5fMeasure5fLength"></a>
<h2>21.42.  T_SEGMENT/ST_LRS_Measure_Length [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Measure_Length</strong> -- Returns difference between end measure and start measure of segment.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Measure_Length</strong>( p_unit IN VARCHAR2 Default NULL )
             Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes length by subtracting end and start measure ordinates.
    If segment is without measures length is returned.
</pre>
<p class="item_name">RESULT</p>
<pre>    distance (Number) -- Difference between end and start measure ordinates (delta) or segment length.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select 'Planar LineString' as test,
             sdo_geometry(3302,NULL,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(1,1,1.1,6,6,5.95)) as geom
        from dual
        union all
       select 'Geo LineString' as test,
             sdo_geometry(3302,4326,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.50,-43.132,100.0,147.41,-43.387,30000.0)) as geom
        from dual
    )
    select a.test,
           T_Segment(a.geom)
             .<strong>ST_LRS_Measure_Length</strong>() as measureLength
      from data a;

    TEST              MEASURELENGTH
    ----------------- -------------
    Planar LineString          4.85
    Geo LineString            29900
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo269"></a>
<a name="T5fSEGMENT2fST5fMaxX"></a>
<h2>21.43.  T_SEGMENT/ST_MaxX [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_MaxX</strong> - Returns the largest X ordinate value from the underlying segments minimum bounding rectangle (MBR).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_MaxX</strong>
             Return SDO_GEOMETRY Determinsitic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a non-NULL segment, this function returns the largest X ordinate value held by the startCoord,midCoord or endCoord vertices.
</pre>
<p class="item_name">RESULT</p>
<pre>    ordinate (number) -- Largest x ordinate value
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry('LINESTRING(0 0,0.8 0.8)',NULL)).<strong>ST_MaxX</strong>() as maxX
      from dual;

    MAXX
    ----
     0.8
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo28">T_MBR</a> object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2011 - Original coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo270"></a>
<a name="T5fSEGMENT2fST5fMaxY"></a>
<h2>21.44.  T_SEGMENT/ST_MaxY [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_MaxY</strong> - Returns the largest Y ordinate value from the underlying segments minimum bounding rectangle (MBR).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_MaxY</strong>
             Return SDO_GEOMETRY Determinsitic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a non-NULL segment, this function returns the largest Y ordinate value held by the startCoord,midCoord or endCoord vertices.
</pre>
<p class="item_name">RESULT</p>
<pre>    ordinate (number) -- Largest x ordinate value
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry('LINESTRING(0 0,0.8 0.8)',NULL)).<strong>ST_MaxY</strong>() as maxX
      from dual;

    MAXX
    ----
     0.8
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo28">T_MBR</a> object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2011 - Original coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo271"></a>
<a name="T5fSEGMENT2fST5fMBR"></a>
<h2>21.45.  T_SEGMENT/ST_MBR [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_MBR</strong> - Returns optimized rectangle sdo_geometry representnig the underlying segment's minimum bounding rectangle (MBR).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_MBR</strong>
             Return SDO_GEOMETRY Determinsitic
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry('LINESTRING(0 0,0.8 0.8)',NULL)).<strong>ST_MBR</strong>() as mbrGeom
      from dual;

    MBRGEOM
    --------------------------------------------------------------------------------------
    SDO_GEOMETRY(2003,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1003,3),SDO_ORDINATE_ARRAY(0,0,0.8,0.8))
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a non-NULL segment, this function returns the envelope or minimum bounding rectangle as a polygon geometry with one optimized rectangle exterior ring.
</pre>
<p class="item_name">RESULT</p>
<pre>    MBR Geometry (sdo_geometry) -- Single Polygon with Optimized Rectangle Exterior Ring.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo28">T_MBR</a> object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2011 - Converted to <a href="#robo24">T_GEOMETRY</a> from GEOM package.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo272"></a>
<a name="T5fSEGMENT2fST5fMerge"></a>
<h2>21.46.  T_SEGMENT/ST_Merge [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Merge</strong> -- Merge two straight line segments - does not support circular arc segments
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Merge</strong>(p_segment in &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>)
             Return t_segment Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function determines if the two segments (underlying and supplied) for a straight line (no bend)
    and touch as a start/end coordinate pair.
    New segment is created from start/end coordinates.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment  (T_Segment) -- Other, possibly connected, segment
</pre>
<p class="item_name">RESULT</p>
<pre>    segment   (T_Segment) -- New segment.
</pre>
<p class="item_name">NOTES</p>
<pre>    Ignores any measure ordinates.
    Calculations are always planar.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- 0. Uses T_Vector3D to compute whether segments can be merged by sharing vertex and having same normalized vectors.
    with data as (
    select sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(  0,  0, 100,100)) as line1,
           sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(100,100, 200,200)) as line2
      from dual
     UNION ALL
    select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(  0,  0, 0, 100,100,10)) as line1,
           sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(100,100,10, 200,200,20)) as line2
      from dual
    )
    select a.line1.get_Dims() as dims,
           t_vector3d(T_Segment(a.line1))
             .<a href="#robo315">Normalize</a>()
             .<a href="#robo319">Subtract</a>(
                t_vector3d(
                  T_Segment(a.line2))
                  .<a href="#robo315">Normalize</a>())
                  .<a href="#robo300">AsText</a>()as ms2
      from data a;

    DIMS MS2
    ---- ----------------
       2 <a href="#robo32">T_VECTOR3D</a>(x=0,y=0,z=NULL}
       3 <a href="#robo32">T_VECTOR3D</a>(x=0,y=0,z=0}

    -- 1. <strong>ST_Merge</strong> End/Start collinear in 2D and 3D
    with data as (
    select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array( 0, 0, 0, 10,10,10)) as first_line,
           sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(10,10,10, 20,20,20)) as second_line
      from dual
    )
    select 2 as dims,
           T_Segment( a.first_line,  1 ).<a href="#robo205">ST_To2D</a>()
           .<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ).<a href="#robo205">ST_To2D</a>() ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a
     union all
    select 3 as dims,
           T_Segment( a.first_line, 1 ).<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ) ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a;

    DIMS MERGEDSEGMENT
    ---- -------------------------------------------------------------------------------------------------------------------
       2 SEGMENT(NULL,NULL,1,Start(1,0,0,NULL,NULL,2001,NULL),End(2,20,20,NULL,NULL,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
       3 SEGMENT(NULL,NULL,1,Start(1,0,0,0,NULL,3001,NULL),End(2,20,20,20,NULL,3001,NULL),SDO_GTYPE=3002,SDO_SRID=NULL)

    -- 2. <strong>ST_Merge</strong> End/Start collinear in 2D but not 3D
    with data as (
    select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array( 0, 0, 0, 10,10,10)) as first_line,
           sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(10,10,10, 20,20,21)) as second_line
      from dual
    )
    select 2 as dims,
                      T_Segment( a.first_line, 1 ).<a href="#robo205">ST_To2D</a>()
           .<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ).<a href="#robo205">ST_To2D</a>() ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a
     union all
    select 3 as dims,
           T_Segment( a.first_line ).<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ) ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a;

    DIMS MERGEDSEGMENT
    ---- ---------------------------------------------------------------------------------------------------------------------------------------------
       2 SEGMENT(NULL,NULL,1,Start(1,0,0,NULL,NULL,2001,NULL),End(2,20,20,NULL,NULL,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
       3 SEGMENT(NULL,NULL,0,Start(1,0,0,0,NULL,3001,NULL),Mid(2,10,10,10,NULL,3001,NULL),End(2,20,20,21,NULL,3001,NULL),SDO_GTYPE=3002,SDO_SRID=NULL)

    -- 3. <strong>ST_Merge</strong> where relationship is end/end collinear
    with data as (
    select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array( 0, 0, 0, 10,10,10)) as first_line,
           sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(20,20,20, 10,10,10)) as second_line
      from dual
    )
    select 2 as dims,
                      T_Segment( a.first_line,  1 ).<a href="#robo205">ST_To2D</a>()
           .<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ).<a href="#robo205">ST_To2D</a>() ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a
     union all
    select 3 as dims,
           T_Segment( a.first_line, 1 ).<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ) ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a;

    DIMS MERGEDSEGMENT
    ---- -------------------------------------------------------------------------------------------------------------------
       2 SEGMENT(NULL,NULL,1,Start(1,0,0,NULL,NULL,2001,NULL),End(1,20,20,NULL,NULL,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
       3 SEGMENT(NULL,NULL,1,Start(1,0,0,0,NULL,3001,NULL),End(1,20,20,20,NULL,3001,NULL),SDO_GTYPE=3002,SDO_SRID=NULL)

    -- 4. <strong>ST_Merge</strong> where relationship is start/start collinear
    with data as (
    select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(10,10,10,  0, 0, 0)) as first_line,
           sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(20,20,20, 10,10,10)) as second_line
      from dual
    )
    select 2 as dims,
                      T_Segment( a.first_line, 1 ).<a href="#robo205">ST_To2D</a>()
           .<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ).<a href="#robo205">ST_To2D</a>() ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a
     union all
    select 3 as dims,
           T_Segment( a.first_line, 1 ).<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ) ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a;

    DIMS MERGEDSEGMENT
    ---- --------------------------------------------------------------------------------------------------------------------------------------
       2 SEGMENT(NULL,NULL,NULL,Start(NULL,NULL,NULL,NULL,NULL,NULL,NULL),End(NULL,NULL,NULL,NULL,NULL,NULL,NULL),SDO_GTYPE=NULL,SDO_SRID=NULL)
       3 SEGMENT(NULL,NULL,NULL,Start(NULL,NULL,NULL,NULL,NULL,NULL,NULL),End(NULL,NULL,NULL,NULL,NULL,NULL,NULL),SDO_GTYPE=NULL,SDO_SRID=NULL)

    -- 5. <strong>ST_Merge</strong> where identical (returns first_line)
    with data as (
    select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,0, 10,10,10)) as first_line,
           sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,0, 10,10,10)) as second_line
      from dual
    )
    select 2 as dims,
                      T_Segment( a.first_line,  1 ).<a href="#robo205">ST_To2D</a>()
           .<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ).<a href="#robo205">ST_To2D</a>() ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a
     union all
    select 3 as dims,
           T_Segment( a.first_line, 1 ).<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ) ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a;

    DIMS MERGEDSEGMENT
    ---- -------------------------------------------------------------------------------------------------------------------
       2 SEGMENT(NULL,NULL,1,Start(1,0,0,NULL,NULL,2001,NULL),End(2,10,10,NULL,NULL,2001,NULL),SDO_GTYPE=2002,SDO_SRID=NULL)
       3 SEGMENT(NULL,NULL,1,Start(1,0,0,0,NULL,3001,NULL),End(2,10,10,10,NULL,3001,NULL),SDO_GTYPE=3002,SDO_SRID=NULL)

    -- 6. <strong>ST_Merge</strong> where no spatial relationship (Returns Empty Segment)
    with data as (
    select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,0,    10,10,10)) as first_line,
           sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(11,11,11, 20,20,21)) as second_line
      from dual
    )
    select 2 as dims,
                      T_Segment( a.first_line,  1 ).<a href="#robo205">ST_To2D</a>()
           .<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ).<a href="#robo205">ST_To2D</a>() ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a
     union all
    select 3 as dims,
           T_Segment( a.first_line, 1 ).<strong>ST_Merge</strong>( T_Segment( a.second_line, 2 ) ).<a href="#robo326">ST_AsText</a>() as mergedSegment
      from data a;

    DIMS MERGEDSEGMENT
    ---- --------------------------------------------------------------------------------------------------------------------------------------
       2 SEGMENT(NULL,NULL,NULL,Start(NULL,NULL,NULL,NULL,NULL,NULL,NULL),End(NULL,NULL,NULL,NULL,NULL,NULL,NULL),SDO_GTYPE=NULL,SDO_SRID=NULL)
       3 SEGMENT(NULL,NULL,NULL,Start(NULL,NULL,NULL,NULL,NULL,NULL,NULL),End(NULL,NULL,NULL,NULL,NULL,NULL,NULL),SDO_GTYPE=NULL,SDO_SRID=NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013 -- Original coding.
    Simon Greener - August 2018  -- Ensure all cases correct esp for 3D (XYZ)
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo273"></a>
<a name="T5fSEGMENT2fST5fMidPoint"></a>
<h2>21.47.  T_SEGMENT/ST_MidPoint [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_MidPoint</strong> - Computes, and returns, the midpoint of the segment
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_MidPoint</strong>
             Return t_vertex Determinsitic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a non-NULL segment, this function computes and returns its mid Point.
    If CircularArc, mid point is point at mid length distance from start.
</pre>
<p class="item_name">RESULT</p>
<pre>    point (t_vertex) -- The midpoint of the segment
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select &amp;&amp;INSTALL_SCHEMA..T_Segment(mdsys.sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,1,1)))
                .ST_midPoint() 
                .<a href="#robo285">ST_SdoGeometry</a>() as mPoint
      from dual;
               
    
    MPOINT
    --------------------------------------------------------------------
    SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(0.5, 0.5, NULL), NULL, NULL)
    
    
    select &amp;&amp;INSTALL_SCHEMA..T_Segment(mdsys.sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,2),sdo_ordinate_array(0,0,10,10,20,0)))
                .ST_midPoint()
                .<a href="#robo285">ST_SdoGeometry</a>() as mPoint
      from dual;
    
    MPOINT
    ------------------------------------------------------------------
    SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(10, 10, NULL), NULL, NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo274"></a>
<a name="T5fSEGMENT2fST5fMinX"></a>
<h2>21.48.  T_SEGMENT/ST_MinX [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_MinX</strong> - Returns the smallest X ordinate value from the underlying segments minimum bounding rectangle (MBR).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_MinX</strong>
             Return SDO_GEOMETRY Determinsitic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a non-NULL segment, this function returns the smallest X ordinate value held by the startCoord,midCoord or endCoord vertices.
</pre>
<p class="item_name">RESULT</p>
<pre>    ordinate (number) -- Smallest
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry('LINESTRING(0 0,0.8 0.8)',NULL)).<strong>ST_MinX</strong>() as minX
      from dual;

    MINX
    ----
       0
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo28">T_MBR</a> object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2011 - Original coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo275"></a>
<a name="T5fSEGMENT2fST5fMinY"></a>
<h2>21.49.  T_SEGMENT/ST_MinY [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_MinY</strong> - Returns the smallest Y ordinate value from the underlying segments minimum bounding rectangle (MBR).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_MinY</strong>
             Return SDO_GEOMETRY Determinsitic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a non-NULL segment, this function returns the smallest Y ordinate value held by the startCoord,midCoord or endCoord vertices.
</pre>
<p class="item_name">RESULT</p>
<pre>    ordinate (number) -- Smallest
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry('LINESTRING(0 0,0.8 0.8)',NULL)).<strong>ST_MinY</strong>() as minX
      from dual;

    MINY
    ----
       0
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo28">T_MBR</a> object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2011 - Original coding
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo276"></a>
<a name="T5fSEGMENT2fST5fOffsetBetween"></a>
<h2>21.50.  T_SEGMENT/ST_OffsetBetween [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_OffsetBetween</strong> - Computes offset point on the bisector between two vertices.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_OffsetBetween</strong>(p_segment   in number,
                                     p_offset    in number,
                                     p_unit      In Integer Default NULL)
             Return &amp;&amp;INSTALL_SCHEMA..T_Vertex Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a second segment (p_segment), this function computes the bisector
    between the two segments and then creates a new vertex at a distance of p_offset
    from the intersection point.  If an offset value of 0.0 is supplied, the
    intersection point is returned. If the p_offset value is &lt;&gt; 0, the function computes a new
    position for the point at a distance of p_offset on the left (-ve) or right (+ve) side
    of the segment.
    The returned vertex's ordinate values are rounded using the supplied tolerance.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_segment (number) - A segment that touches the current segment at one end point.
    p_offset       (number) - The perpendicular distance to offset the point generated using p_ratio.
                              A negative value instructs the function to offet the point to the left (start-end),
                              and a positive value to the right.
    p_unit       (varchar2) - If NULL, the calculations are done using the underlying projection default units.
                              If an Oracle Unit of Measure is supplied (eg unit=M) that is value for the SRID,
                            - this value is used when calculating the p_offset distance.
</pre>
<p class="item_name">RESULT</p>
<pre>    point        (T_Vertex) - New point on bisection point or along bisector line with optional perpendicular offset.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Planar
    With data as (
     select SDO_GEOMETRY(3302,90000006,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(561981.279,1013120.171,0.00, 562044.981,1013076.691,77.1))  as sGeom,
            SDO_GEOMETRY(3302,90000006,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(562044.981,1013076.691,77.1, 562024.253,1013138.371,142.2)) as nGeom
      from dual
    )
    select 3                  as dims,
           CAST('Start Segment'
                as
                varchar2(30)) as description,
           a.sGeom            as offsetBetween
      from data a
      Union All
    select 3                  as dims,
           CAST('Next Segment'
                as
                varchar2(30)) as description,
           a.nGeom            as offsetBetween
      from data a
      Union All
    select a.sGeom.get_dims() as dims,
           CAST('Offset Point @' || t.IntValue
                as
                varchar2(30)) as description,
           T_Segment(a.sGeom)
             .<strong>ST_OffsetBetween</strong>(
                 p_segment =&gt; T_Segment(a.nGeom),
                 p_offset       =&gt; t.IntValue,
                 p_unit         =&gt; 'unit=M')
           .<a href="#robo177">ST_Round</a>(3)
           .<a href="#robo285">ST_SdoGeometry</a>() as OffsetBetween
      from data a,
          table(tools.generate_series(-5,5,5)) t;

    DIMS DESCRIPTION       OFFSETBETWEEN
    ---- ----------------- ----------------------------------------------------------------------------------------------------------------------------------------
       3 Start Segment     SDO_GEOMETRY(3302,90000006,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(561981.279,1013120.171,0,562044.981,1013076.691,77.1))
       3 Next Segment      SDO_GEOMETRY(3302,90000006,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(562044.981,1013076.691,77.1,562024.253,1013138.371,142.2))
       3 Offset Point @-5  SDO_GEOMETRY(3301,90000006,SDO_POINT_TYPE(562041.963,1013080.677,77.1),NULL,NULL)
       3 Offset Point @0   SDO_GEOMETRY(3301,90000006,SDO_POINT_TYPE(562044.981,1013076.691,77.1),NULL,NULL)
       3 Offset Point @5   SDO_GEOMETRY(3301,90000006,SDO_POINT_TYPE(562047.999,1013072.705,77.1),NULL,NULL)

    -- Geodetic
    With data as (
     select SDO_GEOMETRY(3302,4326,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147.7868589596,-45.0326616056,0.0, 147.7876729555,-45.0330473956,77.1)) as sGeom,
            SDO_GEOMETRY(3302,4326,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147.7876729555,-45.0330473956,77.1, 147.787402221,-45.032494027,142.2)) as nGeom
      from dual
    )
    select 3                  as dims,
           CAST('Start Segment'
                as
                varchar2(20)) as description,
           a.sGeom            as offsetBetween
      from data a
      Union All
    select 3                  as dims,
           CAST('Next Segment'
                as
                varchar2(20)) as description,
           a.nGeom            as offsetBetween
      from data a
      Union All
    select a.sGeom.get_dims() as dims,
           CAST('Offset Point @' || t.IntValue
                as
                varchar2(20)) as description,
           T_Segment(a.sGeom)
             .<strong>ST_OffsetBetween</strong>(
                 p_segment =&gt; T_Segment(a.nGeom),
                 p_offset       =&gt; t.IntValue,
                 p_unit         =&gt; 'unit=M') -- if 3D geodetic, compute as planar otherwise Oracle error
           .<a href="#robo177">ST_Round</a>(8)
           .<a href="#robo285">ST_SdoGeometry</a>() as OffsetBetween
      from data a,
          table(tools.generate_series(-5,5,5)) t;

    DIMS DESCRIPTION      OFFSETBETWEEN
    ---- ---------------- ------------------------------------------------------------------------------------------------------------------------------------------------
       3 Start Segment    SDO_GEOMETRY(3302,4326,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147.7868589596,-45.0326616056,0,147.7876729555,-45.0330473956,77.1))
       3 Next Segment     SDO_GEOMETRY(3302,4326,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147.7876729555,-45.0330473956,77.1,147.787402221,-45.032494027,142.2))
       3 Offset Point @-5 SDO_GEOMETRY(2001,4326,SDO_POINT_TYPE(147.78763353,-45.03301215,NULL),NULL,NULL)
       3 Offset Point @0  SDO_GEOMETRY(3301,4326,SDO_POINT_TYPE(147.78767296,-45.0330474,77.1),NULL,NULL)
       3 Offset Point @5  SDO_GEOMETRY(2001,4326,SDO_POINT_TYPE(147.78771238,-45.03308265,NULL),NULL,NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo277"></a>
<a name="T5fSEGMENT2fST5fOffsetPoint"></a>
<h2>21.51.  T_SEGMENT/ST_OffsetPoint [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_OffsetPoint</strong> -- Creates a point described by a ratio along the
                      segment and with a perpendicular offset.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_OffsetPoint</strong>(p_ratio     in Number,
                                   p_offset    in Number,
                                   p_unit      In Integer Default NULL)
             Return &amp;&amp;INSTALL_SCHEMA..T_Vertex Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Supplied with a ratio value (0.0 -&gt; 1.0), this function uses that value to find the
    point along its segment where it lies. If an offset value of 0.0 is supplied, the
    discovered point is returned. If the p_offset value is &lt;&gt; 0, the function computes a new
    position for the point at a distance of p_offset on the left (-ve) or right (+ve) side
    of the segment.
    The returned vertex's ordinate values are rounded using the supplied tolerance.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_ratio     (number) - A value between 0 and 1, from the start vertex of the segment,
                           which describes the position of the point to be offset.
    p_offset    (number) - The perpendicular distance to offset the point generated using p_ratio.
                           A negative value instructs the function to offet the point to the left (start-end),
                           and a positive value to the right.
    p_unit    (VARCHAR2) - If NULL, the calculations are done using the underlying projection default units.
                           If an Oracle Unit of Measure is supplied (eg unit=M) that is value for the SRID,
                           this value is used when calculating the p_offset distance.
</pre>
<p class="item_name">RESULT</p>
<pre>    vertex     (<a href="#robo33">T_VERTEX</a>)   - New point on line with optional perpendicular offset.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With data as (
     select sdo_geometry(3302,4326,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.50,-43.132,100.0,147.41,-43.387,30000.0)) as geom
       from dual
       UNION ALL
     select sdo_geometry(2002,4326,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.50,-43.132,147.41,-43.387)) as geom
       from dual
    )
    select a.geom.get_dims() as dims,
           t.IntValue        as offset,
           T_Segment(a.geom)
             .<strong>ST_OffsetPoint</strong>(p_ratio     =&gt; 0.25,
                             p_offset    =&gt; t.IntValue,
                             p_unit      =&gt; 'unit=M')
           .<a href="#robo177">ST_Round</a>(8)
           .<a href="#robo285">ST_SdoGeometry</a>() as offsetPoint
      from data a,
          table(tools.generate_series(-5,5,5)) t;

    DIMS OFFSET OFFSETPOINT
    ---- ------ --------------------------------------------------------------------------------
       3     -5 SDO_GEOMETRY(3301,4326,SDO_POINT_TYPE(152.19245167,-44.85985059,7575),NULL,NULL)
       3      0 SDO_GEOMETRY(3301,4326,SDO_POINT_TYPE(147.4775,-43.19575,7575),NULL,NULL)
       3      5 SDO_GEOMETRY(3301,4326,SDO_POINT_TYPE(142.76254833,-41.53164941,7575),NULL,NULL)
       2     -5 SDO_GEOMETRY(2001,4326,SDO_POINT_TYPE(152.19245167,-44.85985059,NULL),NULL,NULL)
       2      0 SDO_GEOMETRY(2001,4326,SDO_POINT_TYPE(147.4775,-43.19575,NULL),NULL,NULL)
       2      5 SDO_GEOMETRY(2001,4326,SDO_POINT_TYPE(142.76254833,-41.53164941,NULL),NULL,NULL)

     6 rows selected
    With data as (
     select SDO_GEOMETRY(3302,90000006,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),
                         SDO_ORDINATE_ARRAY(562046.642,1013077.602,0, 562032.193,1013252.074,0.035)) as geom
      from dual
    )
    select t.IntValue as offset,
           T_Segment(a.geom)
             .<strong>ST_OffsetPoint</strong>(p_ratio     =&gt; 0.25,
                             p_offset    =&gt; t.IntValue,
                             p_unit      =&gt; 'unit=M')
           .<a href="#robo177">ST_Round</a>(3)
           .<a href="#robo285">ST_SdoGeometry</a>() as offsetPoint
      from data a,
          table(tools.generate_series(-5,5,5)) t;

        OFFSET OFFSETPOINT
    ---------- ----------------------------------------------------------------------------------
            -5 SDO_GEOMETRY(3301,90000006,SDO_POINT_TYPE(562038.047,1013120.807,0.009),NULL,NULL)
             0 SDO_GEOMETRY(3301,90000006,SDO_POINT_TYPE(562043.03,1013121.22,0.009),NULL,NULL)
             5 SDO_GEOMETRY(3301,90000006,SDO_POINT_TYPE(562048.013,1013121.633,0.009),NULL,NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo278"></a>
<a name="T5fSEGMENT2fST5fParallel"></a>
<h2>21.52.  T_SEGMENT/ST_Parallel [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Parallel</strong> -- Moves segment parallel the provided p_offset distance.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Parallel</strong>(p_offset in Number)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Computes parallel offset, left or right of underlying geometry.
    Circular arcs are not yet correctly handled.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_offset     (Number) -- Value +/- numeric value.
</pre>
<p class="item_name">RESULT</p>
<pre>    New segment (<a href="#robo30">T_SEGMENT</a>) -- Input segment moved parallel by p_offset units
</pre>
<p class="item_name">TODO</p>
<pre>    Check Circular Arc Calculations
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select 'Planar LineString' as test,
             sdo_geometry(3302,NULL,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(1,1,1.1,6,6,5.95)) as geom,
             5.0 as offset
        from dual
       union all
       select 'Planar CircularString' as test,
             SDO_GEOMETRY(2002,28355,NULL,
                          SDO_ELEM_INFO_ARRAY(1,2,2), -- Circular Arc line string
                          SDO_ORDINATE_ARRAY(252230.478,5526918.373, 252400.08,5526918.373,252230.478,5527000.0)) as geom,
             -5.0 as offset
        from dual
    )
    select a.test,
           T_Segment(a.geom)
             .<strong>ST_Parallel</strong>(p_offset=&gt;a.offset)
             .<a href="#robo177">ST_Round</a>(3,3,2,1)
             .<a href="#robo285">ST_SdoGeometry</a>() as pGeom
      from data a;

    TEST                  PGEOM
    --------------------- -------------------------------------------------------------------------------------------------------------------------------------------------
    Planar LineString     SDO_GEOMETRY(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(4.536,-2.536,1.1,9.536,2.464,5.95))
    Planar CircularString SDO_GEOMETRY(2002,28355,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(252321.904,5527048.051,252318.419,5527048.243,252323.295,5527047.937))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2008 - Original coding in GEOM package.
    Simon Greener - January 2013  - Port/Rewrite to <a href="#robo24">T_GEOMETRY</a> object function member.
    Simon Greener - January 2014  - Port/Rewrite to <a href="#robo30">T_SEGMENT</a> object function member.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo279"></a>
<a name="T5fSEGMENT2fST5fPointAlong"></a>
<h2>21.53.  T_SEGMENT/ST_PointAlong [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_PointAlong</strong> -- Computes the vertex that lies a given fraction along the line defined by this segment.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_pointAlong(segmentLengthFraction in Number)
             Return &amp;&amp;INSTALL_SCHEMA..T_Vertex deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    A fraction of &lt;code&gt;0.0&lt;/code&gt; returns the start point of the segment;
    a fraction of &lt;code&gt;1.0&lt;/code&gt; returns the end point of the segment.
    If the fraction is null; 0.0 or null; 1.0 the point returned
    will lie before the start or beyond the end of the segment. 
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_segmentLengthFraction (number) -- The fraction of the segment length along the line
</pre>
<p class="item_name">RESULT</p>
<pre>    Returns the vertex at that distance along the segment
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select &amp;&amp;INSTALL_SCHEMA..T_Segment(mdsys.sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,1,1)))
                .<strong>ST_PointAlong</strong>(p_segmentLengthFraction=&gt;0.5)
                .<a href="#robo285">ST_SdoGeometry</a>() as mPoint
      from dual;
               
    MPOINT
    --------------------------------------------------------------------
    SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(0.5, 0.5, NULL), NULL, NULL)
    
    select &amp;&amp;INSTALL_SCHEMA..T_Segment(mdsys.sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,1,1)))
                .<strong>ST_PointAlong</strong>(p_segmentLengthFraction=&gt;0.9)
                .<a href="#robo285">ST_SdoGeometry</a>() as mPoint
      from dual;
               
    MPOINT
    --------------------------------------------------------------------
    SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(0.9, 0.9, NULL), NULL, NULL)
    
    select &amp;&amp;INSTALL_SCHEMA..T_Segment(mdsys.sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,2),sdo_ordinate_array(0,0,10,10,20,0)))
                .<strong>ST_PointAlong</strong>(p_segmentLengthFraction=&gt;0.5)
                .<a href="#robo285">ST_SdoGeometry</a>() as mPoint
      from dual;
    
    MPOINT
    ------------------------------------------------------------------
    SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(10, 10, NULL), NULL, NULL)
</pre>
<p class="item_name">NOTES</p>
<pre>    From JTS LineSegment.java
    2D only; no circular arcs.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo280"></a>
<a name="T5fSEGMENT2fST5fPointAlongOffset"></a>
<h2>21.54.  T_SEGMENT/ST_PointAlongOffset [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_PointAlongOffset</strong> -- Computes the vertex that lies a given fraction along the line defined by this segment and offset from the segment by a given distance.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_pointAlongOffset(
                       p_segmentLengthFraction in Number, 
                       p_offsetDistance in Number
                    )
             Return &amp;&amp;INSTALL_SCHEMA..T_Vertex deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    A fraction of 0.0 offsets from the start point of the segment;
    a fraction of 1.0 offsets from the end point of the segment.
    The computed point is offset to the left of the line if the offset distance is
    positive, to the right if negative.
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_segmentLengthFraction (number) -- The fraction of the segment length along the line
    p_offsetDistance        (number) -- The distance the point is offset from the segment (positive is to the left, negative is to the right)
</pre>
<p class="item_name">RESULT</p>
<pre>    Returns the vertex at that distance and offset along the segment
</pre>
<p class="item_name">NOTES</p>
<pre>    From JTS LineSegment.java
    2D only; no circular arcs.
    Throws Exception if the segment has zero length
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo281"></a>
<a name="T5fSEGMENT2fST5fProjectPoint"></a>
<h2>21.55.  T_SEGMENT/ST_ProjectPoint [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_ProjectPoint</strong> -- Return a measured point by snapping provided point to the underlying LineString or circularString
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    <strong>ST_ProjectPoint</strong>(p_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                    p_unit   in varchar2)
     Return &amp;&amp;INSTALL_SCHEMA..T_Vertex deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function snaps supplied point to underlying LineString or CircularString, returning the snapped point.
    
    Computes Z and M values if exist on underlying LineString or CircularString.
    
    If input circularString is 2D, length from start of LineString or CircularString to point is returned in M ordinate of snapped point.
</pre>
<p class="item_name">NOTES</p>
<pre>    Supports geodetic/geographic data.
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_vertex (t_vertex) - Point near to linestring or CircularString.
</pre>
<p class="item_name">RESULT</p>
<pre>    snapped point (t_vetex) -- First point found on LineString.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select 'Point is on centre of the XYZ circular arc (returns start point)' as test,
           t_segment(SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.3246,-1, 0,7,-1, -3,6.3246,-1)))
             .<strong>ST_ProjectPoint</strong> (
                t_vertex(SDO_GEOMETRY('POINT(0 0)',NULL)),
                null
           ).<a href="#robo177">ST_Round</a>(3,3,3,3).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual union all
    select 'Point does not have relationship with XYM LineString' as test,
           t_segment(SDO_GEOMETRY(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.325,0, 0,7,3.08, -3,6.325,6.15)))
             .<strong>ST_ProjectPoint</strong> (
                t_vertex(SDO_GEOMETRY('POINT(8 8)',NULL))
           ).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual union all
    select 'Point projects on to point half way along XY circular arc (returns measure as length)' as test,
           t_segment(SDO_GEOMETRY('CIRCULARSTRING (3 6.3246, 0 7, -3 6.3246)',NULL))
             .<strong>ST_ProjectPoint</strong> (
              t_vertex(SDO_GEOMETRY('POINT(0 3.5)',NULL)),
              null
           ).<a href="#robo177">ST_Round</a>(3,3,3,3).<a href="#robo47">ST_AsEWKT</a>() as project_point
      from dual union all
    select 'Point has relationship with XYM LineString' as test,
           t_segment(SDO_GEOMETRY(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.325,0, 0,7,3.08, -3,6.325,6.15)))
             .<strong>ST_ProjectPoint</strong> (
                t_vertex(SDO_GEOMETRY('POINT(2 8)',NULL))
           ).<a href="#robo177">ST_Round</a>(3,3,3,3).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual union all
    select 'Point has relationship with XYZM circular arc' as test,
           t_segment(SDO_GEOMETRY(4402,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.325,-2.1,0, 0,7,-2.1,3.08, -3,6.325,-2.1,6.15)))
             .<strong>ST_ProjectPoint</strong> (
                t_vertex(SDO_GEOMETRY('POINT(2 8)',NULL)),
                null
           ).<a href="#robo177">ST_Round</a>(3).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual union all
    select 'Geodetic Point has relationship with XYZM Geodetic LineString' as test,
           T_Segment(MDSYS.SDO_GEOMETRY(3302,4326,NULL,MDSYS.SDO_ELEM_INFO_ARRAY(1,2,1),MDSYS.SDO_ORDINATE_ARRAY(147.5,-43.132,100,147.41,-43.387,30000)))
             .<strong>ST_ProjectPoint</strong> (
                 t_vertex(SDO_GEOMETRY(2001,8307,SDO_POINT_TYPE(147.509,-43.221,NULL),NULL,NULL))
           ).<a href="#robo177">ST_Round</a>(3).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual ;
    
    TEST                                                                                  PROJECT_POINT
    ------------------------------------------------------------------------------------- ---------------------------------
    Point is on centre of the XYZ circular arc (returns start point)                      POINTZ (3 6.325 -1)
    Point does not have relationship with XYM CircularSring                               NULL
    Point projects on to point half way along XY circular arc (returns measure as length) POINTM (0 7 3.1)
    Point has relationship with XYM CircularSring                                         POINTM (1.698 6.791 1.374)
    Point has relationship with XYZM circular arc                                         POINTZM (1.698 6.791 -2.1 1.374)
    Geodetic Point has relationship with XYZM Geodetic LineString                         SRID=8307;POINTM (147.44551945 -43.23290209 11930.116)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2008-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo282"></a>
<a name="T5fSEGMENT2fST5fReverse"></a>
<h2>21.56.  T_SEGMENT/ST_Reverse [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Reverse</strong> -- Reverses underlying segment's start and end coordinates.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Reverse</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Constructs new segment by swapping start and end coordinates of underlying segment.
    If underlying segment has a middle coordinate it is left in place.
</pre>
<p class="item_name">RESULT</p>
<pre>    segment (<a href="#robo30">T_SEGMENT</a>) -- segment that has reverse direction to the original segment.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(
             sdo_geometry(2002,NULL,NULL,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,10,10))
           ).<strong>ST_Reverse</strong>()
            .<a href="#robo285">ST_SdoGeometry</a>() as rSegment
      from dual;

    RSEGMENT
    -------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(10,10,0,0))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo283"></a>
<a name="T5fSEGMENT2fST5fRound"></a>
<h2>21.57.  T_SEGMENT/ST_Round [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Round</strong> -- Rounds X,Y,Z and m(w) ordinates of segment's coordinates usoing object's PrecisionModel.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Round</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Applies internal object's precisionModel decimal digits of precision value to ordinates of object.
    If internal PrecisionModel is null, the object is returned unchanged.
    If an internal PrecisionModel element is null the default values for the called <strong>ST_Round</strong> are applied.
</pre>
<p class="item_name">RESULT</p>
<pre>    segment (<a href="#robo30">T_SEGMENT</a>) -- T_Segment with rounded ordinates using SELF.PrecisionModel values.
</pre>
<p class="item_name">NOTES</p>
<pre>    Is wrapper over <strong>ST_Round</strong>( y, y, z, m );
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select sdo_geometry(4402,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0.0023763,0.18349,1.3456,0.0005, 10.87365,11.983645,1.98434,14.38573)) as geom
        From Dual
       Union all
      select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0.0023763,0.18349,1.3456,10.87365,11.983645,1.98434)) as geom
        From Dual
       Union all
      select sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0.0023763,0.18349,       10.87365,11.983645        )) as geom
        from dual
    )
    select T_Segment(a.geom)
             .<strong>ST_Round</strong>().<a href="#robo285">ST_SdoGeometry</a>() as rGeom
     from data a;

    RGEOM
    -------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(4402,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.002,0.183,1.3,0,10.874,11.984,2,14.39))
    SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.002,0.183,1.3,10.874,11.984,2))
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.002,0.183,10.874,11.984))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo284"></a>
<a name="T5fSEGMENT2fST5fRound28x20y20z20m29"></a>
<h2>21.58.  T_SEGMENT/ST_Round(x y z m) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo177">ST_Round</a> -- Rounds X,Y,Z and m(w) ordinates of segment's coordinates to passed in precision.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <a href="#robo177">ST_Round</a>(p_dec_places_x in integer,
                             p_dec_places_y in integer default NULL,
                             p_dec_places_z in integer default 3,
                             p_dec_places_m in integer default 3)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Applies relevant decimal digits of precision value to ordinate.
    For example:
      SELF.x := ROUND(SELF.x,p_dec_places_x);
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_dec_places_x (integer) - value applied to x Ordinate.
    p_dec_places_y (integer) - value applied to y Ordinate.
    p_dec_places_z (integer) - value applied to z Ordinate.
    p_dec_places_m (integer) - value applied to m Ordinate.
</pre>
<p class="item_name">RESULT</p>
<pre>    segment (<a href="#robo30">T_SEGMENT</a>)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select sdo_geometry(4402,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0.0023763,0.18349,1.3456,0.0005, 10.87365,11.983645,1.98434,14.38573)) as geom
        From Dual
       Union all
      select sdo_geometry(3002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0.0023763,0.18349,1.3456,10.87365,11.983645,1.98434)) as geom
        From Dual
       Union all
      select sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0.0023763,0.18349,       10.87365,11.983645        )) as geom
        from dual
    )
    select T_Segment(a.geom)
             .<a href="#robo177">ST_Round</a>(p_dec_places_x=&gt;3,
                       p_dec_places_y=&gt;3,
                       p_dec_places_z=&gt;1,
                       p_dec_places_m=&gt;2
              ).<a href="#robo285">ST_SdoGeometry</a>() as rGeom
     from data a;

    RGEOM
    -------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(4402,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.002,0.183,1.3,0,10.874,11.984,2,14.39))
    SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.002,0.183,1.3,10.874,11.984,2))
    SDO_GEOMETRY(2002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.002,0.183,10.874,11.984))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo285"></a>
<a name="T5fSEGMENT2fST5fSdoGeometry"></a>
<h2>21.59.  T_SEGMENT/ST_SdoGeometry [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SdoGeometry</strong> -- Returns segment as a suitably encoded MDSYS.SDO_GEOMETRY object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SdoGeometry</strong>(p_dims in integer default null)
             Return MDSYS.sdo_geometry Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Geometry depends on how the segment is described (vertex-connected or circular arc).
    Also, p_dims can force 3D linestring to be returned as a 2D linestring.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_dims in integer default null - A dimension value that will override SELF.<a href="#robo242">ST_Dims</a>() eg to return 2D from a 3D segment.
</pre>
<p class="item_name">RESULT</p>
<pre>    linestring (MDSYS.SDO_GEOMETRY) -- Two (or three) point linestring.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(
             p_segment_id =&gt; 0,
             p_startCoord =&gt; t_Vertex(
                               p_id=&gt;1,
                               p_x=&gt;0.0023763,
                               p_y=&gt;0.18349,
                               p_z=&gt;1.346,
                               p_w=&gt;0.001,
                               p_sdo_gtype=&gt;4401,
                               p_sdo_srid=&gt;NULL
                             ),
             p_EndCoord   =&gt; T_Vertex(
                               p_id=&gt;2,
                               p_x=&gt;10.87365,
                               p_y=&gt;11.983645,
                               p_z=&gt;1.984,
                               p_w=&gt;14.386,
                               p_sdo_gtype=&gt;4401,
                               p_sdo_srid=&gt;NULL
                             ),
             p_sdo_gtype=&gt;4402,
             p_sdo_srid=&gt;NULL
          ).<strong>ST_SdoGeometry</strong>() as geom
     from dual;

    GEOM
    -----------------------------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(4402,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(0.0023763,0.18349,1.346,0.001,10.87365,11.983645,1.984,14.386))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo286"></a>
<a name="T5fSEGMENT2fST5fSelf"></a>
<h2>21.60.  T_SEGMENT/ST_Self [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Self</strong> -- Handy method for use with TABLE(T_Segments) to return element as T_Segment object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Self</strong>
             Return T_Segment Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    When segmentizing linear geometries into T_Segment objects via a TABLE function call to <a href="#robo24">T_GEOMETRY</a>.T_SEGMENTIZE()
    it is handy to have a method which allows access to the result as a single object.
    In a sense this method allows access similar to t.COLUMN_VALUE for atmoic datatype access from TABLE functions.
</pre>
<p class="item_name">RESULT</p>
<pre>    segment (<a href="#robo30">T_SEGMENT</a>) -- A single T_Segment object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    set serveroutput on
    BEGIN
      FOR rec IN (select seg.segment_id, seg.<strong>ST_Self</strong>() as line
                    from table(t_geometry(
                                 SDO_GEOMETRY(2002,28355,NULL,
                                     SDO_ELEM_INFO_ARRAY(1,2,1),
                                     SDO_ORDINATE_ARRAY(252282.861,5526962.496,252282.861,5526882.82, 252315.91,5526905.639, 252287.189,5526942.228)) )
                               .<a href="#robo182">ST_Segmentize</a>('ALL')) seg
                  )
      LOOP
        dbms_output.put_line(rec.line.<a href="#robo326">ST_AsText</a>());
      END LOOP;
    END;
    /
    anonymous block completed
    SEGMENT(1,1,1,Start(1,252282.861,5526962.496,NULL,NULL,2001,28355),End(2,252282.861,5526882.82,NULL,NULL,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
    SEGMENT(1,1,2,Start(2,252282.861,5526882.82,NULL,NULL,2001,28355),End(3,252315.91,5526905.639,NULL,NULL,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
    SEGMENT(1,1,3,Start(3,252315.91,5526905.639,NULL,NULL,2001,28355),End(4,252287.189,5526942.228,NULL,NULL,2001,28355),SDO_GTYPE=2002,SDO_SRID=28355)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo287"></a>
<a name="T5fSEGMENT2fST5fSetCoordinates28vertex20vertex20vertex29"></a>
<h2>21.61.  T_SEGMENT/ST_SetCoordinates(vertex vertex vertex) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_SetCoordinates -- Allows user to set a segment's start/mid/end coordinates
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Procedure ST_SetCoordinates(SELF IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a>,
                         p_startCoord in &amp;&amp;INSTALL_SCHEMA..<a href="#robo33">T_VERTEX</a>,
                         p_midCoord   in &amp;&amp;INSTALL_SCHEMA..<a href="#robo33">T_VERTEX</a>,
                         p_endCoord   in &amp;&amp;INSTALL_SCHEMA..<a href="#robo33">T_VERTEX</a>),
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This procedure allows a user to set a segment's coordinates without creating a new segment.
    If a NULL value is provided for the midCoord parameter its associated coordinate will be set to NULL.
    If a NULL value is provided for the startCoord or endCoord it is ignored as it would otherwise invalidate the object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo288"></a>
<a name="T5fSEGMENT2fST5fSetCoordinates28vertex20vertex29"></a>
<h2>21.62.  T_SEGMENT/ST_SetCoordinates(vertex vertex) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_SetCoordinates -- Allows user to set object's start or end coordinates.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Procedure ST_SetCoordinates(SELF IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a>,
                         p_startCoord in &amp;&amp;INSTALL_SCHEMA..<a href="#robo33">T_VERTEX</a>,
                         p_endCoord   in &amp;&amp;INSTALL_SCHEMA..<a href="#robo33">T_VERTEX</a>),
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This procedure allows a user to set a segment's coordinates without creating a new segment.
    If a NULL value is provided for a parameter it is ignored as it would otherwise invalidate the object.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo289"></a>
<a name="T5fSEGMENT2fST5fSetPrecisionModel"></a>
<h2>21.63.  T_SEGMENT/ST_SetPrecisionModel [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SetPrecisionModel</strong> -- Allows user to set object's t_precision object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Procedure <strong>ST_SetPrecisionModel</strong>(SELF IN OUT NOCOPY <a href="#robo30">T_SEGMENT</a>,
                                          p_precision &amp;&amp;INSTALL_SCHEMA..<a href="#robo29">T_PrecisionModel</a>),
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This procedure allows a user to set the object's precision values in its t_precision object.
    If a NULL value is provided for a precision object element, the existing value is maintained.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo290"></a>
<a name="T5fSEGMENT2fST5fSRID"></a>
<h2>21.64.  T_SEGMENT/ST_SRID [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SRID</strong> -- Returns the object's SDO_SRID attribute value.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SRID</strong>
             Return INTEGER Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns sdo_srid object attribute.
</pre>
<p class="item_name">RESULT</p>
<pre>    spatial reference id (INTEGER) -- eg 8311 etc.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    with data as (
      select T_Segment(
               SDO_GEOMETRY('CIRCULARSTRING(252230.478 5526918.373, 252400.08 5526918.373, 252230.478 5527000.0)',28355)
             ) as circular_segment
        from dual
    )
    select a.circular_segment.ST_Srid() as Srid
      from data a;

     SRID
    -----
    28355
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo291"></a>
<a name="T5fSEGMENT2fST5fTo2D"></a>
<h2>21.65.  T_SEGMENT/ST_To2D [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_To2D</strong> -- Constructs a 2D segment from the underlying segment which can have any dimension.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_To2D</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Constructs new segment by discarding any z and w ordinates.
    SDO_GTYPE returned will be 2001.
    If segment already 2D it is returned unchanged.
</pre>
<p class="item_name">RESULT</p>
<pre>    segment (<a href="#robo30">T_SEGMENT</a>) -- 2d segment.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(sdo_geometry(3002,4283,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.5, -42.5,10.0, 147.6, -42.5, 10.0)))
             .<strong>ST_To2D</strong>()
             .<a href="#robo285">ST_SdoGeometry</a>(2) as geom2D
      from dual;

    GEOM2D
    ---------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(2002,4283,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147.5,-42.5,147.6,-42.5))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo292"></a>
<a name="T5fSEGMENT2fST5fTo3D"></a>
<h2>21.66.  T_SEGMENT/ST_To3D [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_To3D</strong> -- Constructs a 3D segment from the underlying segment which can have any dimension.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_To3D</strong>(p_keep_measure in integer default 0,
                            p_default_z    in number  default null)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Constructs new 3D segment.
    If segment 2D is has any p_default_z values added to the new segment's z ordinates.
    If segment is 3D with no measure it is returned without change.
    If segment is 3D with Measure it is returned as an unmeasured 3D segment with the Z ordinates
    being the original measure values if p_keep_measure = 1, otherwise, the Z values are set to p_default_z.
    If segment is 4D with Measure it is returned as an unmeasured 3D segment with the Z ordinates
    being the original measure values if p_keep_measure = 1, otherwise, the Z values are set to p_default_z.
</pre>
<p class="item_name">RESULT</p>
<pre>    segment (<a href="#robo30">T_SEGMENT</a>) -- 3D segment.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Convert 2D segment to 3D with constant Z value of 10.0
    select T_Segment(sdo_geometry(2002,4283,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.5, -42.5, 147.6,-42.5)))
             .<strong>ST_To3D</strong>(p_keep_measure =&gt; 0,
                      p_default_z    =&gt; 10.0)
             .<a href="#robo285">ST_SdoGeometry</a>(3) as geom3D
      from dual;

    GEOM3D
    ---------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3002,4283,NULL,MDSYS.SDO_ELEM_INFO_ARRAY(1,2,1),MDSYS.SDO_ORDINATE_ARRAY(147.5,-42.5,10,147.6,-42.5,10))

    -- Convert measured segment (no Z) to 3D with Z
    select T_Segment(sdo_geometry(3302,4283,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.5, -42.5,0.0, 147.6, -42.5, 10923.0)))
             .<strong>ST_To3D</strong>(p_keep_measure =&gt; 1)
             .<a href="#robo285">ST_SdoGeometry</a>(3) as geom3D
      from dual;

    GEOM3D
    -----------------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3002,4283,NULL,MDSYS.SDO_ELEM_INFO_ARRAY(1,2,1),MDSYS.SDO_ORDINATE_ARRAY(147.5,-42.5,0,147.6,-42.5,10923))

    -- Convert measured segment with Z to 3D with Z (throw M away)
    select T_Segment(sdo_geometry(4402,4283,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.5,-42.5,849.9,2000.0, 147.6,-42.5,1923.0,4000.0)))
             .<strong>ST_To3D</strong>(p_keep_measure =&gt; 0)
             .<a href="#robo285">ST_SdoGeometry</a>(3) as geom3D
      from dual;

    GEOM3D
    --------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3002,4283,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147.5,-42.5,849.9,147.6,-42.5,1923))

    -- Convert measured segment with Z to 3D with M becoming Z (throw Z away)
    select T_Segment(sdo_geometry(4402,4283,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(147.5,-42.5,849.9,2000.0, 147.6,-42.5,1923.0,4000.0)))
             .<strong>ST_To3D</strong>(p_keep_measure =&gt; 1)
             .<a href="#robo285">ST_SdoGeometry</a>(3) as geom3D
      from dual;

    GEOM3D
    -------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(3002,4283,NULL,SDO_ELEM_INFO_ARRAY(1,2,1),SDO_ORDINATE_ARRAY(147.5,-42.5,2000,147.6,-42.5,4000))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo293"></a>
<a name="T5fSEGMENT2fST5fUpdateCoordinate28p5fvertex29"></a>
<h2>21.67.  T_SEGMENT/ST_UpdateCoordinate(p_vertex) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_UpdateCoordinate -- Function which updates the start, mid or end coordinate depending on p_which.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ST_UpdateCoordinate(p_coordinate in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                                        p_which      in varchar2 default 'S' )
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a> Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Function that updates start, mid or end coordinate the underlying T_Segment which value in p_coordinate depending on position identified by p_which.
    p_which can have one of 6 values. See Arguments.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_coordinate (T_Vertex) -- Replacement coordinate which must not be null otherwise T_Segment is unchanged.
    p_which      (varchar2) -- Can be one of the following values:
                               - NULL : defaults to 'S'
                               - 'S' or '1' : StartCoord
                               - 'M' or '2' :   midCoord
                               - 'E' or '3' :   endCoord
</pre>
<p class="item_name">RESULT</p>
<pre>    updated segment (T_Segment) - Geometry with coordinate replaced.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Segment(
             p_Segment_id =&gt; 0,
             p_startCoord =&gt; T_Vertex(
                               p_id        =&gt;  1,
                               p_x         =&gt; 10,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_endCoord   =&gt; T_Vertex(
                               p_id        =&gt;  3,
                               p_x         =&gt; 20,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_sdo_gtype  =&gt; 2002,
             p_sdo_srid   =&gt; NULL
           )
           .ST_UpdateCoordinate(
                p_coordinate =&gt; T_Vertex(
                  p_x         =&gt; 99.0,
                  p_y         =&gt; 100.0,
                  p_id        =&gt; 1,
                  p_sdo_gtype =&gt; 2001,
                  p_sdo_srid  =&gt; NULL),
                p_which =&gt; 1
           )
           .startCoord
           .<a href="#robo326">ST_AsText</a>() as updatedSegment
       from dual;

    UPDATEDSEGMENT
    --------------------------------------
    T_Vertex(99,100,NULL,NULL,1,2001,NULL)

    -- Create midCoord where doesn't exist.
    select T_Segment(
             p_Segment_id =&gt; 0,
             p_startCoord =&gt; T_Vertex(
                               p_id        =&gt;  1,
                               p_x         =&gt; 10,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_endCoord   =&gt; T_Vertex(
                               p_id        =&gt;  3,
                               p_x         =&gt; 20,
                               p_y         =&gt;  0,
                               p_sdo_gtype =&gt; 2001,
                               p_sdo_srid  =&gt; NULL
                             ),
             p_sdo_gtype  =&gt; 2002,
             p_sdo_srid   =&gt; NULL
           )
           .ST_UpdateCoordinate(
                p_coordinate =&gt; T_Vertex(
                  p_x         =&gt; 99.0,
                  p_y         =&gt; 100.0,
                  p_id        =&gt; 2,
                  p_sdo_gtype =&gt; 2001,
                  p_sdo_srid  =&gt; NULL),
                p_which =&gt; '2'
           )
           .<a href="#robo326">ST_AsText</a>() as updatedSegment
       from dual;

    UPDATEDSEGMENT
    ------------------------------------------
    SEGMENT(NULL,NULL,0,
            Start(10,0,NULL,NULL,1,2001,NULL),
            Mid(99,100,NULL,NULL,2,2001,NULL),
            End(20,0,NULL,NULL,3,2001,NULL),
            SDO_GTYPE=2002,SDO_SRID=NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - December 2006 - Original Coding for GEOM package.
    Simon Greener - July 2011     - Port to <a href="#robo24">T_GEOMETRY</a>.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo294"></a>
<a name="T5fSEGMENT2fSTPointToCircularArc"></a>
<h2>21.68.  T_SEGMENT/STPointToCircularArc [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_PointToCircularArc -- Return a measured point by snapping provided point to the provided circularstring
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    ST_PointToCircularArc(p_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                          p_unit   in varchar2 default null)
     Return &amp;&amp;INSTALL_SCHEMA..T_Vertex deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function snaps supplied point to underlying circularString, returning the snapped point.

    Computes Z and M values if exist on underlying CircularString.

    If input circularString is 2D, length from start of circularString to point is returned in M ordinate of snapped point.
</pre>
<p class="item_name">NOTES</p>
<pre>    Supports CircularString geometries only.
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_vertex (t_vertex) - Point near to linestring.
    p_unit   (varchar2) - Unit of measure (depends on SRID)
</pre>
<p class="item_name">RESULT</p>
<pre>    snapped point (t_vetex) -- First point found on circularString.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select 'Point is on centre of the XYZ circular arc (returns start point)' as test,
           t_segment(SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.3246,-1, 0,7,-1, -3,6.3246,-1)))
             .ST_PointToCircularArc (
                t_vertex(SDO_GEOMETRY('POINT(0 0)',NULL)),
                null
           ).<a href="#robo177">ST_Round</a>(3,3,3,3).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual union all
    select 'Point does not have relationship with XYM CircularSring' as test,
           t_segment(SDO_GEOMETRY(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.325,0, 0,7,3.08, -3,6.325,6.15)))
             .ST_PointToCircularArc (
                t_vertex(SDO_GEOMETRY('POINT(8 8)',NULL))
           ).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual union all
    select 'Point projects on to point half way along XY circular arc (returns measure as length)' as test,
           t_segment(SDO_GEOMETRY('CIRCULARSTRING (3 6.3246, 0 7, -3 6.3246)',NULL))
             .ST_PointToCircularArc (
              t_vertex(SDO_GEOMETRY('POINT(0 3.5)',NULL)),
              null
           ).<a href="#robo177">ST_Round</a>(3,3,3,3).<a href="#robo47">ST_AsEWKT</a>() as project_point
      from dual union all
    select 'Point has relationship with XYM CircularSring' as test,
           t_segment(SDO_GEOMETRY(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.325,0, 0,7,3.08, -3,6.325,6.15)))
             .ST_PointToCircularArc (
                t_vertex(SDO_GEOMETRY('POINT(2 8)',NULL))
           ).<a href="#robo177">ST_Round</a>(3,3,3,3).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual union all
    select 'Point has relationship with XYZM circular arc' as test,
           t_segment(SDO_GEOMETRY(4402,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.325,-2.1,0, 0,7,-2.1,3.08, -3,6.325,-2.1,6.15)))
             .ST_PointToCircularArc (
                t_vertex(SDO_GEOMETRY('POINT(2 8)',NULL)),
                null
           ).<a href="#robo177">ST_Round</a>(3).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual ;
    
    TEST                                                                                  PROJECT_POINT
    ------------------------------------------------------------------------------------- -----------------------------
    Point is on centre of the XYZ circular arc (returns start point)                      POINTZ (3 6.325 -1)
    Point does not have relationship with XYM CircularSring                               NULL
    Point projects on to point half way along XY circular arc (returns measure as length) POINTM (0 7 3.1)
    Point has relationship with XYM CircularSring                                         POINTM (1.698 6.791 1.374)
    Point has relationship with XYZM circular arc                                         POINTZM (1.698 6.791 -2.1 1.374)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2008-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo295"></a>
<a name="T5fSEGMENT2fSTPointToLineString"></a>
<h2>21.69.  T_SEGMENT/STPointToLineString [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo30">T_SEGMENT</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ST_PointToLineString -- Return a measured point by snapping provided point to the underlying LineString
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    ST_PointToLineString(p_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex)
     Return &amp;&amp;INSTALL_SCHEMA..T_Vertex deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function snaps supplied point to underlying LineString, returning the snapped point.
    
    Computes Z and M values if exist on underlying LineString.
    
    If input circularString is 2D, length from start of LineString to point is returned in M ordinate of snapped point.
</pre>
<p class="item_name">NOTES</p>
<pre>    Supports LineString geometries only.
</pre>
<p class="item_name">INPUTS</p>
<pre>    p_vertex (t_vertex) - Point near to linestring.
</pre>
<p class="item_name">RESULT</p>
<pre>    snapped point (t_vetex) -- First point found on LineString.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select 'Point is on centre of the XYZ circular arc (returns start point)' as test,
           t_segment(SDO_GEOMETRY(3002,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.3246,-1, 0,7,-1, -3,6.3246,-1)))
             .ST_PointToLineString (
                t_vertex(SDO_GEOMETRY('POINT(0 0)',NULL)),
                null
           ).<a href="#robo177">ST_Round</a>(3,3,3,3).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual union all
    select 'Point does not have relationship with XYM LineString' as test,
           t_segment(SDO_GEOMETRY(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.325,0, 0,7,3.08, -3,6.325,6.15)))
             .ST_PointToLineString (
                t_vertex(SDO_GEOMETRY('POINT(8 8)',NULL))
           ).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual union all
    select 'Point projects on to point half way along XY circular arc (returns measure as length)' as test,
           t_segment(SDO_GEOMETRY('CIRCULARSTRING (3 6.3246, 0 7, -3 6.3246)',NULL))
             .ST_PointToLineString (
              t_vertex(SDO_GEOMETRY('POINT(0 3.5)',NULL)),
              null
           ).<a href="#robo177">ST_Round</a>(3,3,3,3).<a href="#robo47">ST_AsEWKT</a>() as project_point
      from dual union all
    select 'Point has relationship with XYM LineString' as test,
           t_segment(SDO_GEOMETRY(3302,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.325,0, 0,7,3.08, -3,6.325,6.15)))
             .ST_PointToLineString (
                t_vertex(SDO_GEOMETRY('POINT(2 8)',NULL))
           ).<a href="#robo177">ST_Round</a>(3,3,3,3).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual union all
    select 'Point has relationship with XYZM circular arc' as test,
           t_segment(SDO_GEOMETRY(4402,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,2,2),SDO_ORDINATE_ARRAY(3,6.325,-2.1,0, 0,7,-2.1,3.08, -3,6.325,-2.1,6.15)))
             .ST_PointToLineString (
                t_vertex(SDO_GEOMETRY('POINT(2 8)',NULL)),
                null
           ).<a href="#robo177">ST_Round</a>(3).<a href="#robo47">ST_AsEWKT</a>() as project_point
    from dual ;
    
    TEST                                                                                  PROJECT_POINT
    ------------------------------------------------------------------------------------- -----------------------------
    Point is on centre of the XYZ circular arc (returns start point)                      POINTZ (3 6.325 -1)
    Point does not have relationship with XYM CircularSring                               NULL
    Point projects on to point half way along XY circular arc (returns measure as length) POINTM (0 7 3.1)
    Point has relationship with XYM CircularSring                                         POINTM (1.698 6.791 1.374)
    Point has relationship with XYZM circular arc                                         POINTZM (1.698 6.791 -2.1 1.374)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2008-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo31"></a>
<a name="OBJECT20TYPE2fT5fTOKEN"></a>
<h1>22.  OBJECT TYPE/T_TOKEN [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_TOKEN</strong> -- Object type representing a single cell in a matrix of non-overlapping (no gaps) cells.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that represents a single cell within an array of
    optimized rectanges representing a grid or matrix of "raster" style objects.
    Used mainly with T_TOKENs in PIPELINED <a href="#robo24">T_GEOMETRY</a> methods.
</pre>
<p class="item_name">NOTES</p>
<pre>    No methods are declared on this type.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2005 - Original coding.
    Simon Greener - Jan 2013 - Port from GEOM Package.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2012-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo296"></a>
<a name="T5fTOKEN2fATTRIBUTES28T5fTOKEN29"></a>
<h2>22.1.  T_TOKEN/ATTRIBUTES(T_TOKEN) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo31">T_TOKEN</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    id        -- unique identifier associated with token: starts from 1 for first token extracted through to max for last.
    token     -- The actual token.
    separator -- The trailing separator that was immediately after the token in the string.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  id        integer<span class="sign">,</span>
  token     varchar2<span class="sign">(</span>30000<span class="sign">)</span><span class="sign">,</span>
  separator varchar2<span class="sign">(</span>30000<span class="sign">)</span>
</pre>
<a name="robo32"></a>
<a name="OBJECT20TYPE2fT5fVECTOR3D"></a>
<h1>23.  OBJECT TYPE/T_VECTOR3D [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_VECTOR3D</strong> -- Object type representing a mathematical segment
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that represents a single mathematical segment.
    Includes methods on segments.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2015 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2012-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo297"></a>
<a name="T5fVECTOR3D2fAddV"></a>
<h2>23.1.  T_VECTOR3D/AddV [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>AddV</strong> -- Constructs segment as segment sum of SELF and v1 parameter.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>   Member Function <strong>AddV</strong>(v1 in &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a>)
            Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo298"></a>
<a name="T5fVECTOR3D2fAngle"></a>
<h2>23.2.  T_VECTOR3D/Angle [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Angle</strong> -- Returns the angle in radians between this segment and the segment parameter; the return value is constrained to the range [0-<a href="#robo10">PI</a>]. 
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>Angle</strong>(v1 in &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a>) 
             Return Number Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    v1 (T_Vector3D) - Second segment
  RETURNS
    The angle in radians in the range [0-<a href="#robo10">PI</a>] 
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo299"></a>
<a name="T5fVECTOR3D2fAsSdoGeometry"></a>
<h2>23.3.  T_VECTOR3D/AsSdoGeometry [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>AsSdoGeometry</strong> -- Creates an SDO_GEOMETRY equivalent of <a href="#robo32">T_VECTOR3D</a>.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>AsSdoGeometry</strong>(p_srid in integer default null)
             Return mdsys.sdo_geometry Deterministic
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_srid (integer) - Value for sdo_geometry.sdo_srid.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo300"></a>
<a name="T5fVECTOR3D2fAsText"></a>
<h2>23.4.  T_VECTOR3D/AsText [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>AsText</strong> -- Creates an textual representation of a <a href="#robo32">T_VECTOR3D</a> object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>AsText</strong>(p_round IN integer DEFAULT 9)
             Return Varchar2 Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_round (integer) -- Value for use in ROUND to compare XYZ values.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo301"></a>
<a name="T5fVECTOR3D2fATTRIBUTES28T5fVECTOR3D29"></a>
<h2>23.5.  T_VECTOR3D/ATTRIBUTES(T_VECTOR3D) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>   x -- X Ordinate 
   y -- Y Ordinate
   z -- Z Ordinate 
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">   x number<span class="sign">,</span>
   y number<span class="sign">,</span>
   z number<span class="sign">,</span>
</pre>
<a name="robo302"></a>
<a name="T5fVECTOR3D2fCONSTRUCTORS28T5fVECTOR3D29"></a>
<h2>23.6.  T_VECTOR3D/CONSTRUCTORS(T_VECTOR3D) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    A collection of <a href="#robo32">T_VECTOR3D</a> Constructors.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  Constructor Function <a href="#robo32">T_VECTOR3D</a><span class="sign">(</span> SELF      IN OUT NOCOPY <a href="#robo32">T_VECTOR3D</a><span class="sign">,</span>
                                   p_SEGMENT IN <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo30">T_SEGMENT</a><span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo32">T_VECTOR3D</a><span class="sign">(</span> SELF      IN OUT NOCOPY <a href="#robo32">T_VECTOR3D</a><span class="sign">,</span>
                                   p_SEGMENT IN <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo32">T_VECTOR3D</a><span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo32">T_VECTOR3D</a><span class="sign">(</span> SELF     IN OUT NOCOPY <a href="#robo32">T_VECTOR3D</a><span class="sign">,</span>
                                   p_vertex IN <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo32">T_VECTOR3D</a><span class="sign">(</span> SELF           IN OUT NOCOPY <a href="#robo32">T_VECTOR3D</a><span class="sign">,</span>
                                   p_start_vertex IN <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">,</span>
                                   p_end_vertex   IN <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_Vertex<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>
</pre>
<a name="robo303"></a>
<a name="T5fVECTOR3D2fCross"></a>
<h2>23.7.  T_VECTOR3D/Cross [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Cross</strong> -- Creates a new segment that is the segment cross product of segments SELF and v1.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>Cross</strong>(v1 in &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a>)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    v1 (T_Vector3D) - Second segment
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo304"></a>
<a name="T5fVECTOR3D2fDistance28t5fvector3d29"></a>
<h2>23.8.  T_VECTOR3D/Distance(t_vector3d) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    Distance -- Returns the distance between this <a href="#robo32">T_VECTOR3D</a> the specified point.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function Distance(p_point in &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a>)
             Return Number Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_point (T_Vector3D) - The point.
  RETURNS
    The distance between the segment and p_point.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo305"></a>
<a name="T5fVECTOR3D2fDistance28t5fvertex29"></a>
<h2>23.9.  T_VECTOR3D/Distance(t_vertex) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    Distance -- Returns the distance between this <a href="#robo32">T_VECTOR3D</a> the specified point.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function Distance(p_point in &amp;&amp;INSTALL_SCHEMA..T_Vertex )
             Return Number Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    v1 (T_Vector3D) - Second segment
  RETURNS
    The distance between the segment and p_point.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo306"></a>
<a name="T5fVECTOR3D2fDistanceSquared28T5fVector3D29"></a>
<h2>23.10.  T_VECTOR3D/DistanceSquared(T_Vector3D) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    DistanceSquared -- Returns the square of the distance between the specified points.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function DistanceSquared(p_point in &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a>)
             Return Number Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_point (T_Vector3D) - Point.
  RETURNS 
    The square of the distance between the segment and point1.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo307"></a>
<a name="T5fVECTOR3D2fDistanceSquared28t5fvertex29"></a>
<h2>23.11.  T_VECTOR3D/DistanceSquared(t_vertex) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    DistanceSquared -- Returns the square of the distance between the specified points.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function DistanceSquared(p_point in &amp;&amp;INSTALL_SCHEMA..T_Vertex)
             Return Number Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo308"></a>
<a name="T5fVECTOR3D2fDivide"></a>
<h2>23.12.  T_VECTOR3D/Divide [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Divide</strong> -- Returns the components of the current segment divided by the specified scalar.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>Divide</strong>(p_scalar in Number)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,   
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_scalar (number) - The scalar value.
  RETURNS
    The components of value1 divided by the p_scalar.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo309"></a>
<a name="T5fVECTOR3D2fDot"></a>
<h2>23.13.  T_VECTOR3D/Dot [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Dot</strong> -- Returns the dot product of the current segment and the provided parameter.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>Dot</strong>(v1 in &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a>)
             Return Number Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    v1 (T_Vector3D) - Another segment
  RETURNS
    The dot product of this and v1
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo310"></a>
<a name="T5fVECTOR3D2fEquals"></a>
<h2>23.14.  T_VECTOR3D/Equals [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Equals</strong> -- Compares two vectors for equality (in magnitude and direction)
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>Equals</strong>(p_vector3D IN T_Vector3D)
             Return Integer Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_vector3D (t_vector3D) - Second vector for comparison with SELF (underlying)
  RETURNS
    True(1)/False(0) -- 1 if True, 0 if False.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo311"></a>
<a name="T5fVECTOR3D2fMagnitude"></a>
<h2>23.15.  T_VECTOR3D/Magnitude [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Magnitude</strong> -- Returns the <strong>Magnitude</strong> of this segment.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre> Member Function <strong>Magnitude</strong>
          Return Number Deterministic,
  RETURNS
    The <strong>Magnitude</strong> of this segment
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo312"></a>
<a name="T5fVECTOR3D2fMagnitudeSquared"></a>
<h2>23.16.  T_VECTOR3D/MagnitudeSquared [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>MagnitudeSquared</strong> -- Returns the squared <a href="#robo311">Magnitude</a> of this segment.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>MagnitudeSquared</strong>
             Return Number Deterministic,
  RETURNS
    The squared <a href="#robo311">Magnitude</a> of this segment
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo313"></a>
<a name="T5fVECTOR3D2fMultiply"></a>
<h2>23.17.  T_VECTOR3D/Multiply [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Multiply</strong> -- Returns the components of the specified segment multiplied by the specified scalar.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>Multiply</strong>(p_scalar in Number)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_scalar (number) - The scalar value.
  RETURNS
    The components of the value1 multiplied by the p_scalar
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo314"></a>
<a name="T5fVECTOR3D2fNegate"></a>
<h2>23.18.  T_VECTOR3D/Negate [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Negate</strong> -- Computes a segment with the same magnitude as SELF but pointing to the opposite direction.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>Negate</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,
  RETURNS
    A segment with the same magnitude as SELF but pointing to the opposite
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo315"></a>
<a name="T5fVECTOR3D2fNormalize"></a>
<h2>23.19.  T_VECTOR3D/Normalize [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Normalize</strong> -- Normalizes the current segment returning a new one.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>Normalize</strong>
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo316"></a>
<a name="T5fVECTOR3D2fNormalize28t5fvector3d29"></a>
<h2>23.20.  T_VECTOR3D/Normalize(t_vector3d) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <a href="#robo315">Normalize</a> -- Creates a new segment that is the value of this segment to the normalization of segment v1.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <a href="#robo315">Normalize</a>(v1 in &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> )
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    v1 (T_Vector3D) - param v1 the un-normalized segment
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo317"></a>
<a name="T5fVECTOR3D2fProjectOnLine28t5fsegment29"></a>
<h2>23.21.  T_VECTOR3D/ProjectOnLine(t_segment) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ProjectOnLine -- Computes the current segment projected on p_line.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ProjectOnLine(p_line in &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_line (T_Segment) - Second segment
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo318"></a>
<a name="T5fVECTOR3D2fProjectOnLine28t5fvector20t5fvector29"></a>
<h2>23.22.  T_VECTOR3D/ProjectOnLine(t_vector t_vector) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    ProjectOnLine -- Computes the current segment projected on the specified line.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function ProjectOnLine(pointOnLine1 in &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a>, 
                                  pointOnLine2 in &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a>)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    Second segment
    pointOnLine1 (T_Vector3D) - A point on the line.
    pointOnLine2 (T_Vector3D) - A point on the line.
  RETURNS
    Value projected on the line defined by pointOnLine1 pointOnLine2.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo319"></a>
<a name="T5fVECTOR3D2fSubtract"></a>
<h2>23.23.  T_VECTOR3D/Subtract [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Subtract</strong> -- Sets the value of this segment to the segment difference of itself and segment (this = this - segment).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>Subtract</strong>(v1 in &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a>)
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    v1 (T_Vector3D) - Second segment
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo320"></a>
<a name="T5fVECTOR3D2fZero"></a>
<h2>23.24.  T_VECTOR3D/Zero [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo32">T_VECTOR3D</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>Zero</strong> -- Sets all the values in this segment to zero.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function zero
             Return &amp;&amp;INSTALL_SCHEMA..<a href="#robo32">T_VECTOR3D</a> Deterministic,
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - January 2011 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo33"></a>
<a name="OBJECT20TYPE2fT5fVERTEX"></a>
<h1>24.  OBJECT TYPE/T_VERTEX [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_VERTEX</strong> -- Represents a single coordinate object with variable ordinate dimensions.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that represents a single vertex/coordinate of a geometry object.
    Includes Methods on that type.
  NOTE
    T_Vertex is provided for two reasons:
      1. The mdsys constructor for MDSYS.VERTEX_TYPE has changed with each version, making code stability an issue.
      2. This object allows for the provision of specific methods on a single vertex.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo321"></a>
<a name="T5fVERTEX2fATTRIBUTES28T5fVERTEX29"></a>
<h2>24.1.  T_VERTEX/ATTRIBUTES(T_VERTEX) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    X         -- X Ordinate
    Y         -- Y Ordinate
    Z         -- Z Ordinate
    W         -- W Ordinate (Normally Measure)
    ID        -- Identifier
    sdo_gtype -- Geometry Type of Vertex
    sdo_srid  -- Spatial Reference ID of Vertex
    deleted   -- Flag for use in collections like varrays or T_Vertices
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  x         number<span class="sign">,</span>
  y         number<span class="sign">,</span>
  z         number<span class="sign">,</span>
  w         number<span class="sign">,</span>
  id        integer<span class="sign">,</span>
  sdo_gtype integer<span class="sign">,</span>
  sdo_srid  integer<span class="sign">,</span>
  deleted   integer<span class="sign">,</span>
</pre>
<a name="robo322"></a>
<a name="T5fVERTEX2fCONSTRUCTORS28T5fVERTEX29"></a>
<h2>24.2.  T_VERTEX/CONSTRUCTORS(T_VERTEX) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    A collection of <a href="#robo33">T_VERTEX</a> Constructors.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  Constructor Function T_Vertex<span class="sign">(</span> SELF IN OUT NOCOPY T_Vertex<span class="sign">)</span>
       Return Self As Result<span class="sign">,</span>

  Constructor Function T_Vertex<span class="sign">(</span> SELF    IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_vertex In <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_vertex <span class="sign">)</span>
       Return Self As Result<span class="sign">,</span>

  Constructor Function T_Vertex<span class="sign">(</span> SELF    IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_point in mdsys<span class="sign">.</span>sdo_geometry <span class="sign">)</span>
       Return Self As Result<span class="sign">,</span>

 <span class="comment">/*  EXAMPLE
  *    SELECT t.id,
  *           TRIM(BOTH ' ' FROM t.token) as token,
  *           <a href="#robo33">T_VERTEX</a>(p_coord_string =&gt; TRIM(BOTH ' ' FROM t.token),
  *                    p_id           =&gt; t.id,
  *                    p_sdo_srid     =&gt; null)
  *             .<a href="#robo326">ST_AsText</a>() as vertex
  *      FROM table(tools.tokenizer('1.1 -2.1 3.47, 10 0 2,10 5 3,10 10 4,5 10 5,5 5 6',',')) t
  *    ORDER BY t.id;
  *
  *    ID TOKEN         VERTEX
  *    -- ------------- ----------------------------------------------------------
  *     1 1.1 -2.1 3.47 T_Vertex(X=1.1,Y=-2.1,Z=3.47,W=0.0,ID=1,GT=3001,SRID=NULL)
  *     2 10 0 2        T_Vertex(X=10.0,Y=0.0,Z=2.0,W=0.0,ID=2,GT=3001,SRID=NULL)
  *     3 10 5 3        T_Vertex(X=10.0,Y=5.0,Z=3.0,W=0.0,ID=3,GT=3001,SRID=NULL)
  *     4 10 10 4       T_Vertex(X=10.0,Y=10.0,Z=4.0,W=0.0,ID=4,GT=3001,SRID=NULL)
  *     5 5 10 5        T_Vertex(X=5.0,Y=10.0,Z=5.0,W=0.0,ID=5,GT=3001,SRID=NULL)
  *     6 5 5 6         T_Vertex(X=5.0,Y=5.0,Z=6.0,W=0.0,ID=6,GT=3001,SRID=NULL)
  *
  *     6 rows selected
  *
  *    SELECT t.id,
  *             TRIM(BOTH ' ' FROM t.token) as token,
  *             <a href="#robo33">T_VERTEX</a>(TRIM(BOTH ' ' FROM t.token),
  *                      t.id,
  *                      null)
  *               .<a href="#robo326">ST_AsText</a>() as vertex
  *        FROM table(tools.tokenizer(
  *                     '1.1 -2.1 3.47 1.0,10 0 2 2.1,10 5 3 3,10 10 4 4.1,5 10 5 5.1,5 5 6 6.1',',')) t
  *      ORDER BY t.id;
  *
  *            ID TOKEN             VERTEX
  *    ---------- ----------------- ------------------------------------------------------------
  *             1 1.1 -2.1 3.47 1.0 T_Vertex(X=1.1,Y=-2.1,Z=3.47,W=1.0,ID=1,GT=4401,SRID=NULL)
  *             2 10 0 2 2.1        T_Vertex(X=10.0,Y=0.0,Z=2.0,W=2.1,ID=2,GT=4401,SRID=NULL)
  *             3 10 5 3 3          T_Vertex(X=10.0,Y=5.0,Z=3.0,W=3.0,ID=3,GT=4401,SRID=NULL)
  *             4 10 10 4 4.1       T_Vertex(X=10.0,Y=10.0,Z=4.0,W=4.1,ID=4,GT=4401,SRID=NULL)
  *             5 5 10 5 5.1        T_Vertex(X=5.0,Y=10.0,Z=5.0,W=5.1,ID=5,GT=4401,SRID=NULL)
  *             6 5 5 6 6.1         T_Vertex(X=5.0,Y=5.0,Z=6.0,W=6.1,ID=6,GT=4401,SRID=NULL)
  *
  *     6 rows selected
  */</span>
  Constructor Function T_Vertex<span class="sign">(</span> SELF           IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_coord_string in varchar2<span class="sign">,</span>
                                 p_id           in integer default 1<span class="sign">,</span>
                                 p_sdo_srid     in integer default null<span class="sign">)</span>
       Return Self as result<span class="sign">,</span>

  Constructor Function T_Vertex<span class="sign">(</span> SELF        IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_id        in integer<span class="sign">,</span>
                                 p_sdo_gtype in integer default 2001<span class="sign">,</span>
                                 p_sdo_srid  in integer default NULL<span class="sign">)</span>
       Return Self as result<span class="sign">,</span>

  Constructor Function T_Vertex<span class="sign">(</span> SELF        IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_x         In number<span class="sign">,</span>
                                 p_y         In number<span class="sign">)</span>
       Return Self As Result<span class="sign">,</span>

  Constructor Function T_Vertex<span class="sign">(</span> SELF        IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_x         In number<span class="sign">,</span>
                                 p_y         In number<span class="sign">,</span>
                                 p_id        In integer<span class="sign">,</span>
                                 p_sdo_gtype in integer<span class="sign">,</span>
                                 p_sdo_srid  in integer<span class="sign">)</span>
       Return Self As Result<span class="sign">,</span>

  Constructor Function T_Vertex<span class="sign">(</span> SELF        IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_x         In number<span class="sign">,</span>
                                 p_y         In number<span class="sign">,</span>
                                 p_z         In number<span class="sign">,</span>
                                 p_id        In integer<span class="sign">,</span>
                                 p_sdo_gtype in integer<span class="sign">,</span>
                                 p_sdo_srid  in integer<span class="sign">)</span>
       Return Self As Result<span class="sign">,</span>

  Constructor Function T_Vertex<span class="sign">(</span> SELF        IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_x         In number<span class="sign">,</span>
                                 p_y         In number<span class="sign">,</span>
                                 p_z         In number<span class="sign">,</span>
                                 p_w         In number<span class="sign">,</span>
                                 p_id        In integer<span class="sign">,</span>
                                 p_sdo_gtype in integer<span class="sign">,</span>
                                 p_sdo_srid  in integer<span class="sign">)</span>
       Return Self As Result<span class="sign">,</span>

  Constructor Function T_Vertex<span class="sign">(</span> SELF        IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_vertex    In mdsys<span class="sign">.</span>vertex_type<span class="sign">,</span>
                                 p_sdo_gtype in integer default 2001<span class="sign">,</span>
                                 p_sdo_srid  in integer default null<span class="sign">)</span>
       Return Self As Result<span class="sign">,</span>

  Constructor Function T_Vertex<span class="sign">(</span> SELF        IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_vertex    In mdsys<span class="sign">.</span>vertex_type<span class="sign">,</span>
                                 p_id        In integer<span class="sign">,</span>
                                 p_sdo_gtype in integer default 2001<span class="sign">,</span>
                                 p_sdo_srid  in integer default null<span class="sign">)</span>
       Return Self As Result<span class="sign">,</span>

  Constructor Function T_Vertex<span class="sign">(</span> SELF        IN OUT NOCOPY T_Vertex<span class="sign">,</span>
                                 p_point     in mdsys<span class="sign">.</span>sdo_point_type<span class="sign">,</span>
                                 p_sdo_gtype in integer default 2001<span class="sign">,</span>
                                 p_sdo_srid  in integer default null<span class="sign">)</span>
       Return Self as result<span class="sign">,</span>
</pre>
<a name="robo323"></a>
<a name="T5fVERTEX2fINSPECTORS28T5fVERTEX29"></a>
<h2>24.3.  T_VERTEX/INSPECTORS(T_VERTEX) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    A collection of <a href="#robo33">T_VERTEX</a> variable inspectors.
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    ST_X, ST_Y, ST_Z, ST_W return the relevant (z,y,z,w) underlying ordinate property values.
    ST_ID returns the value given to the ID property.
    <a href="#robo290">ST_SRID</a> returns the value given to the sdo_srid property.
    ST_Sdo_Gtype returns the value given to the sdo_gtype property (see also <a href="#robo242">ST_Dims</a>()).
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  Member Function ST_X          Return Number  Deterministic<span class="sign">,</span>
  Member Function ST_Y          Return Number  Deterministic<span class="sign">,</span>
  Member Function ST_Z          Return Number  Deterministic<span class="sign">,</span>
  Member Function ST_W          Return Number  Deterministic<span class="sign">,</span>
  Member Function ST_M          Return Number  Deterministic<span class="sign">,</span>
  Member Function ST_ID         Return integer Deterministic<span class="sign">,</span>
  Member Function <a href="#robo290">ST_SRID</a>       Return integer Deterministic<span class="sign">,</span>
  Member Function ST_SDO_GTYPE  Return integer Deterministic<span class="sign">,</span>
  Member Function ST_IsDeleted  Return integer Deterministic<span class="sign">,</span>
  Member Function ST_IsMeasured Return integer Deterministic<span class="sign">,</span>
</pre>
<a name="robo324"></a>
<a name="T5fVERTEX2fOrderBy"></a>
<h2>24.4.  T_VERTEX/OrderBy [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>OrderBy</strong> -- Implements ordering function that can be used to sort a collection of T_Vertex objects.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Order Member Function <strong>OrderBy</strong>(p_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex)
                   Return Number deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This order by function allows a collection of T_Vertex objects to be sorted.
    For example in the ORDER BY clause of a SELECT statement. Comparison uses all ordinates: X, Y, Z and W.
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_vertex (<a href="#robo33">T_VERTEX</a>) - Order pair
</pre>
<p class="item_name">RESULT</p>
<pre>    order value (NUMBER) - -1 less than; 0 equal; 1 greater than
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    With vertices as (
    select t_vertex(p_x=&gt;dbms_random.value(0,level),
                    p_y=&gt;dbms_random.value(0,level),
                    p_id=&gt;1,
                    p_sdo_gtype=&gt;2001,
                    p_sdo_srid=&gt;null) as vertex
      from dual
      connect by level &lt; 10
    )
    select a.vertex.st_astext(2) as vertex
      from vertices a
      order by a.vertex;

    VERTEX
    -------------------------------------------------------------
    T_Vertex(X=.29,Y=1.61,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
    T_Vertex(X=.32,Y=1.39,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
    T_Vertex(X=.64,Y=.06,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
    T_Vertex(X=1.76,Y=2.76,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
    T_Vertex(X=2.06,Y=5.36,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
    T_Vertex(X=2.56,Y=8.99,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
    T_Vertex(X=3.08,Y=.63,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
    T_Vertex(X=4.17,Y=.57,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)
    T_Vertex(X=6.55,Y=1.18,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)

     9 rows selected
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo325"></a>
<a name="T5fVERTEX2fST5fAsCoordString"></a>
<h2>24.5.  T_VERTEX/ST_AsCoordString [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AsCoordString</strong> -- Returns text Description of Vertex
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AsCoordString</strong>(p_separator    in varchar2 Default ' ',
                                     p_format_model in varchar2 default 'TM9')
             Return Varchar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns textual description of the vertex's ordinates only.
    Useful for working with WKT.
    If rounding of ordinates is required first use <a href="#robo177">ST_Round</a>.
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_separator    (varchar2) -- Separator between ordinates.
    p_format_model (varchar2) -- Oracle Number Format Model (see documentation)
                                 default 'TM9')
</pre>
<p class="item_name">RESULT</p>
<pre>    Coordinate String (varchar2)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Vertex(
             sdo_geometry('POINT(0 0)',NULL)
           )
           .<a href="#robo326">ST_AsText</a>() as pVertex,
           T_Vertex(
             sdo_geometry('POINT(147.5 -42.5)',4283)
           )
           .<a href="#robo326">ST_AsText</a>() as gVertex
      from dual;

    PVERTEX                                                   GVERTEX
    --------------------------------------------------------- -----------------------------------------------------------------
    T_Vertex(X=0,Y=0,Z=NULL,W=NULL,ID=NULL,GT=2001,SRID=NULL) T_Vertex(X=147.5,Y=-42.5,Z=NULL,W=NULL,ID=NULL,GT=2001,SRID=4283)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo326"></a>
<a name="T5fVERTEX2fST5fAsText"></a>
<h2>24.6.  T_VERTEX/ST_AsText [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_AsText</strong> -- Returns text Description of Vertex
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_AsText</strong>(p_format_model in varchar2 default 'TM9')
             Return Varchar2 Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns textual description of vertex.
    If rounding of ordinates is required, first use <a href="#robo177">ST_Round</a>.
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_format_model (varchar2) -- Oracle Number Format Model (see documentation)
                                 default 'TM9') -- was 'TM9'
</pre>
<p class="item_name">RESULT</p>
<pre>    Vertex Representation (varchar2)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Vertex(
             sdo_geometry('POINT(0 0)',NULL)
           )
           .<strong>ST_AsText</strong>() as pVertex,
           T_Vertex(
             sdo_geometry('POINT(147.5 -42.5)',4283)
           )
           .<strong>ST_AsText</strong>() as gVertex
      from dual;

    PVERTEX                                                   GVERTEX
    --------------------------------------------------------- -----------------------------------------------------------------
    T_Vertex(X=0,Y=0,Z=NULL,W=NULL,ID=NULL,GT=2001,SRID=NULL) T_Vertex(X=147.5,Y=-42.5,Z=NULL,W=NULL,ID=NULL,GT=2001,SRID=4283)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo327"></a>
<a name="T5fVERTEX2fST5fBearing"></a>
<h2>24.7.  T_VERTEX/ST_Bearing [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Bearing</strong> -- Returns bearing from SELF to supplied T_Vertex.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Bearing</strong>(p_vertex    in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                               p_projected in integer default 1,
                               p_normalize in integer default 1 )
             Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes a bearing from the current object point (SELF) to the supplied T_Vertex.
    Result is in degrees.
    Use static function <a href="#robo4">TOOLS</a>.<a href="#robo12">ST_Degrees</a> to return as a whole circle bearing.
    Geodetic calculations are used if p_projected = 0, otherwise planar calculations are used.
    If p_normlize is true (1), the resulting bearing is normalised to a value between 0.360.
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_vertex (<a href="#robo33">T_VERTEX</a>)   -- A Vertex to which a bearing is calculated.
    p_projected (integer) -- Usually called from <a href="#robo24">T_GEOMETRY</a> with SELF.projected.
                             If either 1 for Projected/Planar and 0 for Geographic/Geodetic.
                             If NULL, <a href="#robo4">TOOLS</a>.<a href="#robo353">ST_GetSridType</a> is called.
    p_normalize (integer) -- If 1 computed bearing is normalized to a value between 0..360 degrees.
</pre>
<p class="item_name">RESULT</p>
<pre>    Bearing (Number) -- Bearing in Degrees.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Simple bearing for projected data
    select round(
             T_Vertex(
             sdo_geometry('POINT(0 0)',NULL)
           )
           .<strong>ST_Bearing</strong>(
               T_Vertex(
                 sdo_geometry('POINT(10 10)',NULL)
               ),
               p_projected=&gt;1,
               p_normalize=&gt;1
           ),8) as bearing
      from dual;

    BEARING
    -------
         45

    -- Simple geodetic bearing (2D)
    select  <a href="#robo0">COGO</a>.<a href="#robo7">DD2DMS</a>(
             T_Vertex(
               sdo_geometry('POINT(147.5 -42.5)',4283)
             )
             .<strong>ST_Bearing</strong>(
                 T_Vertex(
                   sdo_geometry('POINT(147.6 -42.5)',4283)
                 ),
                 p_projected=&gt;0,
                 p_normalize=&gt;1
             )
           ) as bearing
      from dual;

    BEARING
    -------------
    90°02'01.606"
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo12">ST_Degrees</a>.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo328"></a>
<a name="T5fVERTEX2fST5fDims"></a>
<h2>24.8.  T_VERTEX/ST_Dims [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Dims</strong> -- Returns number of ordinate dimensions
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Dims</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (2XXX etc) and extracts coordinate dimensions.
    If SDO_GTYPE is null, examines ordinates eg XY not null, Z null -&gt; 2.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 2 if data 2D; 3 if 3D; 4 if 4D
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_vertex().<strong>ST_Dims</strong>() as eDims,
           t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 0.0,
             p_y  =&gt; 0.0,
             p_z  =&gt; 0.0,
             p_sdo_gtype =&gt; 3001,
             p_sdo_srid  =&gt; NULL
           )
           .<strong>ST_Dims</strong>() as dims
      from dual;

    EDIMS DIMS
    ----- ----
        2    3
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo329"></a>
<a name="T5fVERTEX2fST5fDistance"></a>
<h2>24.9.  T_VERTEX/ST_Distance [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Distance</strong> -- Returns distance from current vertex (SELF) to supplied T_Vertex.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Distance</strong>(p_vertex    in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                                p_tolerance in number   default 0.05,
                                p_unit      in varchar2 default NULL)
             Return Number Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes a distance from the current object point (SELF) to the supplied T_Vertex.
    Result is in the distance units of the SDO_SRID, or in p_units where supplied.
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_vertex  (<a href="#robo33">T_VERTEX</a>) - A Vertex to which a bearing is calculated.
    p_tolerance (NUMBER) - sdo_tolerance for use with sdo_geom.sdo_distance.
    p_unit    (VARCHAR2) - Oracle Unit of Measure eg unit=M.
</pre>
<p class="item_name">RESULT</p>
<pre>    distance (Number) -- Distance in SRID unit of measure or in supplied units (p_unit)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Planar in Meters
    select Round(
             T_Vertex(
               sdo_geometry('POINT(0 0)',NULL)
             )
             .<strong>ST_Distance</strong>(
                 p_vertex   =&gt; T_Vertex(
                                 sdo_geometry('POINT(10 10)',NULL)
                               ),
                 p_tolerance=&gt; 0.05
             ),
             3
           ) as distance
      from dual;

    DISTANCE
    ----------
        14.142

    -- Geodetic In Kilometers
    select Round(
             T_Vertex(
               sdo_geometry('POINT(147.5 -42.5)',4283)
             )
             .<strong>ST_Distance</strong>(
                 p_Vertex   =&gt; T_Vertex(
                                 sdo_geometry('POINT(147.6 -42.5)',4283)
                               ),
                 p_tolerance=&gt; 0.05,
                 p_unit     =&gt; 'unit=KM'
             ),
             4
           ) as distance
      from dual;

      DISTANCE
    ----------
        8.2199
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo330"></a>
<a name="T5fVERTEX2fST5fEquals"></a>
<h2>24.10.  T_VERTEX/ST_Equals [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Equals</strong> -- Compares current object (SELF) with supplied vertex.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Equals</strong>(p_vertex    in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                              p_dPrecision in number default 3)
             Return Integer deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function compares current object vertex (SELF) to supplied vertex (p_vertex).
    If all ordinates (to supplied precision) are equal, returns True (1) else False (0).
    SDO_GTYPE, SDO_SRID and ID are not compared.
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_vertex    (<a href="#robo33">T_VERTEX</a>) - Vertex that is to be compared to current object (SELF).
    p_dPrecision (INTEGER) - Decimal digits of precision for all ordinates.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) - 1 is True (Equal); 0 is False.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t.IntValue as precision,
           T_Vertex(
             p_x        =&gt; 12847447.54578,
             p_y        =&gt; 4374842.3425,
             p_z        =&gt; 3.2746,
             p_id       =&gt; 1,
             p_sdo_gtype=&gt; 3001,
             p_sdo_srid =&gt; NULL
           )
           .<strong>ST_Equals</strong>(
               T_Vertex(
                 p_x        =&gt; 12847447.546,
                 p_y        =&gt; 4374842.34,
                 p_z        =&gt; 3.2746,
                 p_id       =&gt; 1,
                 p_sdo_gtype=&gt; 3001,
                 p_sdo_srid =&gt; NULL
               ),
               t.IntValue
           ) as vEquals
      from table(<a href="#robo4">TOOLS</a>.generate_series(1,3,1)) t;

    PRECISION VEQUALS
    --------- -------
            1       1
            2       1
            3       0
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo331"></a>
<a name="T5fVERTEX2fST5fFromBearingAndDistance"></a>
<h2>24.11.  T_VERTEX/ST_FromBearingAndDistance [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_FromBearingAndDistance</strong> -- Returns new T_Vertex given bearing and distance.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_FromBearingAndDistance</strong>(p_bearing   in number,
                                              p_distance  in number,
                                              p_projected in integer default 1)
             Return T_Vertex Deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes a new <a href="#robo33">T_VERTEX</a> computed from current object point (SELF)
    the supplied bearing and distance.
    Geodetic calculations are used if p_projected = 0, otherwise planar calculations are used.
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_bearing    (NUMBER) -- A whole circle bearing in radians.
    p_distance   (NUMBER) -- Distance expressed in Oracle Unit of Measure eg METER.
    p_projected (integer) -- Usually called from <a href="#robo24">T_GEOMETRY</a> with SELF.projected.
                             If either 1 for Projected/Planar and 0 for Geographic/Geodetic.
                             If NULL, <a href="#robo4">TOOLS</a>.<a href="#robo353">ST_GetSridType</a> is called.
</pre>
<p class="item_name">RESULT</p>
<pre>    vertexx (<a href="#robo33">T_VERTEX</a>) -- New vertex computed using bearing and distance from current object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Planar in Meters
    select T_Vertex(
               sdo_geometry('POINT(0 0)',NULL)
             )
             .<strong>ST_FromBearingAndDistance</strong>(
                p_bearing   =&gt; 45.0,
                p_distance  =&gt; 14.142,
                p_projected =&gt; 1
             )
             .<a href="#robo177">ST_Round</a>(3)
             .<a href="#robo326">ST_AsText</a>() as vertex
      from dual;

    VERTEX
    --------------------------------------------------------
    T_Vertex(X=10,Y=10,Z=NULL,W=NULL,ID=1,GT=2001,SRID=NULL)

    -- Geodetic with distance in meters
    select T_Vertex(
             sdo_geometry('POINT(147.5 -42.5)',4283)
           )
           .<strong>ST_FromBearingAndDistance</strong> (
               p_bearing   =&gt; <a href="#robo0">COGO</a>.<a href="#robo9">DMS2DD</a>('90°02''01.606"'),
               p_distance  =&gt; 8219.9,
               p_projected =&gt; 0
           )
           .<a href="#robo177">ST_Round</a>(6)
           .<a href="#robo326">ST_AsText</a>() as vertex
      from dual;

    VERTEX
    -----------------------------------------------------------------
    T_Vertex(X=147.6,Y=-42.5,Z=NULL,W=NULL,ID=NULL,GT=2001,SRID=4283)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo332"></a>
<a name="T5fVERTEX2fST5fHasM"></a>
<h2>24.12.  T_VERTEX/ST_HasM [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_HasM</strong> -- Tests vertex to see if coordinates include a measure.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_HasM</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (DLNN etc) to see if sdo_gtype has measure ordinate eg 3302 not 3002.
    If SDO_GTYPE is null, examines coordinates to see if W ordinate is not null.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 1 is measure ordinate exists, 0 otherwise.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_vertex().<a href="#robo95">ST_hasM</a>() as eM,
           t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 0.0,
             p_y  =&gt; 0.0,
             p_sdo_gtype =&gt; 2001,
             p_sdo_srid  =&gt; NULL
           )
           .<a href="#robo95">ST_hasM</a>() as hasM2,
           t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 0.0,
             p_y  =&gt; 0.0,
             p_z  =&gt; 0.0,
             p_sdo_gtype =&gt; 3301,
             p_sdo_srid  =&gt; NULL
           )
           .<a href="#robo95">ST_hasM</a>() as hasM3
      from dual;

    EM HASM2 HASM3
    -- ----- -----
     0     0     1
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo333"></a>
<a name="T5fVERTEX2fST5fhasZ"></a>
<h2>24.13.  T_VERTEX/ST_hasZ [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_hasZ</strong> -- Tests vertex to see if coordinates include a Z ordinate.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_hasZ</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (DLNN etc). If D position is 2 then vertex does not have a Z ordinate.
    If D position is 3 and measure ordinate position (L) is 0 then vertex has Z ordinate.
    If D position is 3 and measure ordinate position (L) is not equal to 0 then vertex does not have a Z ordinate.
    If D position is 4 and measure ordinate position (L) is equal to 0 or equal to D (4) then vertex has a Z ordinate.
    If D position is 4 and measure ordinate position (L) is equal to 3 then vertex does not have a Z ordinate.
    If SDO_GTYPE is null, examines Z and W ordinates of the vertex's coordinates to determine if vertex has Z ordinate.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 1 is has Z ordinate, 0 otherwise.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_vertex().<strong>ST_hasZ</strong>() as eZ,
           t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 0.0,
             p_y  =&gt; 0.0,
             p_sdo_gtype =&gt; 2001,
             p_sdo_srid  =&gt; NULL
           )
           .<a href="#robo242">ST_Dims</a>() as dims2,
           t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 0.0,
             p_y  =&gt; 0.0,
             p_z  =&gt; 0.0,
             p_sdo_gtype =&gt; 3001,
             p_sdo_srid  =&gt; NULL
           )
           .<a href="#robo242">ST_Dims</a>() as dims3
      from dual;

            EZ      DIMS2      DIMS3
    ---------- ---------- ----------
             0          2          3
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo334"></a>
<a name="T5fVERTEX2fST5fisEmpty"></a>
<h2>24.14.  T_VERTEX/ST_isEmpty [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_isEmpty</strong> -- Checks if Vertex data exists or not.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_isEmpty</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If vertex object data are not null returns 1(True) else 0 (False).
    cf "POINT EMPTY" WKT
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- 1 if vertex has not values; 0 if has values
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_vertex().<strong>ST_isEmpty</strong>() as isEmpty,
           t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 0.0,
             p_y  =&gt; 0.0,
             p_sdo_gtype =&gt; 2001,
             p_sdo_srid  =&gt; NULL
           )
           .<strong>ST_isEmpty</strong>() as vIsEmpty
      from dual;

    ISEMPTY VISEMPTY
    ------- --------
          1        0
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo335"></a>
<a name="T5fVERTEX2fST5fLrs5fDim"></a>
<h2>24.15.  T_VERTEX/ST_Lrs_Dim [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Lrs_Dim</strong> -- Tests vertex to see if coordinates include a measure ordinate and returns measure ordinate's position.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Lrs_Dim</strong>
             Return Integer Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Examines SDO_GTYPE (DLNN etc) measure ordinate position (L) and returns it.
    If SDO_GTYPE is null, examines coordinates to see if W ordinate is not null.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) -- L from DLNN.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select t_vertex().<a href="#robo266">ST_LRS_Dim</a>() as eLrsDim,
           t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 0.0,
             p_y  =&gt; 0.0,
             p_sdo_gtype =&gt; 2001,
             p_sdo_srid  =&gt; NULL
           )
           .<a href="#robo266">ST_LRS_Dim</a>() as lrsDim2,
           t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 0.0,
             p_y  =&gt; 0.0,
             p_z  =&gt; 0.0,
             p_sdo_gtype =&gt; 3301,
             p_sdo_srid  =&gt; NULL
           )
           .<a href="#robo266">ST_LRS_Dim</a>() as lrsDim3
      from dual;

    ELRSDIM LRSDIM2 LRSDIM3
    ------- ------- -------
          0       0       3
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo336"></a>
<a name="T5fVERTEX2fST5fLRS5fSet5fMeasure"></a>
<h2>24.16.  T_VERTEX/ST_LRS_Set_Measure [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_LRS_Set_Measure</strong> -- Sets measure attribute, adjusts sdo_gtype.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_LRS_Set_Measure</strong>(p_measure in number)
             Return T_Vertex Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function sets the W or Z ordinate the the supplied measure value
    depending on the dimensionality of the vertex and its LRS dimension (see <a href="#robo266">ST_LRS_Dim</a>()).
    Can change dimensionality of underlying T_Vertex object for example if already 3D,
    with Z, but unmeasured: result will be vertex with 4401 sdo_gtype.
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_measure (number) - New Measure value.
</pre>
<p class="item_name">RESULT</p>
<pre>    vertex (<a href="#robo33">T_VERTEX</a>)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- <strong>ST_LRS_Set_Measure</strong>
    select t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 0.0,
             p_y  =&gt; 0.0,
             p_sdo_gtype =&gt; 2001,
             p_sdo_srid  =&gt; NULL
           )
           .<strong>ST_LRS_Set_Measure</strong>(2.1)
           .<a href="#robo326">ST_AsText</a>() as new3301Vertex,
           t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 0.0,
             p_y  =&gt; 0.0,
             p_z  =&gt; 0.0,
             p_sdo_gtype =&gt; 3001,
             p_sdo_srid  =&gt; NULL
           )
           .<strong>ST_LRS_Set_Measure</strong>(1.2)
           .<a href="#robo326">ST_AsText</a>() as new4401Vertex
      from dual;

    NEW3301VERTEX                                         NEW4401VERTEX
    ----------------------------------------------------- --------------------------------------------------
    T_Vertex(X=0,Y=0,Z=2.1,W=NULL,ID=0,GT=3301,SRID=NULL) T_Vertex(X=0,Y=0,Z=0,W=1.2,ID=0,GT=4401,SRID=NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo337"></a>
<a name="T5fVERTEX2fST5fRound"></a>
<h2>24.17.  T_VERTEX/ST_Round [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Round</strong> -- Rounds X,Y,Z and m(w) ordinates to passed in precision.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Round</strong>(p_dec_places_x in integer default 8,
                             p_dec_places_y in integer default NULL,
                             p_dec_places_z in integer default 3,
                             p_dec_places_m in integer default 3)
             Return T_Vertex Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Applies relevant decimal digits of precision value to ordinate.
    For example:
      SELF.x := ROUND(SELF.x,p_dec_places_x);
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_dec_places_x (integer) - value applied to x Ordinate.
    p_dec_places_y (integer) - value applied to y Ordinate.
    p_dec_places_z (integer) - value applied to z Ordinate.
    p_dec_places_m (integer) - value applied to m Ordinate.
</pre>
<p class="item_name">RESULT</p>
<pre>    vertex (<a href="#robo33">T_VERTEX</a>)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Geodetic
    select T_Vertex(
             p_x        =&gt; 147.5489578,
             p_y        =&gt; -42.53625,
             p_id       =&gt; 1,
             p_sdo_gtype=&gt; 2001,
             p_sdo_srid =&gt; 4283
           )
           .<strong>ST_Round</strong>(6,6)
           .<a href="#robo326">ST_AsText</a>() as vertex
     from dual;

    VERTEX
    -----------------------------------------------------------------------
    T_Vertex(X=147.548958,Y=-42.53625,Z=NULL,W=NULL,ID=1,GT=2001,SRID=4283)

    -- Planar
    select T_Vertex(
             p_x        =&gt; 12847447.54578,
             p_y        =&gt; 4374842.3425,
             p_z        =&gt; 3.2746,
             p_id       =&gt; 1,
             p_sdo_gtype=&gt; 3001,
             p_sdo_srid =&gt; NULL
           )
           .<strong>ST_Round</strong>(3,3,2)
           .<a href="#robo326">ST_AsText</a>() as vertex
     from dual;

    VERTEX
    ---------------------------------------------------------------------------
    T_Vertex(X=12847447.546,Y=4374842.343,Z=3.27,W=NULL,ID=1,GT=3001,SRID=NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo338"></a>
<a name="T5fVERTEX2fST5fSdoGeometry"></a>
<h2>24.18.  T_VERTEX/ST_SdoGeometry [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SdoGeometry</strong> -- Returns Vertex as a suitably encoded MDSYS.SDO_GEOMETRY object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SdoGeometry</strong>
             Return MDSYS.SDO_GEOMETRY Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The encoding of the returned SDO_GEOMETRY object depends on the dimension of the vertex
    supplied using p_dims or SELF.<a href="#robo242">ST_Dims</a>() if p_dims is null.
    This can be best seen in the source code from T_Vertex Type Body at the end of this documentation.
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_dims in integer default null - A dimension value that will override SELF.<a href="#robo242">ST_Dims</a>() eg return 2D from a 3D vertex.
</pre>
<p class="item_name">RESULT</p>
<pre>    point (MDSYS.SDO_GEOMETRY) -- Type of Point geometry depends on what the vertex represents.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    select T_Vertex(
             p_x        =&gt; 147.5489578,
             p_y        =&gt; -42.53625,
             p_id       =&gt; 1,
             p_sdo_gtype=&gt; 2001,
             p_sdo_srid =&gt; 4283
           )
           .<a href="#robo177">ST_Round</a>(6,6)
           .<strong>ST_SdoGeometry</strong>() as geom
     from dual;

    GEOM
    ---------------------------------------------------------------------------
    SDO_GEOMETRY(2001,4283,SDO_POINT_TYPE(147.548958,-42.53625,NULL),NULL,NULL)

    select T_Vertex(
             p_x        =&gt; 12847447.54578,
             p_y        =&gt; 4374842.3425,
             p_z        =&gt; 3.2746,
             p_id       =&gt; 1,
             p_sdo_gtype=&gt; 3001,
             p_sdo_srid =&gt; NULL
           )
           .<a href="#robo177">ST_Round</a>(3,3,2)
           .<strong>ST_SdoGeometry</strong>() as geom
     from dual;

    GEOM
    -------------------------------------------------------------------------------
    SDO_GEOMETRY(3001,NULL,SDO_POINT_TYPE(12847447.546,4374842.343,3.27),NULL,NULL)

    select T_Vertex(
             p_x        =&gt; 12847447.54578,
             p_y        =&gt; 4374842.3425,
             p_z        =&gt; 3.2746,
             p_w        =&gt; 0.002,
             p_id       =&gt; 1,
             p_sdo_gtype=&gt; 4401,
             p_sdo_srid =&gt; NULL
           )
           .<a href="#robo177">ST_Round</a>(3,3,2)
           .<strong>ST_SdoGeometry</strong>() as geom
     from dual;

    GEOM
    ---------------------------------------------------------------------------------------------------------------
    SDO_GEOMETRY(4401,NULL,NULL,SDO_ELEM_INFO_ARRAY(1,1,1),SDO_ORDINATE_ARRAY(12847447.546,4374842.343,3.27,0.002))
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  <span class="sign">-</span><span class="sign">-</span>   v_dims integer <span class="sign">:</span><span class="sign">=</span> NVL<span class="sign">(</span>p_dims<span class="sign">,</span>SELF<span class="sign">.</span><a href="#robo242">ST_Dims</a><span class="sign">(</span><span class="sign">)</span><span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span> Begin
  <span class="sign">-</span><span class="sign">-</span>   If <span class="sign">(</span> SELF<span class="sign">.</span>sdo_gtype is null <span class="sign">)</span> Then
  <span class="sign">-</span><span class="sign">-</span>      Return null<span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span>   ElsIf <span class="sign">(</span> SELF<span class="sign">.</span>sdo_gtype <span class="sign">=</span> 2001 or v_dims <span class="sign">=</span> 2<span class="sign">)</span> Then
  <span class="sign">-</span><span class="sign">-</span>      Return mdsys<span class="sign">.</span>sdo_geometry<span class="sign">(</span>SELF<span class="sign">.</span>sdo_gtype<span class="sign">,</span>SELF<span class="sign">.</span>sdo_SRID<span class="sign">,</span>mdsys<span class="sign">.</span>sdo_point_type<span class="sign">(</span>self<span class="sign">.</span>x<span class="sign">,</span>self<span class="sign">.</span>y<span class="sign">,</span>NULL<span class="sign">)</span><span class="sign">,</span>null<span class="sign">,</span>null<span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span>   ElsIf <span class="sign">(</span> v_dims <span class="sign">=</span> 3 <span class="sign">)</span> Then
  <span class="sign">-</span><span class="sign">-</span>      <span class="sign">-</span><span class="sign">-</span> 3001<span class="sign">,</span> 3301<span class="sign">,</span> 4001<span class="sign">,</span> 4301 and 4401 all stop with Z<span class="sign">.</span> GetVertices places M in 4401 in Z spot not W
  <span class="sign">-</span><span class="sign">-</span>      Return mdsys<span class="sign">.</span>sdo_geometry<span class="sign">(</span>SELF<span class="sign">.</span>sdo_gtype<span class="sign">,</span>SELF<span class="sign">.</span>sdo_SRID<span class="sign">,</span>mdsys<span class="sign">.</span>sdo_point_type<span class="sign">(</span>self<span class="sign">.</span>x<span class="sign">,</span>self<span class="sign">.</span>y<span class="sign">,</span>self<span class="sign">.</span>z<span class="sign">)</span><span class="sign">,</span>null<span class="sign">,</span>null<span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span>   ElsIf <span class="sign">(</span> v_dims <span class="sign">=</span> 4 <span class="sign">)</span> Then
  <span class="sign">-</span><span class="sign">-</span>      If <span class="sign">(</span> SELF<span class="sign">.</span><a href="#robo242">ST_Dims</a><span class="sign">(</span><span class="sign">)</span> <span class="sign">=</span> 3 <span class="sign">)</span> Then
  <span class="sign">-</span><span class="sign">-</span>         Return mdsys<span class="sign">.</span>sdo_geometry<span class="sign">(</span>SELF<span class="sign">.</span>sdo_gtype<span class="sign">,</span>SELF<span class="sign">.</span>sdo_SRID<span class="sign">,</span>mdsys<span class="sign">.</span>sdo_point_type<span class="sign">(</span>self<span class="sign">.</span>x<span class="sign">,</span>self<span class="sign">.</span>y<span class="sign">,</span>self<span class="sign">.</span>z<span class="sign">)</span><span class="sign">,</span>null<span class="sign">,</span>null<span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span>      Else
  <span class="sign">-</span><span class="sign">-</span>         Return mdsys<span class="sign">.</span>sdo_geometry<span class="sign">(</span>SELF<span class="sign">.</span>sdo_gtype<span class="sign">,</span>SELF<span class="sign">.</span>sdo_SRID<span class="sign">,</span>NULL<span class="sign">,</span>mdsys<span class="sign">.</span>sdo_elem_info_array<span class="sign">(</span>1<span class="sign">,</span>1<span class="sign">,</span>1<span class="sign">)</span><span class="sign">,</span>mdsys<span class="sign">.</span>sdo_ordinate_array<span class="sign">(</span>self<span class="sign">.</span>x<span class="sign">,</span>self<span class="sign">.</span>y<span class="sign">,</span>self<span class="sign">.</span>z<span class="sign">,</span>self<span class="sign">.</span>w<span class="sign">)</span><span class="sign">)</span><span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span>      End If<span class="sign">;</span>
  <span class="sign">-</span><span class="sign">-</span>   End If<span class="sign">;</span>
</pre>
<a name="robo339"></a>
<a name="T5fVERTEX2fST5fSdoPointType"></a>
<h2>24.19.  T_VERTEX/ST_SdoPointType [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SdoPointType</strong> -- Returns vertex X,Y and Z ordinates as a MDSYS.SDO_POINT_TYPE object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SdoPointType</strong>
             Return MDSYS.SDO_POINT_TYPE Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Constructs a MDSYS.SDO_POINT_TYPE object from the X, Y and Z ordinate variables of the type and returns it.
    If Vertex is 2D Z value will be NULL; if vertex dimension is &gt; 3 only the X Y and Z ordinates are returned.
</pre>
<p class="item_name">RESULT</p>
<pre>    vertex (MDSYS.SDO_POINT_TYPE) -- eg MDSYS.SDO_POINT_TYPE(SELF.ST_X,SELF.ST_Y,SELF.ST_Z);
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- ST_ToVertexType
    select t_vertex(
               p_id        =&gt; 0,
               p_x         =&gt; 1.0,
               p_y         =&gt; 2.0,
               p_z         =&gt; 3.0,
               p_w         =&gt; 4.0,
               p_sdo_gtype =&gt; 4401,
               p_sdo_srid  =&gt; NULL
             ).<strong>ST_SdoPointType</strong>()  as sdo_point_type
    from dual;

    SDO_POINT_TYPE
    ---------------------------
    MDSYS.SDO_POINT_TYPE(1,2,3)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo340"></a>
<a name="T5fVERTEX2fST5fSelf"></a>
<h2>24.20.  T_VERTEX/ST_Self [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_Self</strong> -- Handy method for use with TABLE(T_Vertices) to return element as T_Vertex object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_Self</strong>
             Return T_Vertex Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    When extracting vertices from a geometry into T_Vertex objects via a TABLE function call to <a href="#robo24">T_GEOMETRY</a>.T_Vertices()
    it is handy to have a method which allows access to the resulting <a href="#robo33">T_VERTEX</a> row as a single object.
    In a sense this method allows access similar to t.COLUMN_VALUE for atmoic datatype access from TABLE functions.
</pre>
<p class="item_name">RESULT</p>
<pre>    vertex (<a href="#robo33">T_VERTEX</a>) -- A single T_Vertex object.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    set serveroutput on
    BEGIN
      FOR rec IN (select v.id, v.<strong>ST_Self</strong>() as vertex
                    from table(t_geometry(
                                 SDO_GEOMETRY(2002,28355,NULL,
                                     SDO_ELEM_INFO_ARRAY(1,2,1),
                                     SDO_ORDINATE_ARRAY(252282.861,5526962.496,252282.861,5526882.82, 252315.91,5526905.639, 252287.189,5526942.228)) )
                               .<a href="#robo216">ST_Vertices</a>()) v
                  )
      LOOP
        dbms_output.put_line(rec.id || ' =&gt; ' || rec.vertex.<a href="#robo326">ST_AsText</a>());
      END LOOP;
    END;
    /
    anonymous block completed
    1 =&gt; T_Vertex(X=252282.9,Y=5526962.5,Z=NULL,W=NULL,ID=1,GT=2001,SRID=28355)
    2 =&gt; T_Vertex(X=252282.9,Y=5526882.8,Z=NULL,W=NULL,ID=2,GT=2001,SRID=28355)
    3 =&gt; T_Vertex(X=252315.9,Y=5526905.6,Z=NULL,W=NULL,ID=3,GT=2001,SRID=28355)
    4 =&gt; T_Vertex(X=252287.2,Y=5526942.2,Z=NULL,W=NULL,ID=4,GT=2001,SRID=28355)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - September 2018 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo341"></a>
<a name="T5fVERTEX2fST5fSetCoordinate"></a>
<h2>24.21.  T_VERTEX/ST_SetCoordinate [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SetCoordinate</strong> -- Is a procedure that sets a vertex's X,Y,Z and W(M) ordinates to passed in values
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Procedure <strong>ST_SetCoordinate</strong>(
                        SELF  IN OUT NOCOPY T_Vertex,
                        p_x in number default 8,
                        p_y in number default NULL,
                        p_z in number default 3,
                        p_w in number default 3)
             Return T_Vertex Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Assigns supplied values to t_vertex's x,y,z,w ordinates.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>      SELF.x := ROUND(SELF.x,p_dec_places_x);
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_x (number) - value assigned to x Ordinate.
    p_y (number) - value assigned to y Ordinate.
    p_z (number) - value assigned to z Ordinate.
    p_w (number) - value assigned to w Ordinate.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    set serveroutput on size unlimited
    declare
      v_vertex &amp;&amp;INSTALL_SCHEMA..t_vertex;
    begin
      v_vertex := &amp;&amp;INSTALL_SCHEMA..T_Vertex(
                   p_x        =&gt; 147.5489578,
                   p_y        =&gt; -42.53625,
                   p_id       =&gt; 1,
                   p_sdo_gtype=&gt; 2001,
                   p_sdo_srid =&gt; 4283
                 );
      v_vertex.<strong>ST_SetCoordinate</strong>(p_x =&gt; 148, p_y =&gt; -43);
      dbms_output.put_line(v_vertex.<a href="#robo47">ST_AsEWKT</a>());
    END;
    /
    
    SRID=4283;POINT (148 -43)
    PL/SQL procedure successfully completed.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo342"></a>
<a name="T5fVERTEX2fST5fSubtendedAngle"></a>
<h2>24.22.  T_VERTEX/ST_SubtendedAngle [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_SubtendedAngle</strong> -- Returns angle subtended by p_start_vertex/SELF/p_end_vertex
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_SubtendedAngle</strong>(p_start_vertex in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                                      p_end_vertex   in &amp;&amp;INSTALL_SCHEMA..T_Vertex)
             Return Number deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function computes the angle subtended by the three points:
    p_start_vertex ---&gt; SELF ---&gt; p_end_vertex
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_start_vertex (<a href="#robo33">T_VERTEX</a>) -- Vertex that defines first point in angle.
    p_end_vertex   (<a href="#robo33">T_VERTEX</a>) -- Vertex that defines last  point in angle.
    p_projected     (integer) -- Usually called from <a href="#robo24">T_GEOMETRY</a> with SELF.projected.
                                 If either 1 for Projected/Planar and 0 for Geographic/Geodetic.
                                 If NULL, <a href="#robo4">TOOLS</a>.<a href="#robo353">ST_GetSridType</a> is called.
</pre>
<p class="item_name">RESULT</p>
<pre>    angle (NUMBER) - Subtended angle in radians.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Planar in Meters
    select Round(
           <a href="#robo0">COGO</a>.<a href="#robo12">ST_Degrees</a>(
             T_Vertex(
               p_id =&gt; 1,
               p_x  =&gt; 0,
               p_y  =&gt; 0,
               p_sdo_gtype=&gt; 2001,
               p_sdo_srid =&gt; NULL
             )
             .<strong>ST_SubtendedAngle</strong>(
                 T_Vertex(
                    p_id =&gt; 2,
                    p_x  =&gt; 10,
                    p_y  =&gt; 0,
                    p_sdo_gtype=&gt; 2001,
                    p_sdo_srid =&gt; NULL
                 ),
                 T_Vertex(
                    p_id =&gt; 3,
                    p_x  =&gt; 10,
                    p_y  =&gt; 10,
                    p_sdo_gtype=&gt; 2001,
                    p_sdo_srid =&gt; NULL
                 )
             )
           ),8) as sAngle
      from dual;

    SANGLE
    ------
        45

    -- Geodetic
    select <a href="#robo0">COGO</a>.<a href="#robo7">DD2DMS</a>(
            <a href="#robo0">COGO</a>.<a href="#robo12">ST_Degrees</a>(
             T_Vertex(
               p_id =&gt; 1,
               p_x  =&gt; 147.5,
               p_y  =&gt; -42.5,
               p_sdo_gtype=&gt; 2001,
               p_sdo_srid =&gt; 4283
             )
             .<strong>ST_SubtendedAngle</strong>(
                 T_Vertex(
                    p_id =&gt; 2,
                    p_x  =&gt; 147.3,
                    p_y  =&gt; -41.5,
                    p_sdo_gtype=&gt; 2001,
                    p_sdo_srid =&gt; 4283
                 ),
                 T_Vertex(
                    p_id =&gt; 3,
                    p_x  =&gt; 147.8,
                    p_y  =&gt; -41.1,
                    p_sdo_gtype=&gt; 2001,
                    p_sdo_srid =&gt; 4283
                 )
             )
            )
           ) as sAngle
      from dual;

    SANGLE
    --------------
    336°35'43.118"
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo343"></a>
<a name="T5fVERTEX2fST5fTo2D"></a>
<h2>24.23.  T_VERTEX/ST_To2D [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_To2D</strong> -- Removes and Z or measured attributes, adjusts sdo_gtype.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_To2D</strong>
             Return T_Vertex Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Changes dimensionality of underlying T_Vertex object.
    If Vertex is 2D the vertex is returned unchanged.
    If the Vertex is 3D or 4D, any Z or W (measure) will be removed; sdo_gtype is set to 2001.
</pre>
<p class="item_name">RESULT</p>
<pre>    vertex (<a href="#robo33">T_VERTEX</a>)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- <strong>ST_To2D</strong>
    select t_vertex(
             p_id =&gt; 0,
             p_x  =&gt; 1.0,
             p_y  =&gt; 2.0,
             p_z  =&gt; 3.0,
             p_w  =&gt; 4.0,
             p_sdo_gtype =&gt; 4401,
             p_sdo_srid  =&gt; NULL
           )
           .<strong>ST_To2D</strong>()
           .<a href="#robo326">ST_AsText</a>() as Vertex2D
      from dual;

    VERTEX2D
    ------------------------------------------------------
    T_Vertex(X=1,Y=2,Z=NULL,W=NULL,ID=0,GT=2001,SRID=NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo344"></a>
<a name="T5fVERTEX2fST5fTo3D"></a>
<h2>24.24.  T_VERTEX/ST_To3D [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_To3D</strong> -- Adds Z attribute, adjusts sdo_gtype.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_To3D</strong>(p_keep_measure in integer,
                            p_default_z    in number)
             Return T_Vertex Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Changes dimensionality of underlying T_Vertex object.
    If Vertex is 3D the vertex is returned unchanged unless the vertex is additionally measured
    and p_keep_measure = 1. In that case, the Z ordinate will be set to the W (measure) value
    and the W (measure) value set to NULL.
    If Vertex is 2D the vertex is changed to 3D and the Z ordinate set to p_default_z.
    If the Vertex is 4D, any W (measure) is removed unless p_keep_measure is set to 1;
    If p_keep_measure is 1, the W value is copied to the Z ordinate and the W ordinate set to null.
    The sdo_gtype of the returned vertex is always 3001.
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_keep_measure (integer) - If vertex has a measure value, this parameter instructs the function to keep it.
    p_default_z    (number)  - If a Z value has to be created (eg in case of 2D vertex being converted to 3D),
                               this parameter holds the new value for that ordinate.
</pre>
<p class="item_name">RESULT</p>
<pre>    vertex (<a href="#robo33">T_VERTEX</a>)
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- <strong>ST_To3D</strong>
    With Data as (
      select t_vertex(
               p_id        =&gt; 0,
               p_x         =&gt; 1.0,
               p_y         =&gt; 2.0,
               p_sdo_gtype =&gt; 2001,
               p_sdo_srid  =&gt; NULL
             )  as Vertex2D
      from dual
    )
    select a.vertex2D
            .<strong>ST_To3D</strong>(p_keep_measure =&gt; 0,
                     p_default_z    =&gt; 3.0)
            .<a href="#robo336">ST_LRS_Set_Measure</a>(4.0)
            .<a href="#robo326">ST_AsText</a>() as vertex3
      from data a;

    VERTEX3
    ------------------------------------------------
    T_Vertex(X=1,Y=2,Z=3,W=4,ID=0,GT=4401,SRID=NULL)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo345"></a>
<a name="T5fVERTEX2fST5fVertexType"></a>
<h2>24.25.  T_VERTEX/ST_VertexType [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_VertexType</strong> -- Returns vertex ordinates as a MDSYS.VERTEX_TYPE object.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_VertexType</strong>
             Return MDSYS.VERTEX_TYPE Deterministic,
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Constructs a MDSYS.VERTEX_TYPE object from the ordinate variables of the type and returns it.
</pre>
<p class="item_name">RESULT</p>
<pre>    vertex (MDSYS.VERTEX_TYPE) -- eg MDSYS.VERTEX_TYPE(x=&gt;SELF.ST_X,y=&gt;SELF.ST_Y,z=&gt;SELF.ST_Z,w=&gt;SELF.ST_W,id=&gt;SELF.ST_Id);
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- ST_ToVertexType
    select t_vertex(
               p_id        =&gt; 0,
               p_x         =&gt; 1.0,
               p_y         =&gt; 2.0,
               p_z         =&gt; 3.0,
               p_w         =&gt; 4.0,
               p_sdo_gtype =&gt; 4401,
               p_sdo_srid  =&gt; NULL
             ).<strong>ST_VertexType</strong>()  as VertexType
    from dual;

    VERTEXTYPE
    ---------------------------------------------------------------
    MDSYS.VERTEX_TYPE(1,2,3,4,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo346"></a>
<a name="T5fVERTEX2fST5fWithinTolerance"></a>
<h2>24.26.  T_VERTEX/ST_WithinTolerance [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo33">T_VERTEX</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>ST_WithinTolerance</strong> -- Discovers whether supplied vertex is within tolerance of current object vertex (SELF).
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Function <strong>ST_WithinTolerance</strong>(p_vertex    in &amp;&amp;INSTALL_SCHEMA..T_Vertex,
                                       p_tolerance in number default 0.005)
             Return Integer deterministic
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This function calculates distance from current object vertex (SELF) to supplied vertex (p_vertex)
    If distance &lt;= supplied tolerance the function returns 1 (true) otherwise 0 (false).
    p_start_vertex ---&gt; SELF ---&gt; p_end_vertex
</pre>
<p class="item_name">PARAMETERS</p>
<pre>    p_vertex  (<a href="#robo33">T_VERTEX</a>) - Vertex that is to be compared to current object (SELF).
    p_tolerance (NUMBER) - sdo_tolerance for use with sdo_geom.sdo_distance.
</pre>
<p class="item_name">RESULT</p>
<pre>    BOOLEAN (INTEGER) - 1 is True; 0 is False.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Geodetic
    set serveroutput on size unlimited
    With Data as (
      select T_Vertex(
               p_x        =&gt; 147.5,
               p_y        =&gt; -42.5,
               p_id       =&gt; 1,
               p_sdo_gtype=&gt; 2001,
               p_sdo_srid =&gt; 4283
             ) as vertex_1,
             T_Vertex(
                  p_x        =&gt; 147.5,
                  p_y        =&gt; -42.5000003,
                  p_id       =&gt; 2,
                  p_sdo_gtype=&gt; 2001,
                  p_sdo_srid =&gt; 4283
              ) as vertex_2
       from dual
    )
    select a.vertex_1
           .<a href="#robo70">ST_Distance</a>(
               p_vertex    =&gt; new T_Vertex(a.vertex_2),
               p_tolerance =&gt; 0.005,
               p_unit      =&gt; 'unit=M'
             ) as Distance,
           case when t.InTValue = 0 then 0.5 else 0.005 end as tolerance,
           a.vertex_1
           .<strong>ST_WithinTolerance</strong>(
               p_vertex    =&gt; new T_Vertex(a.vertex_2),
               p_tolerance =&gt; case when t.InTValue = 0 then 0.5 else 0.005 end,
               p_projected =&gt; 0
             ) as withinTolerance
      from data a,
           table(<a href="#robo4">TOOLS</a>.generate_series(0,1,1)) t;


      DISTANCE  TOLERANCE WITHINTOLERANCE
    ---------- ---------- ---------------
    .0333585156         .5               1
    .0333585156       .005               0
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - Jan 2013 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2018 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo34"></a>
<a name="OBJECT20TYPE2fT5fVERTEXLIST"></a>
<h1>25.  OBJECT TYPE/T_VERTEXLIST [ Types ]  </h1>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ Types ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>T_VERTEXLIST</strong> -- Object type representing a collection of T_VERTICES
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    An object type that represents an array/collection of T_VERTICES.
    Includes Methods on that type.
</pre>
<p class="item_name">NOTES</p>
<pre>    This also implements JTS's OffsetSegmentString.java.
    A dynamic list of the vertices in a constructed offset curve.
    Automatically removes adjacent vertices which are closer than a given tolerance.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Martin Davis  - 2016 - Java coding.
    Simon Greener - Jul 2019 - extended T_Vertices to include methods derived from OffsetSegmentString.java
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo347"></a>
<a name="T5fVERTEXLIST2faddOrdinates"></a>
<h2>25.1.  T_VERTEXLIST/addOrdinates [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo34">T_VERTEXLIST</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>addOrdinates</strong> -- Allows an sdo_ordinate_array to be directly added to the underlying list.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Procedure <strong>addOrdinates</strong>( 
           SELF        IN OUT NOCOPY <a href="#robo34">T_VERTEXLIST</a>,
           p_dim       in integer,
           p_lrs_dim   in integer,
           p_ordinates in mdsys.sdo_ordinate_array ),
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This procedure allows for an sdo_ordinate_array to be directly added to the underlying list.
    XYZM ordinates are all supported.
    All vertices created adopt the SRID of the VertexList's first vertex.
    Coordinate dimensionality and lrs dim should be same as underling VertexList.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_dim                  (integer) -- The coordinate dimension used to interpret the numbers in the sdo_ordinate_array.
    p_lrs_dim              (integer) -- The dimension for the LRS ordiante.
    p_ordinates (sdo_ordinate_array) -- The sdo_ordinate_array to be added to the vertex list.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Add sdo_ordinate_array to existing vertex list.
    set serveroutput on size unlimited
    declare
      v_vList    t_vertexlist;
      v_vertices &amp;&amp;INSTALL_SCHEMA..T_Vertices;
      v_tgeom    t_geometry;
    begin
      v_vList    := <a href="#robo34">T_VERTEXLIST</a>(p_segment =&gt; &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>(p_line=&gt;sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,1,1))));
      dbms_output.put_line('Before v_vList.count=' || v_vList.vertexList.count);
      v_vList.<strong>addOrdinates</strong>(
               p_dim     =&gt; 2,
               p_lrs_dim =&gt; 0,
               p_ordinates =&gt; sdo_ordinate_array(1,1,2,2,3,3)
       );
       dbms_output.put_line('After v_VList.count=' || v_vList.vertexList.count);
    end;
    /
    show errors
    
    Before v_vList.count=2
    After v_VList.count=5
    
    PL/SQL procedure successfully completed.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - August 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo348"></a>
<a name="T5fVERTEXLIST2faddVertices"></a>
<h2>25.2.  T_VERTEXLIST/addVertices [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo34">T_VERTEXLIST</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>addVertices</strong> -- Enables a collection of vertices to be added to the underlying list.
</pre>
<p class="item_name">SYNOPSIS</p>
<pre>    Member Procedure <strong>addVertices</strong>(SELF       IN OUT NOCOPY &amp;&amp;INSTALL_SCHEMA..<a href="#robo34">T_VERTEXLIST</a>,
                                 p_vertices in &amp;&amp;INSTALL_SCHEMA..T_Vertices, 
                                 isForward  in ineger default 1)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This procedure allows for a collection of <a href="#robo33">T_VERTEX</a> objects to be added to the underlying list.
    XYZM ordinates are all supported.
    isForward is 1, the two vertex lists are merged with no tests are carried out to see if first vertex in list to be added is same as end vertex in underlying list.
    However, when isForward is 2 the lists are merged with a test for duplicate coordinates.
    If isForward is 2, p_vertices is reversed before appending with a duplicate test carried out.
</pre>
<p class="item_name">ARGUMENTS</p>
<pre>    p_vertices (&amp;&amp;INSTALL_SCHEMA..T_Vertices) -- Collection of t_vertex object to add.
    isForward           (boolean) -- Flag indicating whether vertices should be added in reverse order.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    -- Add vertices of two linestrings with no test for duplicates
    set serveroutput on size unlimited
    declare
      v_vList    t_vertexlist;
      v_vertices &amp;&amp;INSTALL_SCHEMA..T_Vertices;
      v_tgeom    t_geometry;
    begin
      v_vList    := <a href="#robo34">T_VERTEXLIST</a>(p_segment =&gt; &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>(p_line=&gt;sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,1,1))));
      dbms_output.put_line('Before v_vList.count=' || v_vList.vertexList.count);
      v_tgeom    := t_geometry(sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(1,1,2,2,3,3)));
      select v.<a href="#robo340">ST_Self</a>() as vertex
        bulk collect into v_vertices
        from table(v_tgeom.<a href="#robo216">ST_Vertices</a>()) v;
       v_vList.<strong>addVertices</strong>(p_vertices  =&gt; v_vertices,
                           p_isForward =&gt; 1);
       dbms_output.put_line('After v_VList.count=' || v_vList.vertexList.count);
    end;
    /
    show errors
    
    Before v_vList.count=2
    After v_VList.count=5
    
    PL/SQL procedure successfully completed.

    -- Now add vertices of two linestrings testing for duplicates
    set serveroutput on size unlimited
    declare
      v_vList    t_vertexlist;
      v_vertices &amp;&amp;INSTALL_SCHEMA..T_Vertices;
      v_tgeom    t_geometry;
    begin
      v_vList    := <a href="#robo34">T_VERTEXLIST</a>(p_segment =&gt; &amp;&amp;INSTALL_SCHEMA..<a href="#robo30">T_SEGMENT</a>(p_line=&gt;sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(0,0,1,1))));
      dbms_output.put_line('Before v_vList.count=' || v_vList.vertexList.count);
      v_tgeom    := t_geometry(sdo_geometry(2002,null,null,sdo_elem_info_array(1,2,1),sdo_ordinate_array(1,1,2,2,3,3)));
      select v.<a href="#robo340">ST_Self</a>() as vertex
        bulk collect into v_vertices
        from table(v_tgeom.<a href="#robo216">ST_Vertices</a>()) v;
       v_vList.<strong>addVertices</strong>(p_vertices  =&gt; v_vertices,
                           p_isForward =&gt; 2);
       dbms_output.put_line('After v_VList.count=' || v_vList.vertexList.count);
    end;
    /
    show errors
    
    Before v_vList.count=2
    After v_VList.count=4
    
    PL/SQL procedure successfully completed.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Simon Greener
</pre>
<p class="item_name">HISTORY</p>
<pre>    Simon Greener - July 2019 - Original coding.
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    (c) 2005-2019 by TheSpatialDBAdvisor/Simon Greener
</pre>
<a name="robo349"></a>
<a name="T5fVERTEXLIST2fATTRIBUTES28T5fVERTEXLIST29"></a>
<h2>25.3.  T_VERTEXLIST/ATTRIBUTES(T_VERTEXLIST) [ Variables ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo34">T_VERTEXLIST</a> ] [ Variables ]</p>
<p class="item_name">ATTRIBUTES</p>
<pre>    seglist is a table of t_segment
    minimimVertexDistance is min distance between two vertices. If less then any vertex is not added.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  vertexList            <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span>T_VERTICES<span class="sign">,</span>
  minimimVertexDistance Number<span class="sign">,</span>
  dPrecision            integer<span class="sign">,</span>
</pre>
<a name="robo350"></a>
<a name="T5fVERTEXLIST2fCONSTRUCTORS28T5fVERTEXE29"></a>
<h2>25.4.  T_VERTEXLIST/CONSTRUCTORS(T_VERTEXE) [ Methods ]  </h2>
<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo34">T_VERTEXLIST</a> ] [ Methods ]</p>
<p class="item_name">NAME</p>
<pre>    A collection of <a href="#robo34">T_VERTEXLIST</a> Constructors.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source">  <span class="sign">-</span><span class="sign">-</span> Useful as an <span class="quote">"Empty"</span> constructor<span class="sign">.</span>
  Constructor Function <a href="#robo34">T_VERTEXLIST</a><span class="sign">(</span>SELF IN OUT NOCOPY <a href="#robo34">T_VERTEXLIST</a><span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo34">T_VERTEXLIST</a><span class="sign">(</span>SELF     IN OUT NOCOPY <a href="#robo34">T_VERTEXLIST</a><span class="sign">,</span>
                                    p_vertex in <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo33">T_VERTEX</a><span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo34">T_VERTEXLIST</a><span class="sign">(</span>SELF        IN OUT NOCOPY <a href="#robo34">T_VERTEXLIST</a><span class="sign">,</span>
                                    p_segment   in <span class="sign">&amp;</span><span class="sign">&amp;</span>INSTALL_SCHEMA<span class="sign">.</span><span class="sign">.</span><a href="#robo30">T_SEGMENT</a><span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>

  Constructor Function <a href="#robo34">T_VERTEXLIST</a><span class="sign">(</span>SELF        IN OUT NOCOPY <a href="#robo34">T_VERTEXLIST</a><span class="sign">,</span>
                                    p_line      in mdsys<span class="sign">.</span>sdo_geometry<span class="sign">)</span>
                Return Self As Result<span class="sign">,</span>
</pre>
<div id="footer">
<p>Generated from ./src/ with <a href="http://www.xs4all.nl/~rfsber/Robo/robodoc.html">ROBODoc</a> V4.99.36 on Sun Aug 25 2019 08:58:40
</p>
</div> <!-- footer -->
</body>
</html>
